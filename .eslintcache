[{"/Users/gregdorward/Development/football-predictions/src/index.js":"1","/Users/gregdorward/Development/football-predictions/src/App.js":"2","/Users/gregdorward/Development/football-predictions/src/reportWebVitals.js":"3","/Users/gregdorward/Development/football-predictions/src/components/spinner.js":"4","/Users/gregdorward/Development/football-predictions/src/components/showCardPotential.js":"5","/Users/gregdorward/Development/football-predictions/src/components/createBadge.js":"6","/Users/gregdorward/Development/football-predictions/src/components/showBttsData.js":"7","/Users/gregdorward/Development/football-predictions/src/components/radio.js":"8","/Users/gregdorward/Development/football-predictions/src/components/Header.js":"9","/Users/gregdorward/Development/football-predictions/src/logic/getFixtures.js":"10","/Users/gregdorward/Development/football-predictions/src/components/createStatsDiv.js":"11","/Users/gregdorward/Development/football-predictions/src/logic/getForm.js":"12","/Users/gregdorward/Development/football-predictions/src/components/Button.js":"13","/Users/gregdorward/Development/football-predictions/src/logic/getScorePredictions.js":"14","/Users/gregdorward/Development/football-predictions/src/components/CollapsableElement.js":"15","/Users/gregdorward/Development/football-predictions/src/components/TextSection.js":"16","/Users/gregdorward/Development/football-predictions/src/logic/getStats.js":"17","/Users/gregdorward/Development/football-predictions/src/components/Div.js":"18","/Users/gregdorward/Development/football-predictions/src/components/Fixture.js":"19","/Users/gregdorward/Development/football-predictions/src/components/CollapsableDiv.js":"20","/Users/gregdorward/Development/football-predictions/src/components/Increment.js":"21","/Users/gregdorward/Development/football-predictions/src/logic/getBTTSPotential.js":"22","/Users/gregdorward/Development/football-predictions/src/components/OddsRadio.js":"23","/Users/gregdorward/Development/football-predictions/src/logic/getTeamStats.js":"24","/Users/gregdorward/Development/football-predictions/src/components/HeadToHead.js":"25","/Users/gregdorward/Development/football-predictions/src/components/BulletList.js":"26","/Users/gregdorward/Development/football-predictions/src/components/Table.js":"27"},{"size":500,"mtime":1623321958283,"results":"28","hashOfConfig":"29"},{"size":6665,"mtime":1631289293819,"results":"30","hashOfConfig":"29"},{"size":362,"mtime":1612138266385,"results":"31","hashOfConfig":"29"},{"size":297,"mtime":1611654841360,"results":"32","hashOfConfig":"29"},{"size":0,"mtime":1611654832610,"results":"33","hashOfConfig":"29"},{"size":252,"mtime":1612138266381,"results":"34","hashOfConfig":"29"},{"size":0,"mtime":1611654828618,"results":"35","hashOfConfig":"29"},{"size":963,"mtime":1621262249615,"results":"36","hashOfConfig":"29"},{"size":144,"mtime":1623942523306,"results":"37","hashOfConfig":"29"},{"size":30619,"mtime":1631285481224,"results":"38","hashOfConfig":"29"},{"size":3154,"mtime":1631290441248,"results":"39","hashOfConfig":"29"},{"size":1222,"mtime":1627911388038,"results":"40","hashOfConfig":"29"},{"size":273,"mtime":1625047346682,"results":"41","hashOfConfig":"29"},{"size":56422,"mtime":1631194761900,"results":"42","hashOfConfig":"29"},{"size":650,"mtime":1616070225969,"results":"43","hashOfConfig":"29"},{"size":180,"mtime":1612138266381,"results":"44","hashOfConfig":"29"},{"size":16257,"mtime":1631289719528,"results":"45","hashOfConfig":"29"},{"size":203,"mtime":1624975662098,"results":"46","hashOfConfig":"29"},{"size":6497,"mtime":1631289061502,"results":"47","hashOfConfig":"29"},{"size":595,"mtime":1614865093901,"results":"48","hashOfConfig":"29"},{"size":1506,"mtime":1631031126580,"results":"49","hashOfConfig":"29"},{"size":1542,"mtime":1631201618138,"results":"50","hashOfConfig":"29"},{"size":930,"mtime":1621959773714,"results":"51","hashOfConfig":"29"},{"size":1929,"mtime":1630681586024,"results":"52","hashOfConfig":"29"},{"size":998,"mtime":1625222457972,"results":"53","hashOfConfig":"29"},{"size":440,"mtime":1625164455163,"results":"54","hashOfConfig":"29"},{"size":3604,"mtime":1630681650728,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"1f0e5p2",{"filePath":"59","messages":"60","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"58"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"58"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"58"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"58"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"58"},"/Users/gregdorward/Development/football-predictions/src/index.js",[],["116","117"],"/Users/gregdorward/Development/football-predictions/src/App.js",["118","119","120","121","122","123"],"/Users/gregdorward/Development/football-predictions/src/reportWebVitals.js",[],"/Users/gregdorward/Development/football-predictions/src/components/spinner.js",[],"/Users/gregdorward/Development/football-predictions/src/components/showCardPotential.js",[],"/Users/gregdorward/Development/football-predictions/src/components/createBadge.js",[],"/Users/gregdorward/Development/football-predictions/src/components/showBttsData.js",[],"/Users/gregdorward/Development/football-predictions/src/components/radio.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Header.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/getFixtures.js",["124"],"import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { orderedLeagues, proxyurl } from \"../App\";\nimport { getForm, applyColour } from \"./getForm\";\nimport { Fixture } from \"../components/Fixture\";\nimport { Button } from \"../components/Button\";\nimport { getScorePrediction } from \"../logic/getScorePredictions\";\nimport { ThreeDots } from \"react-loading-icons\";\nimport { selectedOdds } from \"../components/OddsRadio\";\nvar oddslib = require(\"oddslib\");\n\nrequire(\"dotenv\").config();\n\nvar fixtureResponse;\nvar fixtureArray;\nexport const matches = [];\nexport const resultedMatches = [];\nvar league;\nvar leagueGames = [];\nexport var leagueArray = [];\nvar lastFiveFormHome;\nvar lastFiveFormAway;\nvar lastSixFormHome;\nvar lastSixFormAway;\nvar lastTenFormHome;\nvar lastTenFormAway;\n\nexport const [currentDay, month, year] = new Date()\n  .toLocaleDateString(\"en-US\")\n  .split(\"/\");\nlet tomorrowsDate = new Date();\ntomorrowsDate.setDate(new Date().getDate() + 1);\nlet [\n  tomorrowDay,\n  tomorrowMonth,\n  tomorrowYear,\n] = tomorrowsDate.toLocaleDateString(\"en-US\").split(\"/\");\n\nlet yesterdaysDate = new Date();\nyesterdaysDate.setDate(new Date().getDate() - 1);\nlet [\n  yesterdayDay,\n  yesterdayMonth,\n  yesterdayYear,\n] = yesterdaysDate.toLocaleDateString(\"en-US\").split(\"/\");\n\nexport const yesterday = `${process.env.REACT_APP_EXPRESS_SERVER}matches/${yesterdayYear}-${yesterdayDay}-${yesterdayMonth}`;\nexport const today = `${process.env.REACT_APP_EXPRESS_SERVER}matches/${year}-${currentDay}-${month}`;\nexport const tomorrow = `${process.env.REACT_APP_EXPRESS_SERVER}matches/${tomorrowYear}-${tomorrowDay}-${tomorrowMonth}`;\n\nexport function getRadioState(state) {\n  let radioState = state;\n  return radioState;\n}\n\nexport async function diff(a, b) {\n  return parseFloat(a - b).toFixed(2);\n}\n\nexport let allForm = [];\n\nasync function createFixture(match, result, mockBool) {\n  let roundedHomeOdds;\n  let roundedAwayOdds;\n  let roundedBTTSOdds;\n  let homeFraction;\n  let awayFraction;\n  let bttsFraction;\n\n  if (selectedOdds === \"Fractional\") {\n    if (match.homeOdds !== 0 && match.awayOdds !== 0) {\n      roundedHomeOdds = (Math.round(match.homeOdds * 5) / 5).toFixed(1);\n      roundedAwayOdds = (Math.round(match.awayOdds * 5) / 5).toFixed(1);\n\n      if (roundedHomeOdds < 1.1) {\n        roundedHomeOdds = 1.1;\n      }\n      if (roundedAwayOdds < 1.1) {\n        roundedAwayOdds = 1.1;\n      }\n\n      try {\n        homeFraction = oddslib\n          .from(\"decimal\", roundedHomeOdds)\n          .to(\"fractional\", { precision: 1 });\n        awayFraction = oddslib\n          .from(\"decimal\", roundedAwayOdds)\n          .to(\"fractional\", { precision: 1 });\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      homeFraction = \"N/A\";\n      awayFraction = \"N/A\";\n    }\n\n    if (match.bttsOdds !== 0) {\n      roundedBTTSOdds = (Math.round(match.bttsOdds * 5) / 5).toFixed(1);\n\n      if (roundedBTTSOdds < 1.1) {\n        roundedBTTSOdds = 1.1;\n      }\n\n      try {\n        bttsFraction = oddslib\n          .from(\"decimal\", roundedBTTSOdds)\n          .to(\"fractional\", { precision: 1 });\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      bttsFraction = \"N/A\";\n    }\n  } else if (selectedOdds === \"Decimal\") {\n    if (match.homeOdds !== 0 && match.awayOdds !== 0) {\n      homeFraction = match.homeOdds;\n      awayFraction = match.awayOdds;\n    } else {\n      homeFraction = \"N/A\";\n      awayFraction = \"N/A\";\n    }\n\n    if (match.bttsOdds !== 0) {\n      bttsFraction = match.bttsOdds;\n    } else {\n      bttsFraction = \"N/A\";\n    }\n  }\n\n  match.fractionHome = homeFraction;\n  match.fractionAway = awayFraction;\n\n  match.bttsFraction = bttsFraction;\n\n  match.game = match.homeTeam + \" v \" + match.awayTeam;\n\n  if (mockBool !== true) {\n    ReactDOM.render(\n      <Fixture\n        fixtures={matches}\n        result={result}\n        mock={mockBool}\n        className={\"individualFixture\"}\n      />,\n      document.getElementById(\"FixtureContainer\")\n    );\n  } else if (mockBool === true) {\n    ReactDOM.render(\n      <Fixture\n        fixtures={matches}\n        result={result}\n        mock={mockBool}\n        className={\"individualFixture\"}\n      />,\n      document.getElementById(\"FixtureContainer\")\n    );\n  }\n}\n\nvar myHeaders = new Headers();\nmyHeaders.append(\"Origin\", \"https://gregdorward.github.io\");\n\nexport async function generateFixtures(day, radioState, selectedOdds) {\n  let url;\n  switch (day) {\n    case \"yesterdaysFixtures\":\n      url = yesterday;\n      break;\n    case \"todaysFixtures\":\n      url = today;\n      break;\n    case \"tomorrowsFixtures\":\n      url = tomorrow;\n      break;\n    default:\n      break;\n  }\n\n  fixtureResponse = await fetch(url);\n\n  await fixtureResponse.json().then((fixtures) => {\n    fixtureArray = Array.from(fixtures.data);\n  });\n\n  let form;\n  let formArray;\n  var isFormStored;\n  var isStoredLocally;\n  let storedForm = await fetch(\n    `${process.env.REACT_APP_EXPRESS_SERVER}form${day}`,\n    {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n      },\n    }\n  );\n  if (storedForm.status === 201) {\n    await storedForm.json().then((form) => {\n      formArray = Array.from(form.allForm);\n      isFormStored = true;\n      isStoredLocally = false;\n      allForm = formArray;\n    });\n  } else if (storedForm.status === 200) {\n    await storedForm.json().then((form) => {\n      formArray = Array.from(form.allForm);\n      isFormStored = true;\n      isStoredLocally = false;\n      allForm = formArray;\n    });\n  } else {\n    isFormStored = false;\n    isStoredLocally = false;\n  }\n\n  ReactDOM.render(\n    <div>\n      <div className=\"LoadingText\">Loading all league data</div>\n      <ThreeDots height=\"3em\" />\n    </div>,\n    document.getElementById(\"Buttons\")\n  );\n\n  league = await fetch(\n    `${process.env.REACT_APP_EXPRESS_SERVER}leagues/${currentDay}${month}${year}`\n  );\n\n  var leaguePositions = [];\n\n  if (league.status === 200) {\n    await league.json().then((leagues) => {\n      leagueArray = Array.from(leagues.leagueArray);\n      console.log(leagueArray)\n\n    });\n    //could possibly get league positions from here\n  } else {\n    for (let i = 0; i < orderedLeagues.length; i++) {\n      league = await fetch(\n        `${process.env.REACT_APP_EXPRESS_SERVER}tables/${orderedLeagues[i].element.id}/${currentDay}${month}${year}`\n      );\n      // eslint-disable-next-line no-loop-func\n      await league.json().then((table) => {\n        leagueArray.push(table);\n      });\n\n\n    }\n  }\n\n  for (let i = 0; i < 29; i++) {\n    for (\n      let x = 0;\n      x < leagueArray[i].data.all_matches_table_overall.length;\n      x++\n    ) {\n      let string = leagueArray[i].data.all_matches_table_overall[x];\n      leaguePositions.push({\n        name: string.cleanName,\n        position: string.position,\n        ppg: string.ppg_overall,\n      });\n    }\n  }\n\n  let previousLeagueName;\n\n  for (let i = 0; i < orderedLeagues.length; i++) {\n    leagueGames = fixtureArray.filter(\n      (game) => game.competition_id === orderedLeagues[i].element.id\n    );\n\n    for (const fixture of leagueGames) {\n      const unixTimestamp = fixture.date_unix;\n      const milliseconds = unixTimestamp * 1000;\n      const dateObject = new Date(milliseconds);\n\n      let match = {};\n      if (orderedLeagues[i].name !== previousLeagueName) {\n        match.leagueName = orderedLeagues[i].name;\n      } else {\n        match.leagueName = \"\";\n      }\n      match.id = fixture.id;\n      match.competition_id = fixture.competition_id;\n      match.time = dateObject.toLocaleString(\"en-US\", { hour: \"numeric\" });\n      match.homeTeam = fixture.home_name;\n      match.awayTeam = fixture.away_name;\n      match.homeOdds = fixture.odds_ft_1;\n      match.awayOdds = fixture.odds_ft_2;\n      match.drawOdds = fixture.odds_ft_x;\n      match.homeDoubleChance = fixture.odds_doublechance_1x;\n      match.awayDoubleChance = fixture.odds_doublechance_x2;\n      match.bttsOdds = fixture.odds_btts_yes;\n      match.homeId = fixture.homeID;\n      match.awayId = fixture.awayID;\n      match.form = [];\n      match.homeTeamInfo = [];\n      match.awayTeamInfo = [];\n      match.btts = false;\n\n      previousLeagueName = orderedLeagues[i].name;\n\n      let homeTeaminLeague;\n      let awayTeaminLeague;\n      let teamPositionHome;\n      let teamPositionAway;\n      let teamPositionPrefix;\n      let homePrefix;\n      let awayPrefix;\n      let homeSeasonPPG;\n      let awaySeasonPPG;\n\n      async function getPrefix(position) {\n        switch (position) {\n          case 1:\n          case 21:\n          case 31:\n            teamPositionPrefix = \"st\";\n            break;\n          case 2:\n          case 22:\n          case 32:\n            teamPositionPrefix = \"nd\";\n            break;\n          case 3:\n          case 23:\n          case 33:\n            teamPositionPrefix = \"rd\";\n            break;\n          case 4:\n          case 5:\n          case 6:\n          case 7:\n          case 8:\n          case 9:\n          case 10:\n          case 11:\n          case 12:\n          case 13:\n          case 14:\n          case 15:\n          case 16:\n          case 17:\n          case 18:\n          case 19:\n          case 20:\n          case 24:\n          case 25:\n          case 26:\n          case 27:\n          case 28:\n          case 29:\n          case 30:\n          case 34:\n          case 35:\n          case 36:\n          case 37:\n          case 38:\n          case 39:\n          case 40:\n            teamPositionPrefix = \"th\";\n            break;\n          default:\n            break;\n        }\n        return teamPositionPrefix;\n      }\n\n      try {\n        homeTeaminLeague = leaguePositions.find(\n          (team) => team.name === match.homeTeam\n        );\n\n        teamPositionHome = homeTeaminLeague.position;\n        homePrefix = await getPrefix(teamPositionHome);\n        homeSeasonPPG = homeTeaminLeague.ppg.toFixed(2);\n      } catch (error) {\n        console.log(error);\n        teamPositionHome = \"N/A\";\n        homePrefix = \"\";\n        homeSeasonPPG = \"N/A\";\n      }\n\n      try {\n        awayTeaminLeague = leaguePositions.find(\n          (team) => team.name === match.awayTeam\n        );\n        teamPositionAway = awayTeaminLeague.position;\n        awayPrefix = await getPrefix(teamPositionAway);\n        awaySeasonPPG = awayTeaminLeague.ppg.toFixed(2);\n      } catch (error) {\n        console.log(error);\n        teamPositionAway = \"N/A\";\n        awayPrefix = \"\";\n        awaySeasonPPG = \"N/A\";\n      }\n\n\n      if (!isFormStored) {\n        form = await getForm(match);\n\n        // if (\n        //   form[0].data[0].stats.additional_info &&\n        //   form[1].data[0].stats.additional_info\n        // ) {\n\n        //   //get the last 5 games stats from a big block of text\n        //   var homeExtract = form[0].data[0].stats.additional_info.replace(\n        //     /[\"']/g,\n        //     \"\"\n        //   );\n\n        //   var slug = homeExtract.split(\",53:\").pop().toUpperCase();\n          let homeFormString5 = form[0].data[0].stats.additional_info.formRun_overall.toUpperCase()\n          let awayFormString5 = form[1].data[0].stats.additional_info.formRun_overall.toUpperCase()\n          let homeFormString6 = form[0].data[1].stats.additional_info.formRun_overall.toUpperCase()\n          let awayFormString6 = form[1].data[1].stats.additional_info.formRun_overall.toUpperCase()\n          let homeFormString10 = form[0].data[2].stats.additional_info.formRun_overall.toUpperCase()\n          let awayFormString10 = form[1].data[2].stats.additional_info.formRun_overall.toUpperCase()\n          lastFiveFormHome = Array.from(homeFormString5)\n          lastSixFormHome = Array.from(homeFormString6)\n          lastTenFormHome = Array.from(homeFormString10)\n          lastFiveFormAway = Array.from(awayFormString5)\n          lastSixFormAway = Array.from(awayFormString6)\n          lastTenFormAway = Array.from(awayFormString10)\n\n          if(teamPositionHome === 0){\n            teamPositionHome = \"N/A\"\n            homePrefix = \"\";\n          }\n\n          if(teamPositionAway === 0){\n            teamPositionAway = \"N/A\"\n            awayPrefix = \"\";\n          }\n        // } else {\n        //   lastFiveFormHome = \"N/A\"\n        //   lastFiveFormAway = \"N/A\"\n        // }\n\n        console.log(form[0].data[0].stats)\n        allForm.push({\n          id: match.id,\n          home: {\n            teamName: match.homeTeam,\n            0: {\n              XGOverall: parseFloat(form[0].data[2].stats.xg_for_avg_overall),\n              XG: parseFloat(form[0].data[2].stats.xg_for_avg_home),\n              ScoredOverall: parseFloat(\n                form[0].data[0].stats.seasonScoredNum_overall\n              ),\n              ScoredAverage: parseFloat(\n                form[0].data[0].stats.seasonScoredAVG_home\n              ),\n              PlayedHome: parseFloat(\n                form[0].data[0].stats.seasonMatchesPlayed_home\n              ),\n              PlayedAway: parseFloat(\n                form[0].data[0].stats.seasonMatchesPlayed_away\n              ),\n              ConcededOverall: parseFloat(\n                form[0].data[0].stats.seasonConcededNum_overall\n              ),\n              ConcededAverage: parseFloat(\n                form[0].data[0].stats.seasonConcededAVG_home\n              ),\n              XGAgainstAvgOverall: parseFloat(\n                form[0].data[0].stats.xg_against_avg_overall\n              ),\n              XGAgainstAverage: parseFloat(\n                form[0].data[0].stats.xg_against_avg_home\n              ),\n              CleanSheetPercentage: parseFloat(\n                form[0].data[0].stats.seasonCSPercentage_home\n              ),\n              AveragePossessionOverall: parseFloat(\n                form[0].data[0].stats.possessionAVG_overall\n              ),\n              AveragePossession: parseFloat(\n                form[0].data[0].stats.possessionAVG_home\n              ),\n              AverageShotsOnTargetOverall: parseFloat(\n                form[0].data[0].stats.shotsOnTargetAVG_overall\n              ),\n              AverageShotsOnTarget: parseFloat(\n                form[0].data[0].stats.shotsOnTargetAVG_home\n              ),\n              AverageDangerousAttacksOverall: parseFloat(\n                form[0].data[0].stats.dangerous_attacks_avg_overall\n              ),\n              PPG: parseFloat(form[0].data[0].stats.seasonPPG_home),\n              AttacksHome: parseFloat(form[0].data[0].stats.attacks_avg_home),\n              AttacksAway: parseFloat(form[0].data[0].stats.attacks_avg_away),\n              AverageDangerousAttacks: parseFloat(\n                form[0].data[0].stats.dangerous_attacks_avg_home\n              ),\n              homeAttackAdvantage: parseFloat(\n                form[0].data[0].stats.homeAttackAdvantage\n              ),\n              homeDefenceAdvantage: parseFloat(\n                form[0].data[0].stats.homeDefenceAdvantage\n              ),\n              BTTSPercentage: parseInt(\n                form[0].data[0].stats.seasonBTTSPercentage_home\n              ),\n              LastFiveForm: lastFiveFormHome,\n              LastSixForm: lastSixFormHome,\n              LastTenForm: lastTenFormHome,\n              LeaguePosition: `${teamPositionHome}${homePrefix}`,\n              SeasonPPG: homeSeasonPPG,\n            },\n            1: {\n              XGOverall: parseFloat(form[0].data[1].stats.xg_for_avg_overall),\n              XG: parseFloat(form[0].data[1].stats.xg_for_avg_home),\n              ScoredOverall: parseFloat(\n                form[0].data[1].stats.seasonScoredNum_overall\n              ),\n              ScoredAverage: parseFloat(\n                form[0].data[1].stats.seasonScoredAVG_home\n              ),\n              PlayedHome: parseFloat(\n                form[0].data[1].stats.seasonMatchesPlayed_home\n              ),\n              PlayedAway: parseFloat(\n                form[0].data[1].stats.seasonMatchesPlayed_away\n              ),\n              ConcededOverall: parseFloat(\n                form[0].data[1].stats.seasonConcededNum_overall\n              ),\n              ConcededAverage: parseFloat(\n                form[0].data[1].stats.seasonConcededAVG_home\n              ),\n              XGAgainstAvgOverall: parseFloat(\n                form[0].data[1].stats.xg_against_avg_overall\n              ),\n              XGAgainstAverage: parseFloat(\n                form[0].data[1].stats.xg_against_avg_home\n              ),\n              CleanSheetPercentage: parseFloat(\n                form[0].data[1].stats.seasonCSPercentage_home\n              ),\n              AveragePossessionOverall: parseFloat(\n                form[0].data[1].stats.possessionAVG_overall\n              ),\n              AveragePossession: parseFloat(\n                form[0].data[1].stats.possessionAVG_home\n              ),\n              AverageShotsOnTargetOverall: parseFloat(\n                form[0].data[1].stats.shotsOnTargetAVG_overall\n              ),\n              AverageShotsOnTarget: parseFloat(\n                form[0].data[1].stats.shotsOnTargetAVG_home\n              ),\n              AverageDangerousAttacksOverall: parseFloat(\n                form[0].data[1].stats.dangerous_attacks_avg_overall\n              ),\n              PPG: parseFloat(form[0].data[1].stats.seasonPPG_home),\n              AttacksHome: parseFloat(form[0].data[1].stats.attacks_avg_home),\n              AttacksAway: parseFloat(form[0].data[1].stats.attacks_avg_away),\n              AverageDangerousAttacks: parseFloat(\n                form[0].data[1].stats.dangerous_attacks_avg_home\n              ),\n              homeAttackAdvantage: parseFloat(\n                form[0].data[1].stats.homeAttackAdvantage\n              ),\n              homeDefenceAdvantage: parseFloat(\n                form[0].data[1].stats.homeDefenceAdvantage\n              ),\n              BTTSPercentage: parseInt(\n                form[0].data[1].stats.seasonBTTSPercentage_home\n              ),\n              LastFiveForm: lastFiveFormHome,\n              LastSixForm: lastSixFormHome,\n              LastTenForm: lastTenFormHome,\n              LeaguePosition: `${teamPositionHome}${homePrefix}`,\n              SeasonPPG: homeSeasonPPG,\n            },\n            2: {\n              XGOverall: parseFloat(form[0].data[2].stats.xg_for_avg_overall),\n              XG: parseFloat(form[0].data[2].stats.xg_for_avg_home),\n              ScoredOverall: parseFloat(\n                form[0].data[2].stats.seasonScoredNum_overall\n              ),\n              ScoredAverage: parseFloat(\n                form[0].data[2].stats.seasonScoredAVG_home\n              ),\n              PlayedHome: parseFloat(\n                form[0].data[2].stats.seasonMatchesPlayed_home\n              ),\n              PlayedAway: parseFloat(\n                form[0].data[2].stats.seasonMatchesPlayed_away\n              ),\n              ConcededOverall: parseFloat(\n                form[0].data[2].stats.seasonConcededNum_overall\n              ),\n              ConcededAverage: parseFloat(\n                form[0].data[2].stats.seasonConcededAVG_home\n              ),\n              XGAgainstAvgOverall: parseFloat(\n                form[0].data[2].stats.xg_against_avg_overall\n              ),\n              XGAgainstAverage: parseFloat(\n                form[0].data[2].stats.xg_against_avg_home\n              ),\n              CleanSheetPercentage: parseFloat(\n                form[0].data[2].stats.seasonCSPercentage_home\n              ),\n              AveragePossessionOverall: parseFloat(\n                form[0].data[2].stats.possessionAVG_overall\n              ),\n              AveragePossession: parseFloat(\n                form[0].data[2].stats.possessionAVG_home\n              ),\n              AverageShotsOnTargetOverall: parseFloat(\n                form[0].data[2].stats.shotsOnTargetAVG_overall\n              ),\n              AverageShotsOnTarget: parseFloat(\n                form[0].data[2].stats.shotsOnTargetAVG_home\n              ),\n              AverageDangerousAttacksOverall: parseFloat(\n                form[0].data[2].stats.dangerous_attacks_avg_overall\n              ),\n              PPG: parseFloat(form[0].data[2].stats.seasonPPG_home),\n              AttacksHome: parseFloat(form[0].data[2].stats.attacks_avg_home),\n              AttacksAway: parseFloat(form[0].data[2].stats.attacks_avg_away),\n              AverageDangerousAttacks: parseFloat(\n                form[0].data[2].stats.dangerous_attacks_avg_home\n              ),\n              homeAttackAdvantage: parseFloat(\n                form[0].data[2].stats.homeAttackAdvantage\n              ),\n              homeDefenceAdvantage: parseFloat(\n                form[0].data[2].stats.homeDefenceAdvantage\n              ),\n              BTTSPercentage: parseInt(\n                form[0].data[2].stats.seasonBTTSPercentage_home\n              ),\n              LastFiveForm: lastFiveFormHome,\n              LastSixForm: lastSixFormHome,\n              LastTenForm: lastTenFormHome,\n              LeaguePosition: `${teamPositionHome}${homePrefix}`,\n              SeasonPPG: homeSeasonPPG,\n            },\n          },\n          away: {\n            teamName: match.awayTeam,\n            0: {\n              XGOverall: parseFloat(form[1].data[0].stats.xg_for_avg_overall),\n              XG: parseFloat(form[1].data[0].stats.xg_for_avg_away),\n              ScoredOverall: parseFloat(\n                form[1].data[0].stats.seasonScoredNum_overall\n              ),\n              ScoredAverage: parseFloat(\n                form[1].data[0].stats.seasonScoredAVG_away\n              ),\n              PlayedHome: parseFloat(\n                form[1].data[0].stats.seasonMatchesPlayed_home\n              ),\n              PlayedAway: parseFloat(\n                form[1].data[0].stats.seasonMatchesPlayed_away\n              ),\n              ConcededOverall: parseFloat(\n                form[1].data[0].stats.seasonConcededNum_overall\n              ),\n              ConcededAverage: parseFloat(\n                form[1].data[0].stats.seasonConcededAVG_away\n              ),\n              XGAgainstAvgOverall: parseFloat(\n                form[1].data[0].stats.xg_against_avg_overall\n              ),\n              XGAgainstAverage: parseFloat(\n                form[1].data[0].stats.xg_against_avg_away\n              ),\n              CleanSheetPercentage: parseFloat(\n                form[1].data[0].stats.seasonCSPercentage_away\n              ),\n              AveragePossessionOverall: parseFloat(\n                form[1].data[0].stats.possessionAVG_overall\n              ),\n              AveragePossession: parseFloat(\n                form[1].data[0].stats.possessionAVG_away\n              ),\n              AverageShotsOnTargetOverall: parseFloat(\n                form[1].data[0].stats.shotsOnTargetAVG_overall\n              ),\n              AverageShotsOnTarget: parseFloat(\n                form[1].data[0].stats.shotsOnTargetAVG_away\n              ),\n              AverageDangerousAttacksOverall: parseFloat(\n                form[1].data[0].stats.dangerous_attacks_avg_overall\n              ),\n              PPG: parseFloat(form[1].data[0].stats.seasonPPG_away),\n              AttacksAverage: parseFloat(form[1].data[0].stats.attacks_avg_away),\n              AverageDangerousAttacks: parseFloat(\n                form[1].data[0].stats.dangerous_attacks_avg_away\n              ),\n              BTTSPercentage: parseInt(\n                form[0].data[0].stats.seasonBTTSPercentage_away\n              ),\n              LastFiveForm: lastFiveFormAway,\n              LastSixForm: lastSixFormAway,\n              LastTenForm: lastTenFormAway,\n              LeaguePosition: `${teamPositionAway}${awayPrefix}`,\n              SeasonPPG: awaySeasonPPG,\n            },\n            1: {\n              XGOverall: parseFloat(form[1].data[1].stats.xg_for_avg_overall),\n              XG: parseFloat(form[1].data[1].stats.xg_for_avg_away),\n              ScoredOverall: parseFloat(\n                form[1].data[1].stats.seasonScoredNum_overall\n              ),\n              ScoredAverage: parseFloat(\n                form[1].data[1].stats.seasonScoredAVG_away\n              ),\n              PlayedHome: parseFloat(\n                form[1].data[1].stats.seasonMatchesPlayed_home\n              ),\n              PlayedAway: parseFloat(\n                form[1].data[1].stats.seasonMatchesPlayed_away\n              ),\n              ConcededOverall: parseFloat(\n                form[1].data[1].stats.seasonConcededNum_overall\n              ),\n              ConcededAverage: parseFloat(\n                form[1].data[1].stats.seasonConcededAVG_away\n              ),\n              XGAgainstAvgOverall: parseFloat(\n                form[1].data[1].stats.xg_against_avg_overall\n              ),\n              XGAgainstAverage: parseFloat(\n                form[1].data[1].stats.xg_against_avg_away\n              ),\n              CleanSheetPercentage: parseFloat(\n                form[1].data[1].stats.seasonCSPercentage_away\n              ),\n              AveragePossessionOverall: parseFloat(\n                form[1].data[1].stats.possessionAVG_overall\n              ),\n              AveragePossession: parseFloat(\n                form[1].data[1].stats.possessionAVG_away\n              ),\n              AverageShotsOnTargetOverall: parseFloat(\n                form[1].data[1].stats.shotsOnTargetAVG_overall\n              ),\n              AverageShotsOnTarget: parseFloat(\n                form[1].data[1].stats.shotsOnTargetAVG_away\n              ),\n              AverageDangerousAttacksOverall: parseFloat(\n                form[1].data[1].stats.dangerous_attacks_avg_overall\n              ),\n              PPG: parseFloat(form[1].data[1].stats.seasonPPG_away),\n              AttacksAverage: parseFloat(form[1].data[1].stats.attacks_avg_away),\n              AverageDangerousAttacks: parseFloat(\n                form[1].data[1].stats.dangerous_attacks_avg_away\n              ),\n              BTTSPercentage: parseInt(\n                form[0].data[1].stats.seasonBTTSPercentage_away\n              ),\n              LastFiveForm: lastFiveFormAway,\n              LastSixForm: lastSixFormAway,\n              LastTenForm: lastTenFormAway,\n              LeaguePosition: `${teamPositionAway}${awayPrefix}`,\n              SeasonPPG: awaySeasonPPG,\n            },\n            2: {\n              XGOverall: parseFloat(form[1].data[2].stats.xg_for_avg_overall),\n              XG: parseFloat(form[1].data[2].stats.xg_for_avg_away),\n              ScoredOverall: parseFloat(\n                form[1].data[2].stats.seasonScoredNum_overall\n              ),\n              ScoredAverage: parseFloat(\n                form[1].data[2].stats.seasonScoredAVG_away\n              ),\n              PlayedHome: parseFloat(\n                form[1].data[2].stats.seasonMatchesPlayed_home\n              ),\n              PlayedAway: parseFloat(\n                form[1].data[2].stats.seasonMatchesPlayed_away\n              ),\n              ConcededOverall: parseFloat(\n                form[1].data[2].stats.seasonConcededNum_overall\n              ),\n              ConcededAverage: parseFloat(\n                form[1].data[2].stats.seasonConcededAVG_away\n              ),\n              XGAgainstAvgOverall: parseFloat(\n                form[1].data[2].stats.xg_against_avg_overall\n              ),\n              XGAgainstAverage: parseFloat(\n                form[1].data[2].stats.xg_against_avg_away\n              ),\n              CleanSheetPercentage: parseFloat(\n                form[1].data[2].stats.seasonCSPercentage_away\n              ),\n              AveragePossessionOverall: parseFloat(\n                form[1].data[2].stats.possessionAVG_overall\n              ),\n              AveragePossession: parseFloat(\n                form[1].data[2].stats.possessionAVG_away\n              ),\n              AverageShotsOnTargetOverall: parseFloat(\n                form[1].data[2].stats.shotsOnTargetAVG_overall\n              ),\n              AverageShotsOnTarget: parseFloat(\n                form[1].data[2].stats.shotsOnTargetAVG_away\n              ),\n              AverageDangerousAttacksOverall: parseFloat(\n                form[1].data[2].stats.dangerous_attacks_avg_overall\n              ),\n              PPG: parseFloat(form[1].data[2].stats.seasonPPG_away),\n              AttacksAverage: parseFloat(form[1].data[2].stats.attacks_avg_away),\n              AverageDangerousAttacks: parseFloat(\n                form[1].data[2].stats.dangerous_attacks_avg_away\n              ),\n              BTTSPercentage: parseInt(\n                form[0].data[2].stats.seasonBTTSPercentage_away\n              ),\n              LastFiveForm: lastFiveFormAway,\n              LastSixForm: lastSixFormAway,\n              LastTenForm: lastTenFormAway,\n              LeaguePosition: `${teamPositionAway}${awayPrefix}`,\n              SeasonPPG: awaySeasonPPG,\n            },\n          },\n        });\n      }\n\n      console.log(allForm)\n      match.homeBadge = fixture.home_image;\n      match.awayBadge = fixture.away_image;\n\n      match.homePpg = fixture.home_ppg.toFixed(2);\n      match.homeFormColour = await applyColour(match.homePpg);\n\n      match.awayPpg = fixture.away_ppg.toFixed(2);\n      match.awayFormColour = await applyColour(match.awayPpg);\n\n      match.lastFiveFormHome = lastFiveFormHome;\n      match.lastFiveFormAway = lastFiveFormAway;\n\n      match.status = fixture.status;\n\n      match.btts_potential = fixture.btts_potential;\n      match.game = match.homeTeam + \" v \" + match.awayTeam;\n\n      match.homeGoals = fixture.homeGoalCount;\n      match.awayGoals = fixture.awayGoalCount;\n\n      match.expectedGoalsHomeToDate = fixture.team_a_xg_prematch;\n      match.expectedGoalsAwayToDate = fixture.team_b_xg_prematch;\n\n\n      if (match.status !== \"canceled\" || match.status !== \"suspended\") {\n        matches.push(match);\n        await createFixture(match, false);\n      }\n\n      // console.log(allForm)\n    }\n    // }\n    ReactDOM.render(\n      <Button\n        text={\"Generate predictions\"}\n        onClickEvent={() => getScorePrediction(day)}\n      />,\n      document.getElementById(\"Buttons\")\n    );\n  }\n  if (!isStoredLocally) {\n    await fetch(`${process.env.REACT_APP_EXPRESS_SERVER}allForm${day}`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ allForm }),\n    });\n  }\n  await fetch(\n    `${process.env.REACT_APP_EXPRESS_SERVER}leagues/${currentDay}${month}${year}`,\n    {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ leagueArray }),\n    }\n  );\n}\n\n","/Users/gregdorward/Development/football-predictions/src/components/createStatsDiv.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/getForm.js",["125","126"],"import { proxyurl } from \"../App\";\n\nconst allTeamForm = [];\n\nexport async function applyColour(value) {\n  let colour;\n  switch (true) {\n    case value < 0.49:\n      colour = \"#CD5C5C\";\n      break;\n    case value >= 0.5 && value <= 1:\n      colour = \"#F08080\";\n      break;\n    case value >= 1.01 && value <= 1.25:\n      colour = \"#FFA07A\";\n      break;\n    case value >= 1.26 && value <= 1.5:\n      colour = \"#FFFFE0\";\n      break;\n    case value >= 1.51 && value <= 2:\n      colour = \"#CFDBC5\";\n      break;\n    case value >= 2.01 && value <= 2.5:\n      colour = \"#8AA37B\";\n      break;\n    case value >= 2.51 && value <= 3:\n      colour = \"#3F6826\";\n      break;\n    default:\n      colour = \"white\";\n      break;\n  }\n  return colour;\n}\n\nexport async function getForm(match) {\n  const teams = [match.homeId, match.awayId];\n  const fixtureForm = [];\n\n  for (let i = 0; i < teams.length; i++) {\n    const team = teams[i];\n\n    let response = await fetch(\n      `${process.env.REACT_APP_EXPRESS_SERVER}form/${team}`\n    );\n    await response.json().then((formData) => {\n      console.log(formData.data[0].season_format)\n      fixtureForm[i] = formData;\n      console.log(fixtureForm[i])\n    });\n  }\n  return fixtureForm;\n}\n","/Users/gregdorward/Development/football-predictions/src/components/Button.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/getScorePredictions.js",["127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147"],"import React, { Fragment } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { matches, diff } from \"./getFixtures\";\nimport { Fixture } from \"../components/Fixture\";\nimport { selectedOption } from \"../components/radio\";\nimport Div from \"../components/Div\";\nimport Collapsable from \"../components/CollapsableElement\";\nimport { allForm } from \"../logic/getFixtures\";\nimport Increment from \"../components/Increment\";\nimport { incrementValue } from \"../components/Increment\";\nimport { getBTTSPotential } from \"../logic/getBTTSPotential\";\n\nvar myHeaders = new Headers();\nmyHeaders.append(\"Origin\", \"https://gregdorward.github.io\");\n\nlet finalHomeGoals;\nlet finalAwayGoals;\nlet rawFinalHomeGoals;\nlet rawFinalAwayGoals;\nlet totalGoals = 0;\nlet numberOfGames = 0;\nexport var renderPredictions;\n\nexport function getPointsFromLastX(lastX) {\n  let points = 0;\n  let pointsAddition;\n\n  lastX.forEach((game) => {\n    switch (true) {\n      case game === \"W\":\n        pointsAddition = 3;\n        break;\n      case game === \"D\":\n        pointsAddition = 1;\n        break;\n      case game === \"L\":\n        pointsAddition = 0;\n        break;\n      default:\n        break;\n    }\n\n    points = points + pointsAddition;\n  });\n  return points;\n}\n\nasync function compareStat(statOne, statTwo){\n  let result;\n\n  switch (true) {\n    case statOne === statTwo:\n      result = 0\n      break;\n    case statOne > statTwo:\n      result = 1\n      break;\n    case statOne < statTwo:\n      result = -1\n      break;\n    default:\n      break;\n  }\n  return result;\n}\n\nasync function getOverOrUnderAchievingResult(index, overUnderAchievingSum) {\n  let result;\n  let correction;\n\n  switch (true) {\n    case index === 0:\n      switch (true) {\n        case overUnderAchievingSum <= -1.2:\n          result = \"Overachieving drastically\";\n          correction = -0.4;\n          break;\n        case overUnderAchievingSum < -0.45 && overUnderAchievingSum > -1.2:\n          result = \"Overachieving\";\n          correction = -0.2;\n          break;\n        case overUnderAchievingSum < -0.1 && overUnderAchievingSum >= -0.45:\n          result = \"Overachieving slightly\";\n          correction = -0.1;\n          break;\n        case overUnderAchievingSum > 0.1 && overUnderAchievingSum <= 0.45:\n          result = \"Underachieving slightly\";\n          correction = 0.1;\n          break;\n        case overUnderAchievingSum > 0.45 && overUnderAchievingSum < 1.2:\n          result = \"Underachieving\";\n          correction = 0.2;\n          break;\n        case overUnderAchievingSum >= 1.2:\n          result = \"Underachieving drastically\";\n          correction = 0.4;\n          break;\n        default:\n          result = \"onPar\";\n          correction = 0;\n          break;\n      }\n\n      break;\n\n    case index === 1:\n      switch (true) {\n        case overUnderAchievingSum <= -0.9:\n          result = \"Overachieving drastically\";\n          correction = -0.4;\n          break;\n        case overUnderAchievingSum < -0.35 && overUnderAchievingSum > -0.9:\n          result = \"Overachieving\";\n          correction = -0.2;\n          break;\n        case overUnderAchievingSum < -0.1 && overUnderAchievingSum >= -0.35:\n          result = \"Overachieving slightly\";\n          correction = -0.1;\n          break;\n        case overUnderAchievingSum > 0.1 && overUnderAchievingSum <= 0.35:\n          result = \"Underachieving slightly\";\n          correction = 0.1;\n          break;\n        case overUnderAchievingSum > 0.35 && overUnderAchievingSum < 0.9:\n          result = \"Underachieving\";\n          correction = 0.2;\n          break;\n        case overUnderAchievingSum >= 0.9:\n          result = \"Underachieving drastically\";\n          correction = 0.4;\n          break;\n        default:\n          result = \"onPar\";\n          correction = 0;\n          break;\n      }\n\n      break;\n\n    case index === 2:\n      switch (true) {\n        case overUnderAchievingSum <= -1:\n          result = \"Overachieving drastically\";\n          correction = -0.4;\n          break;\n        case overUnderAchievingSum < -0.5 && overUnderAchievingSum > -1:\n          result = \"Overachieving\";\n          correction = -0.2;\n          break;\n        case overUnderAchievingSum < -0.1 && overUnderAchievingSum >= -0.5:\n          result = \"Overachieving slightly\";\n          correction = -0.1;\n          break;\n        case overUnderAchievingSum > 0.1 && overUnderAchievingSum <= 0.5:\n          result = \"Underachieving slightly\";\n          correction = 0.1;\n          break;\n        case overUnderAchievingSum > 0.5 && overUnderAchievingSum < 1:\n          result = \"Underachieving\";\n          correction = 0.2;\n          break;\n        case overUnderAchievingSum >= 1:\n          result = \"Underachieving drastically\";\n          correction = 0.4;\n          break;\n        default:\n          result = \"onPar\";\n          correction = 0;\n          break;\n      }\n\n      break;\n    default:\n      break;\n  }\n  return [result, correction];\n}\n\nasync function getClinicalRating(form) {\n  let rating;\n  let score;\n  switch (true) {\n    case form.dangerousAttackConversion <= 15:\n      rating = \"excellent\";\n      score = 1.3;\n      break;\n\n    case form.dangerousAttackConversion > 15 &&\n      form.dangerousAttackConversion <= 20:\n      rating = \"great\";\n      score = 1.2;\n      break;\n\n    case form.dangerousAttackConversion > 20 &&\n      form.dangerousAttackConversion <= 25:\n      rating = \"very good\";\n      score = 1.15;\n      break;\n\n    case form.dangerousAttackConversion > 25 &&\n      form.dangerousAttackConversion <= 30:\n      rating = \"good\";\n      score = 1.1;\n      break;\n\n    case form.dangerousAttackConversion > 30 &&\n      form.dangerousAttackConversion <= 35:\n      rating = \"above average\";\n      score = 1.05;\n      break;\n\n    case form.dangerousAttackConversion > 35 &&\n      form.dangerousAttackConversion <= 40:\n      rating = \"average\";\n      score = 1;\n      break;\n\n    case form.dangerousAttackConversion > 40 &&\n      form.dangerousAttackConversion <= 45:\n      rating = \"below average\";\n      score = 0.95;\n      break;\n\n    case form.dangerousAttackConversion > 45 &&\n      form.dangerousAttackConversion <= 50:\n      rating = \"poor\";\n      score = 0.9;\n      break;\n\n    case form.dangerousAttackConversion > 50 &&\n      form.dangerousAttackConversion <= 55:\n      rating = \"very poor\";\n      score = 0.85;\n      break;\n\n    case form.dangerousAttackConversion > 55 &&\n      form.dangerousAttackConversion <= 60:\n      rating = \"terrible\";\n      score = 0.8;\n      break;\n\n    case form.dangerousAttackConversion > 60:\n      rating = \"awful\";\n      score = 0.7;\n      break;\n\n    default:\n      break;\n  }\n\n  return [rating, score];\n}\n\nasync function getQualityOfAttacksScore(score) {\n  let creativityScore;\n\n  switch (true) {\n    case score <= 0.1:\n      creativityScore = 0.8;\n      break;\n    case score <= 0.2 && score > 0.1:\n      creativityScore = 0.85;\n      break;\n    case score <= 0.3 && score > 0.2:\n      creativityScore = 0.9;\n      break;\n    case score <= 0.4 && score > 0.3:\n      creativityScore = 1;\n      break;\n    case score <= 0.5 && score > 0.4:\n      creativityScore = 1.05;\n      break;\n    case score <= 0.6 && score > 0.5:\n      creativityScore = 1.1;\n      break;\n    case score <= 0.7 && score > 0.6:\n      creativityScore = 1.2;\n      break;\n    case score <= 0.8 && score > 0.7:\n      creativityScore = 1.3;\n      break;\n    case score <= 0.9 && score > 0.8:\n      creativityScore = 1.4;\n      break;\n    case score <= 1 && score > 0.9:\n      creativityScore = 1.5;\n      break;\n    default:\n      creativityScore = 1;\n      break;\n  }\n  return creativityScore;\n}\n\nasync function getPointsDifferential(pointsHome, pointsAway) {\n  const differential = await diff(pointsHome, pointsAway);\n  return differential;\n}\n\nasync function getPointWeighting(pointsDiff) {\n  let last5WeightingHome;\n  let last5WeightingAway;\n\n  switch (true) {\n    case pointsDiff >= 12:\n      last5WeightingHome = 0.4;\n      last5WeightingAway = -0.4;\n      break;\n    case pointsDiff >= 10 && pointsDiff < 12:\n      last5WeightingHome = 0.25;\n      last5WeightingAway = -0.25;\n      break;\n    case pointsDiff >= 8 && pointsDiff < 10:\n      last5WeightingHome = 0.15;\n      last5WeightingAway = -0.15;\n      break;\n    case pointsDiff >= 6 && pointsDiff < 8:\n      last5WeightingHome = 0.1;\n      last5WeightingAway = -0.1;\n      break;\n    case pointsDiff >= 4 && pointsDiff < 6:\n      last5WeightingHome = 0.05;\n      last5WeightingAway = -0.05;\n      break;\n    case pointsDiff >= 2 && pointsDiff < 4:\n      last5WeightingHome = 0.01;\n      last5WeightingAway = -0.01;\n      break;\n    case pointsDiff >= 0 && pointsDiff < 2:\n      last5WeightingHome = 0.005;\n      last5WeightingAway = -0.005;\n      break;\n    case pointsDiff < 0 && pointsDiff > -2:\n      last5WeightingHome = -0.005;\n      last5WeightingAway = 0.005;\n      break;\n    case pointsDiff <= -2 && pointsDiff > -4:\n      last5WeightingHome = -0.01;\n      last5WeightingAway = 0.01;\n      break;\n    case pointsDiff <= -4 && pointsDiff > -6:\n      last5WeightingHome = -0.05;\n      last5WeightingAway = 0.05;\n      break;\n    case pointsDiff <= -6 && pointsDiff > -8:\n      last5WeightingHome = -0.1;\n      last5WeightingAway = 0.1;\n      break;\n    case pointsDiff <= -8 && pointsDiff > -10:\n      last5WeightingHome = -0.15;\n      last5WeightingAway = 0.15;\n      break;\n    case pointsDiff <= -10 && pointsDiff > -12:\n      last5WeightingHome = -0.25;\n      last5WeightingAway = 0.25;\n      break;\n    case pointsDiff <= -12:\n      last5WeightingHome = -0.4;\n      last5WeightingAway = 0.4;\n      break;\n    default:\n      last5WeightingHome = 0;\n      last5WeightingAway = 0;\n      break;\n  }\n  return [last5WeightingHome, last5WeightingAway];\n}\n\nasync function getDAPrediction(odds) {\n  let multiplier;\n  switch (true) {\n    case odds <= 1.1:\n      multiplier = 1.5;\n      break;\n    case odds <= 1.2 && odds > 1.1:\n      multiplier = 1.4;\n      break;\n    case odds <= 1.4 && odds > 1.2:\n      multiplier = 1.3;\n      break;\n    case odds <= 1.6 && odds > 1.4:\n      multiplier = 1.2;\n      break;\n    case odds <= 1.8 && odds > 1.6:\n      multiplier = 1.1;\n      break;\n    case odds <= 2 && odds > 1.8:\n      multiplier = 1;\n      break;\n    case odds <= 2.2 && odds > 2:\n      multiplier = 1;\n      break;\n    case odds <= 3 && odds > 2.2:\n      multiplier = 1;\n      break;\n    case odds <= 3.5 && odds > 3:\n      multiplier = 0.9;\n      break;\n    case odds <= 4 && odds > 3.5:\n      multiplier = 0.8;\n      break;\n    case odds <= 5 && odds > 4:\n      multiplier = 0.7;\n      break;\n    case odds <= 6 && odds > 5:\n      multiplier = 0.6;\n      break;\n    case odds <= 8 && odds > 6:\n      multiplier = 0.5;\n      break;\n    case odds > 8:\n      multiplier = 0.4;\n      break;\n    default:\n      break;\n  }\n  return multiplier;\n}\n\n//Calculates scores based on prior XG figures, weighted by odds\nexport async function calculateScore(match, index, divider, id) {\n  let homeRaw;\n  let awayRaw;\n\n  let teams;\n  let calculate = true;\n\n  let gameTotalWeighting;\n\n  switch (true) {\n    case divider === 5:\n      gameTotalWeighting = 1;\n      break;\n    case divider === 6:\n      gameTotalWeighting = 1;\n      break;\n    case divider === 10:\n      gameTotalWeighting = 1;\n      break;\n    default:\n      break;\n  }\n\n  if (\n    allForm.find(\n      (game) =>\n        game.home.teamName === match.homeTeam &&\n        game.away.teamName === match.awayTeam\n    )\n  ) {\n    teams = [\n      allForm.find((game) => game.home.teamName === match.homeTeam).home,\n      allForm.find((game) => game.away.teamName === match.awayTeam).away,\n    ];\n  } else {\n    calculate = false;\n  }\n\n  if (calculate) {\n    for (let i = 0; i < teams.length; i++) {\n      if (teams[0][index].PlayedHome <= 1 || teams[1][index].PlayedAway <= 1) {\n        index = 2;\n        divider = 10;\n      }\n\n      teams[i][index].lastGame = teams[i][index].LastFiveForm[4];\n      teams[i][index].previousToLastGame = teams[i][index].LastFiveForm[3];\n\n      teams[i][index].last5Points = getPointsFromLastX(\n        teams[i][index].LastFiveForm\n      );\n\n      teams[i][index].last6Points = getPointsFromLastX(\n        teams[i][index].LastSixForm\n      );\n\n      teams[i][index].last10Points = getPointsFromLastX(\n        teams[i][index].LastTenForm\n      );\n\n      let last2 = [teams[i][index].lastGame, teams[i][index].previousToLastGame]\n      teams[i][index].last2Points = getPointsFromLastX(\n        last2\n      );\n\n      async function getPointAverage(pointTotal, games){\n        return pointTotal / games\n      }\n\n      let fiveGameAverage = await getPointAverage(teams[i][index].last5Points, 5)\n      let sixGameAverage = await getPointAverage(teams[i][index].last6Points, 6)\n      let tenGameAverage = await getPointAverage(teams[i][index].last10Points, 10)\n\n      // console.log(fiveGameAverage)\n      // console.log(sixGameAverage)\n      // console.log(tenGameAverage)\n\n      async function compareFormTrend(five, six, ten){\n        let text;\n        let score\n\n        if(five >= 2.5){\n          switch (true) {\n            case five > ten:\n              text = \"Outstanding and improving\"\n              score = 9.5\n              break;\n              case five === ten:\n                text = \"Outstanding and consistent\"\n                score = 10\n\n                break;\n                case five < ten:\n                  text = \"Consistently outstanding\"\n                  score = 9\n                  break;\n            default:\n              break;\n          }\n        } else if (five < 2.5 && five >= 2){\n          switch (true) {\n            case five > ten:\n              text = \"Very good and improving\"\n              score = 8.5\n              break;\n              case five === ten:\n                text = \"Very good and consistent\"\n                score = 9\n                break;\n                case five < ten:\n                  text = \"Very good but slightly worsening\"\n                  score = 8\n                  break;\n            default:\n              break;\n          }\n        } else if (five < 2 && five >= 1.5){\n          switch (true) {\n            case five > ten:\n              text = \"Good and improving\"\n              score = 7.5\n              break;\n              case five === ten:\n                text = \"Good and consistent\"\n                score = 8\n                break;\n                case five < ten:\n                  text = \"Good but slightly worsening\"\n                  score = 7\n                  break;\n            default:\n              break;\n          }\n        } else if (five < 1.5 && five >= 1){\n          switch (true) {\n            case five > ten:\n              text = \"Average and improving\"\n              score = 6.5\n              break;\n              case five === ten:\n                text = \"Average and consistent\"\n                score = 7\n                break;\n                case five < ten:\n                  text = \"Average but slightly worsening\"\n                  score = 6\n                  break;\n            default:\n              break;\n          }\n        } else if (five < 1 && five >= 0.5){\n          switch (true) {\n            case five > ten:\n              text = \"Poor but improving\"\n              score = 5.5\n              break;\n              case five === ten:\n                text = \"Poor and consistent\"\n                score = 6\n                break;\n                case five < ten:\n                  text = \"Poor and slightly worsening\"\n                  score = 5\n                  break;\n            default:\n              break;\n          }\n        } else if (five < 0.5){\n          switch (true) {\n            case five > ten:\n              text = \"Terrible but slightly improving\"\n              score = 4.5\n              break;\n              case five === ten:\n                text = \"Consistently terrible\"\n                score = 5\n                break;\n                case five < ten:\n                  text = \"Terrible and worsening\"\n                  score = 4\n                  break;\n            default:\n              break;\n          }\n        } \n        return score\n      }\n\n      teams[i][index].formTrendScore = await compareFormTrend(fiveGameAverage, sixGameAverage, tenGameAverage)\n\n      // console.log(`${match.homeTeam} form score = ${teams[i][index].formTrendScore}`)\n\n      teams[i][index].ScoredAverageShortTerm = teams[i][0].ScoredAverage\n      teams[i][index].ConcededAverageShortTerm = teams[i][0].ConcededAverage\n\n\n      teams[i][index].expectedGoals = parseFloat(teams[i][index].XG);\n      teams[i][index].expectedGoalsConceeded = parseFloat(\n        teams[i][index].XGAgainstAverage\n      );\n      teams[i][index].longTermAverageGoals = teams[i][2].ScoredAverage;\n      teams[i][index].longTermAverageConceeded = teams[i][2].ConcededAverage;\n\n      teams[i][index].expectedGoalsLongTerm = parseFloat(teams[0][2].XG);\n\n      teams[i][index].expectedConceededGoalsLongTerm = parseFloat(\n        teams[i][index].XGAgainstAverage\n      );\n\n\n      teams[i][index].ScoredAverageShortAndLongTerm =\n        (teams[i][index].ScoredAverage + teams[i][index].ScoredAverageShortTerm) /\n        2;\n\n      teams[i][index].expectedGoalsShortAndLongTerm =\n        (teams[i][index].expectedGoalsLongTerm +\n          teams[i][index].expectedGoals) /\n        2;\n\n      teams[i][index].conceededAverageShortAndLongTerm =\n        (teams[i][index].ConcededAverage +\n          teams[i][index].ConcededAverageShortTerm) /\n        2;\n\n\n      if (teams[i][index].ScoredAverage > 0) {\n        teams[i][index].finishingScore = parseFloat(\n          teams[i][index].XG - teams[i][index].ScoredAverage\n        );\n      } else {\n        teams[i][index].finishingScore = 0;\n      }\n\n\n      if (teams[i][index].ConcededAverage > 0) {\n        teams[i][index].goalieRating = parseFloat(\n          teams[i][index].ConcededAverage -\n            teams[i][index].XGAgainstAverage\n        );\n      } else {\n        teams[i][index].goalieRating = 0;\n      }\n\n      teams[i][index].defenceScore = parseInt(\n        teams[i][index].CleanSheetPercentage\n      );\n\n      let defenceScore;\n      defenceScore = teams[i][index].defenceScore;\n\n      switch (true) {\n        case defenceScore === 0:\n          teams[i][index].defenceRating = 1.1;\n          break;\n        case defenceScore > 0 && defenceScore < 20:\n          teams[i][index].defenceRating = 1.05;\n          break;\n        case defenceScore >= 20 && defenceScore < 30:\n          teams[i][index].defenceRating = 1.01;\n          break;\n        case defenceScore >= 30 && defenceScore < 40:\n          teams[i][index].defenceRating = 1;\n          break;\n        case defenceScore >= 40 && defenceScore < 50:\n          teams[i][index].defenceRating = 0.99;\n          break;\n        case defenceScore >= 50 && defenceScore < 60:\n          teams[i][index].defenceRating = 0.95;\n          break;\n        case defenceScore >= 60 && defenceScore < 70:\n          teams[i][index].defenceRating = 0.9;\n          break;\n        case defenceScore >= 70 && defenceScore < 80:\n          teams[i][index].defenceRating = 0.85;\n          break;\n        case defenceScore >= 80:\n          teams[i][index].defenceRating = 0.8;\n          break;\n        default:\n          break;\n      }\n\n      let goalOverOrUnderAchieving = parseFloat(\n        await diff(teams[i][index].finishingScore, 0)\n      );\n\n      let concededOverOrUnderAchieving = parseFloat(\n        await diff(teams[i][index].goalieRating, 0)\n      );\n\n      if (teams[i][index].ScoredAverage < 0.5) {\n        goalOverOrUnderAchieving = goalOverOrUnderAchieving / 4;\n      }\n\n      if (teams[i][index].ConcededAverage < 0.5) {\n        concededOverOrUnderAchieving = concededOverOrUnderAchieving / 4;\n      }\n\n      teams[i][index].overUnderAchievingSumAttack = goalOverOrUnderAchieving;\n\n      teams[i][index].overUnderAchievingSumDefence =\n        concededOverOrUnderAchieving;\n\n      teams[i][index].overUnderAchievingSum =\n        goalOverOrUnderAchieving + concededOverOrUnderAchieving;\n\n      teams[i][index].forecastedXG = parseFloat(teams[i][index].ScoredAverage);\n\n      teams[i][index].forecastedXGConceded = parseFloat(\n        teams[i][index].ConcededAverage\n      );\n\n      teams[0][index].goalsBasedOnAverages = parseFloat(\n        (teams[0][index].forecastedXG + teams[1][index].forecastedXGConceded) /\n          2\n      );\n\n      teams[1][index].goalsBasedOnAverages = parseFloat(\n        (teams[1][index].forecastedXG + teams[0][index].forecastedXGConceded) /\n          2\n      );\n\n      teams[i][index].XGdifferential =\n        parseFloat(teams[i][index].expectedGoals) -\n        parseFloat(teams[i][index].expectedGoalsConceeded);\n\n      teams[0][index].DAmultiplier = await getDAPrediction(match.homeOdds);\n      teams[1][index].DAmultiplier = await getDAPrediction(match.awayOdds);\n\n      switch (true) {\n        case teams[i][index].XGdifferential > 1:\n          teams[i][index].XGWeighting = 1.2;\n          break;\n        case teams[i][index].XGdifferential <= 1 &&\n          teams[i][index].XGdifferential > 0.5:\n          teams[i][index].XGWeighting = 1.1;\n          break;\n        case teams[i][index].XGdifferential <= 0.5 &&\n          teams[i][index].XGdifferential > 0:\n          teams[i][index].XGWeighting = 1.05;\n          break;\n        case teams[i][index].XGdifferential >= -0.5 &&\n          teams[i][index].XGdifferential < 0:\n          teams[i][index].XGWeighting = -0.95;\n          break;\n        case teams[i][index].XGdifferential >= -1 &&\n          teams[i][index].XGdifferential < -0.5:\n          teams[i][index].XGWeighting = 0.9;\n          break;\n        case teams[i][index].XGdifferential < -1:\n          teams[i][index].XGWeighting = 0.8;\n          break;\n        default:\n          teams[i][index].XGWeighting = 1;\n          break;\n      }\n    }\n\n    if (\n      (match.homeOdds === 0 && match.awayOdds === 0) ||\n      (match.homeOdds === \"N/A\" && match.awayOdds === \"N/A\")\n    ) {\n      homeRaw = 1.0;\n      awayRaw = 1.0;\n    } else {\n      homeRaw = (1 / match.homeOdds).toFixed(2);\n      awayRaw = (1 / match.awayOdds).toFixed(2);\n    }\n\n    let formHome = teams[0][index];\n    let formAway = teams[1][index];\n\n    [formHome.overOrUnderAttack, formHome.trueFormAttack] =\n      await getOverOrUnderAchievingResult(\n        index,\n        formHome.overUnderAchievingSumAttack\n      );\n\n    [formHome.overOrUnderDefence, formHome.trueFormDefence] =\n      await getOverOrUnderAchievingResult(\n        index,\n        formHome.overUnderAchievingSumDefence\n      );\n\n    [formAway.overOrUnderAttack, formAway.trueFormAttack] =\n      await getOverOrUnderAchievingResult(\n        index,\n        formAway.overUnderAchievingSumAttack\n      );\n\n    [formAway.overOrUnderDefence, formAway.trueFormDefence] =\n      await getOverOrUnderAchievingResult(\n        index,\n        formAway.overUnderAchievingSumDefence\n      );\n\n      //can update this for last 10\n    let pointsDiff = await getPointsDifferential(\n      formHome.last5Points,\n      formAway.last5Points\n    );\n\n    let [last5WeightingHome, last5WeightingAway] = await getPointWeighting(\n      pointsDiff\n    );\n\n    let PPGweightingHome;\n    let PPGweightingAway;\n\n    if (formHome.SeasonPPG !== \"N/A\" && formAway.SeasonPPG !== \"N/A\") {\n      let homePPG = formHome.SeasonPPG;\n      let awayPPG = formAway.SeasonPPG;\n      let PPGdiff = await diff(homePPG, awayPPG);\n\n      switch (true) {\n        case PPGdiff >= 2:\n          PPGweightingHome = 0.3;\n          PPGweightingAway = -0.3;\n          break;\n        case PPGdiff >= 1.5 && PPGdiff < 2:\n          PPGweightingHome = 0.2;\n          PPGweightingAway = -0.2;\n          break;\n        case PPGdiff >= 1 && PPGdiff < 1.5:\n          PPGweightingHome = 0.1;\n          PPGweightingAway = -0.1;\n          break;\n        case PPGdiff >= 0.5 && PPGdiff < 1:\n          PPGweightingHome = 0.05;\n          PPGweightingAway = -0.05;\n          break;\n        case PPGdiff > 0 && PPGdiff < 0.5:\n          PPGweightingHome = 0.02;\n          PPGweightingAway = -0.02;\n          break;\n        case PPGdiff < 0 && PPGdiff > -0.5:\n          PPGweightingHome = -0.02;\n          PPGweightingAway = 0.02;\n          break;\n        case PPGdiff <= -0.5 && PPGdiff > -1:\n          PPGweightingHome = -0.05;\n          PPGweightingAway = 0.05;\n          break;\n        case PPGdiff <= -1 && PPGdiff > -1.5:\n          PPGweightingHome = -0.1;\n          PPGweightingAway = 0.1;\n          break;\n        case PPGdiff <= -1.5 && PPGdiff > -2:\n          PPGweightingHome = -0.2;\n          PPGweightingAway = 0.2;\n          break;\n        case PPGdiff <= -2:\n          PPGweightingHome = -0.3;\n          PPGweightingAway = 0.3;\n          break;\n        default:\n          PPGweightingHome = 0;\n          PPGweightingAway = 0;\n          break;\n      }\n    } else {\n      PPGweightingHome = 0;\n      PPGweightingAway = 0;\n    }\n\n    formHome.dangerousAttackConversion =\n      formHome.AverageDangerousAttacks / formHome.ScoredAverageShortAndLongTerm;\n    formAway.dangerousAttackConversion =\n      formAway.AverageDangerousAttacks / formAway.ScoredAverageShortAndLongTerm;\n\n    formHome.goalsPerDangerousAttack =\n      formHome.ScoredAverageShortAndLongTerm / formHome.AverageDangerousAttacks;\n    formAway.goalsPerDangerousAttack =\n      formAway.ScoredAverageShortAndLongTerm / formAway.AverageDangerousAttacks;\n\n    [formHome.clinicalRating, formHome.clinicalScore] = await getClinicalRating(\n      formHome\n    );\n    [formAway.clinicalRating, formAway.clinicalScore] = await getClinicalRating(\n      formAway\n    );\n\n    let oddsWeightingHome;\n    let oddsWeightingAway;\n    let homeWeighting;\n    let awayWeighting;\n\n    let weightingSplitHome;\n    let weightingSplitAway;\n    let weighting;\n\n    if (homeRaw > 0) {\n      oddsWeightingHome = homeRaw - awayRaw;\n      oddsWeightingAway = awayRaw - homeRaw;\n\n      weighting = await diff(oddsWeightingHome, oddsWeightingAway);\n\n      if (weighting >= 0) {\n        weightingSplitHome = Math.abs(weighting) / 2;\n        weightingSplitAway = -Math.abs(weighting) / 2;\n      } else if (weighting < 0) {\n        weightingSplitHome = -Math.abs(weighting) / 2;\n        weightingSplitAway = Math.abs(weighting) / 2;\n      } else {\n        weightingSplitHome = 1;\n        weightingSplitAway = 1;\n      }\n    } else {\n      weightingSplitHome = 1;\n      weightingSplitAway = 1;\n    }\n\n    homeWeighting = weightingSplitHome * 0.5;\n    awayWeighting = weightingSplitAway * 0.5;\n\n    let homeCalculation;\n    let awayCalculation;\n\n    homeCalculation = parseFloat(1 + homeWeighting);\n    awayCalculation = parseFloat(1 + awayWeighting);\n\n\n    async function compareTeams(homeForm, awayForm, teamName){\n        let sotComparison = await compareStat(homeForm.AverageShotsOnTarget, awayForm.AverageShotsOnTarget)\n        let possessionComparison = await compareStat(homeForm.AveragePossession, awayForm.AveragePossession)\n        let goalsForComparison = await compareStat(homeForm.ScoredAverage, awayForm.ScoredAverage)\n        let goalsAgainstComparison = await compareStat(awayForm.ConcededAverage, homeForm.ConcededAverage)\n        let XGForComparison = await compareStat(homeForm.XG, awayForm.XG)\n        let XGAgainstComparison = await compareStat(awayForm.XGAgainstAverage, homeForm.XGAgainstAverage)\n        let dangerousAttacksComparison = await compareStat(homeForm.AverageDangerousAttacks, awayForm.AverageDangerousAttacks)\n        let CleanSheetPercentageComparison = await compareStat(homeForm.CleanSheetPercentage, awayForm.CleanSheetPercentage)\n        let clinicalRatingComparison = await compareStat(homeForm.clinicalRating, awayForm.clinicalRating)\n        let XGdifferentialComparison = await compareStat(homeForm.XGdifferential, awayForm.XGdifferential)\n        let overUnderAchievingSumComparison = await compareStat(homeForm.overUnderAchievingSum, awayForm.overUnderAchievingSum)\n        let formTrendScoreComparison = await compareStat(homeForm.formTrendScore, awayForm.formTrendScore)\n        let last5PointsComparison = await compareStat(homeForm.last5Points, awayForm.last5Points)\n        let last6PointsComparison = await compareStat(homeForm.last6Points, awayForm.last6Points)\n        let last10PointsComparison = await compareStat(homeForm.last10Points, awayForm.last10Points)\n        let last2PointsComparison = await compareStat(homeForm.last2Points, awayForm.last2Points)\n        \n\n        const calculation = (sotComparison * 1) + possessionComparison + (dangerousAttacksComparison * 1) + CleanSheetPercentageComparison + \n        clinicalRatingComparison + (XGdifferentialComparison * 1) + (overUnderAchievingSumComparison * 1) + (formTrendScoreComparison * 1) +\n        (last2PointsComparison * 1) + last5PointsComparison + last6PointsComparison + last10PointsComparison\n\n      return calculation\n    }\n\n\n  let teamComparisonScore = await compareTeams(formHome, formAway, match.homeTeam)\n\n  // console.log(`${match.homeTeam} V ${match.awayTeam} ${teamComparisonScore}`)\n\n\n    teams[0][index].predictedDA =\n      teams[0][index].AverageDangerousAttacks * homeCalculation;\n    teams[1][index].predictedDA =\n      teams[1][index].AverageDangerousAttacks * awayCalculation;\n\n    formHome.homeGoalWeighting = parseFloat(\n      1 + formHome.homeAttackAdvantage / 100\n    );\n    formHome.homeDefenceWeighting = parseFloat(\n      1 + formHome.homeDefenceAdvantage / 100\n    );\n\n    const homeGoalsUnweighted = parseFloat(\n      (formHome.expectedGoals + formHome.ScoredAverage) / 2\n    );\n\n    const awayGoalsUnweighted = parseFloat(\n      (formAway.expectedGoals + formAway.ScoredAverage) / 2\n    );\n\n    const homeGoalsWithOddsWeighting = parseFloat(\n      homeGoalsUnweighted + homeCalculation\n    );\n\n    const awayGoalsWithOddsWeighting = parseFloat(\n      awayGoalsUnweighted + awayCalculation\n    );\n\n    const homeGoalsWithAwayDefenceWeighting = parseFloat(\n      homeGoalsWithOddsWeighting * formAway.defenceRating\n    );\n\n    const awayGoalsWithHomeDefenceWeighting = parseFloat(\n      awayGoalsWithOddsWeighting * formHome.defenceRating\n    );\n\n    let homeGoalswithHomeWeighting;\n    let awayGoalswithAwayWeighting;\n\n    homeGoalswithHomeWeighting = parseFloat(homeGoalsWithAwayDefenceWeighting);\n\n    awayGoalswithAwayWeighting = parseFloat(awayGoalsWithHomeDefenceWeighting);\n\n    if (homeGoalswithHomeWeighting < 0) {\n      homeGoalswithHomeWeighting = 0;\n    }\n\n    if (awayGoalswithAwayWeighting < 0) {\n      awayGoalswithAwayWeighting = 0;\n    }\n\n    formHome.creationToConversionScore =\n      formHome.AverageDangerousAttacks / formHome.expectedGoals;\n    formAway.creationToConversionScore =\n      formAway.AverageDangerousAttacks / formAway.expectedGoals;\n\n    formHome.creationToConversionScoreV2 =\n      formHome.AttacksAverage /\n      formHome.AverageDangerousAttacks /\n      formHome.AverageShotsOnTarget /\n      formHome.expectedGoals;\n    formAway.creationToConversionScoreV2 =\n      formAway.AttacksAverage /\n      formAway.AverageDangerousAttacks /\n      formAway.AverageShotsOnTarget /\n      formAway.expectedGoals;\n\n    formHome.attackQualityMultiplier = await getQualityOfAttacksScore(\n      formHome.creationToConversionScoreV2\n    );\n    formAway.attackQualityMultiplier = await getQualityOfAttacksScore(\n      formAway.creationToConversionScoreV2\n    );\n\n    let finalHomeGoals;\n    let finalAwayGoals;\n\n    async function roundCustom(num, form, otherTeamForm) {\n      let wholeNumber = Math.floor(num);\n      let remainder = num - wholeNumber;\n\n      if (wholeNumber !== 0 && remainder >= 0.75) {\n        if (form.overOrUnderAttack === \"Overachieving drastically\" || form.overOrUnderAttack === \"Overachieving\") {\n          return Math.floor(num);\n        } else if (form.overOrUnderAttack === \"Underachieving drastically\" || form.overOrUnderAttack === \"Underachieving\") {\n          return Math.ceil(num);\n        } else if (\n            form.clinicalRating === \"excellent\" ||\n            form.clinicalRating === \"great\" ||\n            form.clinicalRating === \"very good\" ||\n            form.clinicalRating === \"good\"\n          ) {\n            return Math.ceil(num);\n          } else if (\n            form.clinicalRating === \"awful\" ||\n            form.clinicalRating === \"terrible\" ||\n            form.clinicalRating === \"very poor\" ||\n            form.clinicalRating === \"poor\"\n          ) {\n            return Math.floor(num);\n          } else {\n            return Math.round(num)\n          }\n          \n          // else if (remainder >= 0.65){\n          //   return Math.ceil(num)\n          // }\n        } else if (wholeNumber !== 0 && remainder < 0.75) {\n          if (form.overOrUnderAttack === \"Overachieving drastically\" || form.overOrUnderAttack === \"Overachieving\" || form.overOrUnderAttack === \"Overachieving slightly\") {\n\n            return Math.floor(num);\n          } else if (form.overOrUnderAttack === \"Underachieving drastically\") {\n\n            return Math.ceil(num);\n          } else if (\n              form.clinicalRating === \"excellent\" ||\n              form.clinicalRating === \"great\" \n            ) {\n              return Math.ceil(num);\n            } else if (\n              form.clinicalRating !== \"excellent\" ||\n              form.clinicalRating !== \"great\"\n            ) {\n              return Math.floor(num);\n            } else {\n              return Math.round(num);\n            }\n      } else if (\n        wholeNumber === 0 && form.overOrUnderAttack === \"Underachieving drastically\" \n        // form.overOrUnderAttack === \"Overachieving\"\n      ) {\n\n        return Math.ceil(num);\n      }else if (\n        wholeNumber === 0 && form.overOrUnderAttack === \"Overachieving drastically\" \n        // form.overOrUnderAttack === \"Overachieving\"\n      ) {\n        return Math.floor(num);\n      } else if (\n        form.clinicalRating === \"excellent\" ||\n        form.clinicalRating === \"great\" ||\n        form.clinicalRating === \"very good\" \n        // form.clinicalRating === \"good\"\n      ) {\n        console.log(\"rounding up\")\n        return Math.ceil(num);\n      } else if (\n        form.clinicalRating === \"awful\" ||\n        form.clinicalRating === \"terrible\" ||\n        form.clinicalRating === \"very poor\" ||\n        form.clinicalRating === \"poor\"\n      ) {\n        console.log(\"rounding down\")\n        return Math.floor(num);\n      } else if (wholeNumber === 0 && remainder < 0.75) {\n        console.log(\"rounding normally\")\n        return Math.floor(num)\n      } else if (wholeNumber === 0 && remainder >= 0.75) {\n        console.log(\"rounding normally\")\n        return Math.ceil(num)\n      } else {\n        return Math.round(num)\n      }\n    }\n\n    const XGAgainstAdjustedHomeGoals =\n      homeGoalswithHomeWeighting * formAway.AverageGoalsConceededWeightedWithXG;\n    const XGAgainstAdjustedAwayGoals =\n      awayGoalswithAwayWeighting * formHome.AverageGoalsConceededWeightedWithXG;\n\n    const XGAdjustedHomeGoals =\n      (homeGoalswithHomeWeighting + XGAgainstAdjustedHomeGoals) / 2;\n    const XGAdjustedAwayGoals =\n      (awayGoalswithAwayWeighting + XGAgainstAdjustedAwayGoals) / 2;\n\n    const homeGoalDiff = formHome.ScoredAverage - formHome.ConcededAverage;\n    const awayGoalDiff = formAway.ScoredAverage - formAway.ConcededAverage;\n\n    formHome.goalsDifferential =\n      parseFloat(await diff(homeGoalDiff, awayGoalDiff)) / 10;\n    formAway.goalsDifferential =\n      parseFloat(await diff(awayGoalDiff, homeGoalDiff)) / 10;\n\n    // console.log(\n    //   `${match.game} home goalsDifferential = ${formHome.goalsDifferential} away goalsDifferential = ${formAway.goalsDifferential}`\n    // );\n\n    let goalsBasedOnHomeXG =\n      (formHome.expectedGoals + formAway.expectedGoalsConceeded) / 2 *\n      1 + last5WeightingHome\n\n    let goalsBasedOnAwayXG =\n      (formAway.expectedGoals + formHome.expectedGoalsConceeded) / 2 *\n      1 + last5WeightingAway\n\n    let goalCalcHome = (formHome.ScoredAverageShortAndLongTerm + formAway.conceededAverageShortAndLongTerm) / 2;\n    let goalCalcAway = (formAway.ScoredAverageShortAndLongTerm + formHome.conceededAverageShortAndLongTerm) / 2;\n\n    let homeGoalsBasedOnOdds = parseFloat(\n      formHome.goalsFromOdds * formHome.clinicalScore\n    );\n    let awayGoalsBasedOnOdds = parseFloat(\n      formAway.goalsFromOdds * formAway.clinicalScore\n    );\n\n    let homeGoalsBasedOnDA = parseFloat(\n      formHome.goalsPerDangerousAttack * formHome.predictedDA\n    );\n    let awayGoalsBasedOnDA = parseFloat(\n      formAway.goalsPerDangerousAttack * formAway.predictedDA\n    );\n\n    let factorOneHome =\n      (goalCalcHome) +\n      PPGweightingHome * 1 +\n      last5WeightingHome * 2;\n\n      // console.log(match.homeTeam)\n      // console.log(`${goalCalcHome} * ${formAway.defenceRating} * ${formHome.attackQualityMultiplier} +\n      //   ${formHome.goalsDifferential} + \n      //   ${PPGweightingHome} + \n      //   ${last5WeightingHome}`)\n      // console.log(`factor 1 home ${factorOneHome}`)\n\n    let factorTwoHome =\n      (formHome.trueFormGoalsWeighting + formAway.trueFormConceededWeighting) /\n        2 +\n      1;\n\n    let factorOneAway =\n      (goalCalcAway) +\n      PPGweightingAway * 1 +\n      last5WeightingAway * 2;\n\n      // console.log(match.awayTeam)\n      // console.log(`${goalCalcAway} * ${formHome.defenceRating} * ${formAway.attackQualityMultiplier} +\n      //   ${formAway.goalsDifferential} + \n      //   ${PPGweightingAway} + \n      //   ${last5WeightingAway}`)\n      // console.log(`factor 1 home ${factorOneAway}`)\n\n    let factorTwoAway =\n      (formAway.trueFormGoalsWeighting + formHome.trueFormConceededWeighting) /\n        2 +\n      1;\n\n    // console.log(\"FACTOR 2 HOME\");\n    // console.log(factorTwoHome);\n\n    // console.log(\"formHome.trueFormAttack\");\n    // console.log(formHome.trueFormAttack);\n    // console.log(`${match.awayTeam} defence perf = ${formAway.trueFormDefence}`);\n\n    // console.log(\"FACTOR 2 AWAY\");\n    // console.log(factorTwoAway);\n\n    // console.log(\"formAway.trueFormAttack\");\n    // console.log(formAway.trueFormAttack);\n    // console.log(`${match.homeTeam} defence perf = ${formHome.trueFormDefence}`);\n\n    let homeComparisonWeighting;\n    let awayComparisonWeighting;\n    let scoreDiff = await diff(factorOneHome, factorOneAway)\n    let split = scoreDiff / 2\n\n    switch (true) {\n      case teamComparisonScore  < 1 && teamComparisonScore  > -1 && scoreDiff >= 0:\n          homeComparisonWeighting = 0;\n          awayComparisonWeighting = Math.abs(scoreDiff);\n        break;\n      case teamComparisonScore  < 1 && teamComparisonScore  > -1 && scoreDiff < 0:\n        homeComparisonWeighting = Math.abs(scoreDiff);\n        awayComparisonWeighting = 0;\n        break;\n      case teamComparisonScore  > 1 && teamComparisonScore <= 3:\n        homeComparisonWeighting = 0;\n        awayComparisonWeighting = 0; \n        break;\n      case teamComparisonScore > 3 && teamComparisonScore <= 6:\n        homeComparisonWeighting = 0.3;\n        awayComparisonWeighting = -0.3; \n        break;\n      case teamComparisonScore > 6 && teamComparisonScore <= 9:\n        homeComparisonWeighting = 0.5;\n        awayComparisonWeighting = -0.5; \n        break;  \n      case teamComparisonScore > 9 && teamComparisonScore <= 12:\n        homeComparisonWeighting = 0.7;\n        awayComparisonWeighting = -0.7; \n        break;    \n      case teamComparisonScore > 12:\n        homeComparisonWeighting = 1;\n        awayComparisonWeighting = -1; \n        break;  \n      \n      case teamComparisonScore  < -1 && teamComparisonScore >= -3:\n        homeComparisonWeighting = 0;\n        awayComparisonWeighting = 0; \n        break;\n      case teamComparisonScore < -3 && teamComparisonScore >= -6:\n        homeComparisonWeighting = -0.3;\n        awayComparisonWeighting = 0.3; \n        break;\n      case teamComparisonScore < -6 && teamComparisonScore >= -9:\n        homeComparisonWeighting = -0.5;\n        awayComparisonWeighting = 0.5; \n        break;  \n      case teamComparisonScore < -9 && teamComparisonScore >= -12:\n        homeComparisonWeighting = -0.7;\n        awayComparisonWeighting = 0.7; \n        break;    \n      case teamComparisonScore < -12:\n        homeComparisonWeighting = -1;\n        awayComparisonWeighting = 1; \n        break; \n      default:\n        homeComparisonWeighting = 0;\n        awayComparisonWeighting = 0; \n        break;\n    }\n\n    console.log(\n      `${factorOneHome} ${homeCalculation} ${homeComparisonWeighting}`\n    )\n    let experimentalHomeGoals =\n      factorOneHome * homeCalculation +\n      homeComparisonWeighting;\n\n    let experimentalAwayGoals =\n      factorOneAway * awayCalculation +\n      awayComparisonWeighting;\n\n      console.log(\n        `${experimentalHomeGoals} ${experimentalAwayGoals}`\n      )\n\n    let XGGoalsHome =\n      (formHome.AverageGoalsWeightedWithXG +\n        formAway.AverageGoalsConceededWeightedWithXG) /\n      2;\n\n    let XGGoalsAway =\n      (formAway.AverageGoalsWeightedWithXG +\n        formHome.AverageGoalsConceededWeightedWithXG) /\n      2;\n\n  \n\n\n\n    let rawFinalHomeGoals = experimentalHomeGoals\n\n\n    let rawFinalAwayGoals = experimentalAwayGoals\n \n\n    switch (true) {\n      case formHome.overOrUnderAttack === \"Overachieving drastically\":\n        rawFinalHomeGoals = rawFinalHomeGoals - 0.5;\n        break;\n      case formAway.overOrUnderAttack === \"Overachieving drastically\":\n        rawFinalAwayGoals = rawFinalAwayGoals - 0.5;\n        break;\n      case formHome.overOrUnderAttack === \"Overachieving\":\n        rawFinalHomeGoals = rawFinalHomeGoals - 0.2;\n        break;\n      case formAway.overOrUnderAttack === \"Overachieving\":\n        rawFinalAwayGoals = rawFinalAwayGoals - 0.2;\n        break;\n      case formHome.overOrUnderAttack === \"Overachieving slightly\":\n        rawFinalHomeGoals = rawFinalHomeGoals - 0.1;\n        break;\n      case formAway.overOrUnderAttack === \"Overachieving slightly\":\n        rawFinalAwayGoals = rawFinalAwayGoals - 0.1;\n        break;\n      case formHome.overOrUnderAttack === \"Underachieving drastically\":\n        rawFinalHomeGoals = rawFinalHomeGoals + 0.5;\n        break;\n      case formAway.overOrUnderAttack === \"Underachieving drastically\":\n        rawFinalAwayGoals = rawFinalAwayGoals + 0.5;\n        break;\n      case formHome.overOrUnderAttack === \"Underachieving\":\n        rawFinalHomeGoals = rawFinalHomeGoals + 0.2;\n        break;\n      case formAway.overOrUnderAttack === \"Underachieving\":\n        rawFinalAwayGoals = rawFinalAwayGoals + 0.2;\n        break;\n      case formHome.overOrUnderAttack === \"Underachieving slightly\":\n        rawFinalHomeGoals = rawFinalHomeGoals + 0.1;\n        break;\n      case formAway.overOrUnderAttack === \"Underachieving slightly\":\n        rawFinalAwayGoals = rawFinalAwayGoals + 0.1;\n        break;\n      default:\n        break;\n    }\n\n    switch (true) {\n      case formHome.overOrUnderDefence === \"Overachieving drastically\":\n        rawFinalAwayGoals = rawFinalAwayGoals + 0.5;\n        break;\n      case formAway.overOrUnderDefence === \"Overachieving drastically\":\n        rawFinalHomeGoals = rawFinalHomeGoals + 0.5;\n        break;\n      case formHome.overOrUnderDefence === \"Overachieving\":\n        rawFinalAwayGoals = rawFinalAwayGoals + 0.2;\n        break;\n      case formAway.overOrUnderDefence === \"Overachieving\":\n        rawFinalHomeGoals = rawFinalHomeGoals + 0.2;\n        break;\n      case formHome.overOrUnderDefence === \"Overachieving slightly\":\n        rawFinalAwayGoals = rawFinalAwayGoals + 0.1;\n        break;\n      case formAway.overOrUnderDefence === \"Overachieving slightly\":\n        rawFinalHomeGoals = rawFinalHomeGoals + 0.1;\n        break;\n      case formHome.overOrUnderDefence === \"Underachieving drastically\":\n        rawFinalAwayGoals = rawFinalAwayGoals - 0.5;\n        break;\n      case formAway.overOrUnderDefence === \"Underachieving drastically\":\n        rawFinalHomeGoals = rawFinalHomeGoals - 0.5;\n        break;\n      case formHome.overOrUnderDefence === \"Underachieving\":\n        rawFinalAwayGoals = rawFinalAwayGoals - 0.2;\n        break;\n      case formAway.overOrUnderDefence === \"Underachieving\":\n        rawFinalHomeGoals = rawFinalHomeGoals - 0.2;\n        break;\n      case formHome.overOrUnderDefence === \"Underachieving slightly\":\n        rawFinalAwayGoals = rawFinalAwayGoals - 0.1;\n        break;\n      case formAway.overOrUnderDefence === \"Underachieving slightly\":\n        rawFinalHomeGoals = rawFinalHomeGoals - 0.1;\n        break;\n      default:\n        break;\n    }\n\n    if (rawFinalAwayGoals < 0) {\n      let difference = parseFloat((await diff(0, rawFinalAwayGoals)) / 10);\n      rawFinalHomeGoals = rawFinalHomeGoals + difference;\n      rawFinalAwayGoals = 0;\n    }\n    console.log(rawFinalHomeGoals)\n\n    if (rawFinalHomeGoals < 0) {\n      let difference = parseFloat((await diff(0, rawFinalHomeGoals)) / 10);\n      rawFinalAwayGoals = rawFinalAwayGoals + difference;\n      rawFinalHomeGoals = 0;\n    }\n\n    console.log(match.game)\n    console.log(formHome)\n    console.log(formAway)\n    console.log(\"rawFinalHomeGoals\")\n    console.log(rawFinalHomeGoals)\n\n\n    finalHomeGoals = await roundCustom(rawFinalHomeGoals, formHome, formAway);\n    finalAwayGoals = await roundCustom(rawFinalAwayGoals, formAway, formHome);\n\n    console.log(\"finalHomeGoals\")\n    console.log(finalHomeGoals)\n\n    if (finalHomeGoals > 5) {\n      finalHomeGoals = Math.round(\n        (finalHomeGoals + formHome.expectedGoals) / 2\n      );\n    }\n\n    if (finalAwayGoals > 5) {\n      finalAwayGoals = Math.round(\n        (finalAwayGoals + formAway.expectedGoals) / 2\n      );\n    }\n\n\n    if (finalHomeGoals > finalAwayGoals) {\n      match.prediction = \"homeWin\";\n      if (formHome.overUnderAchievingSum < -1) {\n        match.includeInMultis = false;\n      } else {\n        match.includeInMultis = true;\n      }\n    } else if (finalAwayGoals > finalHomeGoals) {\n      match.prediction = \"awayWin\";\n      if (formAway.overUnderAchievingSum < -1) {\n        match.includeInMultis = false;\n      } else {\n        match.includeInMultis = true;\n      }\n    } else if (finalHomeGoals === finalAwayGoals) {\n      match.prediction = \"draw\";\n    }\n\n    switch (true) {\n      case match.homeGoals > match.awayGoals:\n        match.winner = match.homeTeam;\n        match.outcome = \"homeWin\";\n        break;\n      case match.homeGoals === match.awayGoals:\n        match.winner = \"draw\";\n        match.outcome = \"draw\";\n\n        break;\n      case match.homeGoals < match.awayGoals:\n        match.winner = match.awayTeam;\n        match.outcome = \"awayWin\";\n        break;\n      default:\n        break;\n    }\n\n    if (match.status === \"complete\") {\n      if (match.prediction === match.outcome) {\n        match.predictionOutcome = \"Won\";\n      } else if (match.prediction !== match.outcome) {\n        match.predictionOutcome = \"Lost\";\n      }\n    }\n\n    if (match.status === \"complete\") {\n      if (match.predictionOutcome === \"Won\" || match.outcome === \"draw\") {\n        match.doubleChancePredictionOutcome = \"Won\";\n      } else if (match.prediction !== \"Won\" && match.outcome !== \"draw\") {\n        match.doubleChancePredictionOutcome = \"Lost\";\n      }\n    }\n\n    let total = parseInt(finalHomeGoals + finalAwayGoals);\n    totalGoals = totalGoals + total;\n\n    numberOfGames = numberOfGames + 1;\n\n    if (finalHomeGoals < 0) {\n      finalHomeGoals = 0;\n    }\n\n    if (finalAwayGoals < 0) {\n      finalAwayGoals = 0;\n    }\n\n    if (match.status === \"suspended\") {\n      finalHomeGoals = \"P\";\n      finalAwayGoals = \"P\";\n    }\n\n    return [\n      finalHomeGoals,\n      finalAwayGoals,\n      rawFinalHomeGoals,\n      rawFinalAwayGoals,\n    ];\n  } else {\n    finalHomeGoals = 0;\n    finalAwayGoals = 0;\n    rawFinalHomeGoals = 0;\n    rawFinalAwayGoals = 0;\n  }\n\n  return [finalHomeGoals, finalAwayGoals, rawFinalHomeGoals, rawFinalAwayGoals];\n}\n\nasync function getSuccessMeasure(fixtures) {\n  let sumProfit = 0;\n  let sumLoss = 0;\n  let investment = 0;\n  let netProfit;\n\n  for (let i = 0; i < fixtures.length; i++) {\n    if (fixtures[i].status === \"complete\") {\n      sumProfit = sumProfit + fixtures[i].profit;\n      investment = investment + 1;\n      netProfit = (sumProfit - investment).toFixed(2);\n    }\n  }\n\n  let ROI = (netProfit / investment) * 100;\n  var operand = ROI >= 0 ? \"+\" : \"\";\n\n  if (investment > 0) {\n    ReactDOM.render(\n      <Fragment>\n        <Div\n          className={\"SuccessMeasure\"}\n          text={`ROI for all ${investment} W/D/W outcomes: ${operand} ${ROI.toFixed(\n            2\n          )}%`}\n        />\n      </Fragment>,\n      document.getElementById(\"successMeasure\")\n    );\n  } else {\n    return;\n  }\n}\n\nvar tips = [];\nvar longShotTips = [];\nvar bttsArray = [];\nvar accumulatedOdds = 1;\nlet predictions = [];\n\nexport async function getScorePrediction(day, mocked) {\n  let radioSelected = parseInt(selectedOption);\n  let mock = mocked;\n  tips = [];\n  bttsArray = [];\n  longShotTips = [];\n  accumulatedOdds = 1;\n\n  let index = 2;\n  let divider = 10\n  \n  // if (radioSelected === 5) {\n  //   index = 0;\n  //   divider = 5;\n  // } else if (radioSelected === 6) {\n  //   index = 1;\n  //   divider = 6;\n  // } else if (radioSelected === 10) {\n  //   index = 2;\n  //   divider = 10;\n  // } else if (radioSelected === 0) {\n  //   index = 2;\n  //   divider = 10;\n  // }\n\n  await Promise.all(\n    matches.map(async (match) => {\n      // if there are no stored predictions, calculate them based on live data\n      if (match) {\n        switch (true) {\n          case match.status === \"canceled\":\n            match.goalsA = \"P\";\n            match.goalsB = \"P\";\n            break;\n          default:\n            [\n              match.goalsA,\n              match.goalsB,\n              match.unroundedGoalsA,\n              match.unroundedGoalsB,\n            ] = await calculateScore(match, index, divider, match.id);\n            break;\n        }\n      } else {\n        [\n          match.goalsA,\n          match.goalsB,\n          match.unroundedGoalsA,\n          match.unroundedGoalsB,\n        ] = await calculateScore(match, index, divider, match.id);\n      }\n\n      await getBTTSPotential(allForm, match, index);\n\n      let predictionObject;\n      let longShotPredictionObject;\n\n      if (\n        match.unroundedGoalsA - match.unroundedGoalsB > incrementValue &&\n        match.homeOdds !== 0 &&\n        match.fractionHome !== \"N/A\"\n      ) {\n        if (\n          match.prediction !== \"draw\" &&\n          match.status !== \"suspended\" &&\n          match.status !== \"canceled\" &&\n          match.homeOdds < 3 &&\n          match.homePpg > 1 &&\n          match.includeInMultis === true\n        ) {\n          accumulatedOdds =\n            parseFloat(accumulatedOdds) * parseFloat(match.homeOdds);\n\n          predictionObject = {\n            team: `${match.homeTeam} to win`,\n            odds: match.fractionHome,\n            outcome: match.predictionOutcome,\n            goalDifferential: parseFloat(\n              await diff(match.unroundedGoalsA, match.unroundedGoalsB)\n            ),\n          };\n          tips.push(predictionObject);\n        }\n      } else if (\n        match.unroundedGoalsB - match.unroundedGoalsA > incrementValue &&\n        match.awayOdds !== 0 &&\n        match.fractionAway !== \"N/A\"\n      ) {\n        if (\n          match.prediction !== \"draw\" &&\n          match.status !== \"suspended\" &&\n          match.status !== \"canceled\" &&\n          match.awayOdds < 3.5 &&\n          match.awayPpg > 1 &&\n          match.includeInMultis === true\n        ) {\n          accumulatedOdds =\n            parseFloat(accumulatedOdds) * parseFloat(match.awayOdds);\n\n          predictionObject = {\n            team: `${match.awayTeam} to win`,\n            odds: match.fractionAway,\n            outcome: match.predictionOutcome,\n            goalDifferential: parseFloat(\n              await diff(match.unroundedGoalsB, match.unroundedGoalsA)\n            ),\n          };\n          // console.log(\"predictionObjectAWAY\");\n          // console.log(predictionObject);\n          // console.log(match);\n          tips.push(predictionObject);\n        }\n      }\n\n      if (\n        match.btts === true &&\n        match.status !== \"suspended\" &&\n        match.status !== \"canceled\"\n      ) {\n        bttsArray.push(match);\n\n        bttsArray.sort(function (a, b) {\n          return b.combinedBTTS - a.combinedBTTS;\n        });\n      }\n\n      if (\n        match.unroundedGoalsA - 0.5 > match.unroundedGoalsB &&\n        match.homeDoubleChance >= 1.4 &&\n        match.goalsA > match.goalsB\n      ) {\n        longShotPredictionObject = {\n          team: match.homeTeam,\n          odds: match.homeDoubleChance,\n          outcome: match.doubleChancePredictionOutcome,\n          goalDifferential: parseFloat(\n            await diff(match.unroundedGoalsA, match.unroundedGoalsB)\n          ),\n        };\n        if (match.prediction !== \"draw\") {\n          longShotTips.push(longShotPredictionObject);\n        }\n      } else if (\n        match.unroundedGoalsA < match.unroundedGoalsB - 0.5 &&\n        match.awayDoubleChance >= 1.4 &&\n        match.goalsB > match.goalsA\n      ) {\n        longShotPredictionObject = {\n          team: match.awayTeam,\n          odds: match.awayDoubleChance,\n          outcome: match.doubleChancePredictionOutcome,\n          goalDifferential: parseFloat(\n            await diff(match.unroundedGoalsB, match.unroundedGoalsA)\n          ),\n        };\n        if (match.prediction !== \"draw\") {\n          longShotTips.push(longShotPredictionObject);\n        }\n      }\n\n      longShotTips.sort(function (a, b) {\n        return b.goalDifferential - a.goalDifferential;\n      });\n\n      if (mock !== true) {\n        ReactDOM.render(\n          <Fixture\n            fixtures={matches}\n            result={true}\n            mock={mock}\n            className={\"individualFixture\"}\n          />,\n          document.getElementById(\"FixtureContainer\")\n        );\n      } else if (mock === true) {\n        ReactDOM.render(\n          <Fixture\n            fixtures={matches}\n            result={true}\n            mock={mock}\n            className={\"individualFixture\"}\n          />,\n          document.getElementById(\"FixtureContainer\")\n        );\n      }\n\n      predictions.push(match);\n    })\n  );\n  await getSuccessMeasure(matches);\n\n  tips.sort((a, b) => b.goalDifferential - a.goalDifferential);\n  await renderTips();\n}\n\nasync function renderTips() {\n  ReactDOM.render(\n    <div className=\"PredictionContainer\">\n      <Fragment>\n        <Increment />\n        <Collapsable\n          buttonText={\"Build a multi\"}\n          className={\"PredictionsOfTheDay\"}\n          text={\n            <ul className=\"BestPredictions\">\n              <div className=\"BestPredictionsExplainer\">\n                Increase or decrease the size of the multi using the buttons\n                below. Predictions are ordered by confidence in the outcome.\n              </div>\n              {tips.map((tip) => (\n                <li className={tip.outcome} key={tip.team}>\n                  {tip.team}: {tip.odds}\n                </li>\n              ))}\n              <div className=\"AccumulatedOdds\">{`Accumulator odds ~ : ${\n                Math.round(accumulatedOdds) - 1\n              }/1`}</div>\n            </ul>\n          }\n        />\n      </Fragment>\n    </div>,\n    document.getElementById(\"bestPredictions\")\n  );\n\n  ReactDOM.render(\n    <div>\n      <Fragment>\n        <Collapsable\n          buttonText={\"Double chance tips\"}\n          text={\n            <ul className=\"LongshotPredictions\">\n              <lh>Double chance (Win or Draw - decimal odds only)</lh>\n              {longShotTips.map((tip) => (\n                <li className={`${tip.outcome}1`} key={tip.team}>\n                  {tip.team} to win or draw: {tip.odds}\n                </li>\n              ))}\n            </ul>\n          }\n        />\n      </Fragment>\n    </div>,\n    document.getElementById(\"longShots\")\n  );\n\n  ReactDOM.render(\n    <div>\n      <Fragment>\n        <Collapsable\n          className={\"BTTSGames\"}\n          buttonText={\"BTTS games\"}\n          text={\n            <ul className=\"BTTSGames\">\n              <lh>Games with highest chance of BTTS</lh>\n              {bttsArray.map((game) => (\n                <li className={game.bttsOutcome} key={game.game}>\n                  {`${game.game} odds: ${game.bttsFraction}`}\n                </li>\n              ))}\n            </ul>\n          }\n        />\n      </Fragment>\n    </div>,\n    document.getElementById(\"BTTS\")\n  );\n}\n","/Users/gregdorward/Development/football-predictions/src/components/CollapsableElement.js",[],"/Users/gregdorward/Development/football-predictions/src/components/TextSection.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/getStats.js",["148","149"],"/Users/gregdorward/Development/football-predictions/src/components/Div.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Fixture.js",["150"],"/Users/gregdorward/Development/football-predictions/src/components/CollapsableDiv.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Increment.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/getBTTSPotential.js",[],"/Users/gregdorward/Development/football-predictions/src/components/OddsRadio.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/getTeamStats.js",["151","152","153"],"import ReactDOM from \"react-dom\";\nimport HeadToHead from \"../components/HeadToHead\";\nimport BulletList from \"../components/BulletList\";\nimport { Fragment } from \"react\";\nimport Table from \"@material-ui/core/Table\";\nimport CustomizedTables from \"../components/Table\";\nimport { matches } from \"./getFixtures\";\n\nexport async function getTeamStats(id, home, away) {\n  console.log(\"EXECUTED\");\n  let identifier = id;\n  let match = await fetch(\n    `${process.env.REACT_APP_EXPRESS_SERVER}match/${identifier}`\n  );\n  await match.json().then((match) => {\n    console.log(match.data)\n    ReactDOM.render(\n      <Fragment>\n        <h3>Fixture history</h3>\n        <HeadToHead\n          className={\"PreviousMatchStats\"}\n          homeTeam={home}\n          awayTeam={away}\n          stadium={match.data.stadium_name}\n          matches={match.data.h2h.previous_matches_results.totalMatches}\n          homeWins={match.data.h2h.previous_matches_results.team_a_wins}\n          awayWins={match.data.h2h.previous_matches_results.team_b_wins}\n          draws={match.data.h2h.previous_matches_results.draw}\n          averageGoals={match.data.h2h.betting_stats.avg_goals}\n        ></HeadToHead>\n        <CustomizedTables\n          o15Stat={match.data.h2h.betting_stats.over15Percentage}\n          o15Forecast={match.data.o15_potential}\n          o15Odds={match.data.odds_ft_over15}\n          o25Stat={match.data.h2h.betting_stats.over25Percentage}\n          o25Forecast={match.data.o25_potential}\n          o25Odds={match.data.odds_ft_over25}\n          BTTSStat={match.data.h2h.betting_stats.bttsPercentage}\n          BTTSForecast={match.data.btts_potential}\n          BTTSOdds={match.data.odds_btts_yes}\n          CornersStat={\"\"}\n          CornersForecast={match.data.corners_potential}\n          CornersOdds={match.data.odds_corners_over_105}\n        />\n      </Fragment>,\n      document.getElementById(`H2HStats${identifier}`)\n    );\n  });\n}\n","/Users/gregdorward/Development/football-predictions/src/components/HeadToHead.js",[],"/Users/gregdorward/Development/football-predictions/src/components/BulletList.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Table.js",["154"],"import React from \"react\";\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\n\nconst StyledTableCell = withStyles((theme) => ({\n  head: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white,\n    padding: 5,\n    textAlign: \"center\",\n    fontSize: \"2em\",\n    fontFamily: 'inherit',\n  },\n  body: {\n    fontSize: \"2em\",\n    fontFamily: 'inherit',\n    padding: 10,\n  },\n}))(TableCell);\n\nconst StyledTableRow = withStyles((theme) => ({\n  root: {\n    \"&:nth-of-type(odd)\": {\n      backgroundColor: theme.palette.action.hover,\n      textAlign: \"center\",\n    },\n  },\n}))(TableRow);\n\n\nexport default function CustomizedTables(props) {\n\n\n  return (\n    <TableContainer component={Paper} className=\"StatsTable\">\n      <Table aria-label=\"customized table\">\n        <TableHead>\n          <TableRow>\n            <StyledTableCell>Stats (from footystats.org)</StyledTableCell>\n            <StyledTableCell>H2H history</StyledTableCell>\n            <StyledTableCell>Forecast</StyledTableCell>\n            <StyledTableCell>Odds</StyledTableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          <StyledTableRow key=\"O15\">\n            <StyledTableCell component=\"th\" scope=\"row\" align=\"center\" padding=\"5\">\n              Over 1.5 Goals %\n            </StyledTableCell>\n            <StyledTableCell component=\"th\" scope=\"row\" align=\"center\">\n              {`${props.o15Stat}%`}\n            </StyledTableCell>\n            <StyledTableCell align=\"center\">{`${props.o15Forecast}%`}</StyledTableCell>\n            <StyledTableCell align=\"center\">{props.o15Odds}</StyledTableCell>\n          </StyledTableRow>\n\n          <StyledTableRow key=\"O25\">\n            <StyledTableCell component=\"th\" scope=\"row\" align=\"center\">\n              Over 2.5 Goals %\n            </StyledTableCell>\n            <StyledTableCell component=\"th\" scope=\"row\" align=\"center\">\n              {`${props.o25Stat}%`}\n            </StyledTableCell>\n            <StyledTableCell align=\"center\">{`${props.o25Forecast}%`}</StyledTableCell>\n            <StyledTableCell align=\"center\">{props.o25Odds}</StyledTableCell>\n          </StyledTableRow>\n\n          <StyledTableRow key=\"BTTS\">\n            <StyledTableCell component=\"th\" scope=\"row\" align=\"center\">\n              BTTS %\n            </StyledTableCell>\n            <StyledTableCell component=\"th\" scope=\"row\" align=\"center\">\n              {`${props.BTTSStat}%`}\n            </StyledTableCell>\n            <StyledTableCell align=\"center\">{`${props.BTTSForecast}%`}</StyledTableCell>\n            <StyledTableCell align=\"center\">{props.BTTSOdds}</StyledTableCell>\n          </StyledTableRow>\n\n          <StyledTableRow key=\"Corners\">\n            <StyledTableCell component=\"th\" scope=\"row\" align=\"center\">\n              Over 10.5 Corners\n            </StyledTableCell>\n            <StyledTableCell component=\"th\" scope=\"row\" align=\"center\">\n              {`${props.CornersStat}`}\n            </StyledTableCell>\n            <StyledTableCell align=\"center\">{props.CornersForecast}</StyledTableCell>\n            <StyledTableCell align=\"center\">{props.CornersOdds}</StyledTableCell>\n          </StyledTableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n",{"ruleId":"155","replacedBy":"156"},{"ruleId":"157","replacedBy":"158"},{"ruleId":"159","severity":1,"message":"160","line":4,"column":8,"nodeType":"161","messageId":"162","endLine":4,"endColumn":13},{"ruleId":"159","severity":1,"message":"163","line":10,"column":3,"nodeType":"161","messageId":"162","endLine":10,"endColumn":8},{"ruleId":"159","severity":1,"message":"164","line":12,"column":3,"nodeType":"161","messageId":"162","endLine":12,"endColumn":24},{"ruleId":"159","severity":1,"message":"165","line":13,"column":3,"nodeType":"161","messageId":"162","endLine":13,"endColumn":11},{"ruleId":"159","severity":1,"message":"166","line":14,"column":3,"nodeType":"161","messageId":"162","endLine":14,"endColumn":12},{"ruleId":"159","severity":1,"message":"167","line":17,"column":8,"nodeType":"161","messageId":"162","endLine":17,"endColumn":17},{"ruleId":"159","severity":1,"message":"168","line":3,"column":26,"nodeType":"161","messageId":"162","endLine":3,"endColumn":34},{"ruleId":"159","severity":1,"message":"168","line":1,"column":10,"nodeType":"161","messageId":"162","endLine":1,"endColumn":18},{"ruleId":"159","severity":1,"message":"169","line":3,"column":7,"nodeType":"161","messageId":"162","endLine":3,"endColumn":18},{"ruleId":"159","severity":1,"message":"170","line":438,"column":7,"nodeType":"161","messageId":"162","endLine":438,"endColumn":25},{"ruleId":"159","severity":1,"message":"171","line":599,"column":19,"nodeType":"161","messageId":"162","endLine":599,"endColumn":23},{"ruleId":"159","severity":1,"message":"172","line":946,"column":13,"nodeType":"161","messageId":"162","endLine":946,"endColumn":31},{"ruleId":"159","severity":1,"message":"173","line":947,"column":13,"nodeType":"161","messageId":"162","endLine":947,"endColumn":35},{"ruleId":"159","severity":1,"message":"174","line":948,"column":13,"nodeType":"161","messageId":"162","endLine":948,"endColumn":28},{"ruleId":"159","severity":1,"message":"175","line":949,"column":13,"nodeType":"161","messageId":"162","endLine":949,"endColumn":32},{"ruleId":"159","severity":1,"message":"176","line":1145,"column":11,"nodeType":"161","messageId":"162","endLine":1145,"endColumn":30},{"ruleId":"159","severity":1,"message":"177","line":1147,"column":11,"nodeType":"161","messageId":"162","endLine":1147,"endColumn":30},{"ruleId":"159","severity":1,"message":"178","line":1162,"column":9,"nodeType":"161","messageId":"162","endLine":1162,"endColumn":27},{"ruleId":"159","severity":1,"message":"179","line":1166,"column":9,"nodeType":"161","messageId":"162","endLine":1166,"endColumn":27},{"ruleId":"159","severity":1,"message":"180","line":1173,"column":9,"nodeType":"161","messageId":"162","endLine":1173,"endColumn":29},{"ruleId":"159","severity":1,"message":"181","line":1176,"column":9,"nodeType":"161","messageId":"162","endLine":1176,"endColumn":29},{"ruleId":"159","severity":1,"message":"182","line":1180,"column":9,"nodeType":"161","messageId":"162","endLine":1180,"endColumn":27},{"ruleId":"159","severity":1,"message":"183","line":1183,"column":9,"nodeType":"161","messageId":"162","endLine":1183,"endColumn":27},{"ruleId":"159","severity":1,"message":"184","line":1199,"column":9,"nodeType":"161","messageId":"162","endLine":1199,"endColumn":22},{"ruleId":"159","severity":1,"message":"185","line":1216,"column":9,"nodeType":"161","messageId":"162","endLine":1216,"endColumn":22},{"ruleId":"159","severity":1,"message":"186","line":1238,"column":9,"nodeType":"161","messageId":"162","endLine":1238,"endColumn":14},{"ruleId":"159","severity":1,"message":"187","line":1311,"column":9,"nodeType":"161","messageId":"162","endLine":1311,"endColumn":20},{"ruleId":"159","severity":1,"message":"188","line":1316,"column":9,"nodeType":"161","messageId":"162","endLine":1316,"endColumn":20},{"ruleId":"159","severity":1,"message":"189","line":1540,"column":7,"nodeType":"161","messageId":"162","endLine":1540,"endColumn":14},{"ruleId":"159","severity":1,"message":"190","line":1579,"column":7,"nodeType":"161","messageId":"162","endLine":1579,"endColumn":20},{"ruleId":"159","severity":1,"message":"191","line":5,"column":10,"nodeType":"161","messageId":"162","endLine":5,"endColumn":24},{"ruleId":"159","severity":1,"message":"192","line":6,"column":19,"nodeType":"161","messageId":"162","endLine":6,"endColumn":30},{"ruleId":"159","severity":1,"message":"193","line":7,"column":5,"nodeType":"161","messageId":"162","endLine":7,"endColumn":15},{"ruleId":"159","severity":1,"message":"194","line":3,"column":8,"nodeType":"161","messageId":"162","endLine":3,"endColumn":18},{"ruleId":"159","severity":1,"message":"195","line":5,"column":8,"nodeType":"161","messageId":"162","endLine":5,"endColumn":13},{"ruleId":"159","severity":1,"message":"196","line":7,"column":10,"nodeType":"161","messageId":"162","endLine":7,"endColumn":17},{"ruleId":"159","severity":1,"message":"197","line":2,"column":22,"nodeType":"161","messageId":"162","endLine":2,"endColumn":32},"no-native-reassign",["198"],"no-negated-in-lhs",["199"],"no-unused-vars","'Radio' is defined but never used.","Identifier","unusedVar","'today' is defined but never used.","'generatePriorFixtures' is defined but never used.","'tomorrow' is defined but never used.","'yesterday' is defined but never used.","'TextBlock' is defined but never used.","'proxyurl' is defined but never used.","'allTeamForm' is assigned a value but never used.","'gameTotalWeighting' is assigned a value but never used.","'text' is assigned a value but never used.","'goalsForComparison' is assigned a value but never used.","'goalsAgainstComparison' is assigned a value but never used.","'XGForComparison' is assigned a value but never used.","'XGAgainstComparison' is assigned a value but never used.","'XGAdjustedHomeGoals' is assigned a value but never used.","'XGAdjustedAwayGoals' is assigned a value but never used.","'goalsBasedOnHomeXG' is assigned a value but never used.","'goalsBasedOnAwayXG' is assigned a value but never used.","'homeGoalsBasedOnOdds' is assigned a value but never used.","'awayGoalsBasedOnOdds' is assigned a value but never used.","'homeGoalsBasedOnDA' is assigned a value but never used.","'awayGoalsBasedOnDA' is assigned a value but never used.","'factorTwoHome' is assigned a value but never used.","'factorTwoAway' is assigned a value but never used.","'split' is assigned a value but never used.","'XGGoalsHome' is assigned a value but never used.","'XGGoalsAway' is assigned a value but never used.","'sumLoss' is assigned a value but never used.","'radioSelected' is assigned a value but never used.","'selectedOption' is defined but never used.","'leagueArray' is defined but never used.","'leagueName' is defined but never used.","'BulletList' is defined but never used.","'Table' is defined but never used.","'matches' is defined but never used.","'makeStyles' is defined but never used.","no-global-assign","no-unsafe-negation"]