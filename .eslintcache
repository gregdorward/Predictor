[{"/Users/gregdorward/Development/football-predictions/src/index.js":"1","/Users/gregdorward/Development/football-predictions/src/App.js":"2","/Users/gregdorward/Development/football-predictions/src/reportWebVitals.js":"3","/Users/gregdorward/Development/football-predictions/src/components/spinner.js":"4","/Users/gregdorward/Development/football-predictions/src/components/showCardPotential.js":"5","/Users/gregdorward/Development/football-predictions/src/components/createBadge.js":"6","/Users/gregdorward/Development/football-predictions/src/components/showBttsData.js":"7","/Users/gregdorward/Development/football-predictions/src/components/radio.js":"8","/Users/gregdorward/Development/football-predictions/src/components/Header.js":"9","/Users/gregdorward/Development/football-predictions/src/logic/getFixtures.js":"10","/Users/gregdorward/Development/football-predictions/src/components/createStatsDiv.js":"11","/Users/gregdorward/Development/football-predictions/src/logic/getForm.js":"12","/Users/gregdorward/Development/football-predictions/src/components/Button.js":"13","/Users/gregdorward/Development/football-predictions/src/logic/getScorePredictions.js":"14","/Users/gregdorward/Development/football-predictions/src/components/CollapsableElement.js":"15","/Users/gregdorward/Development/football-predictions/src/components/TextSection.js":"16","/Users/gregdorward/Development/football-predictions/src/logic/getStats.js":"17","/Users/gregdorward/Development/football-predictions/src/components/Div.js":"18","/Users/gregdorward/Development/football-predictions/src/components/CollapsableDiv.js":"19","/Users/gregdorward/Development/football-predictions/src/components/Increment.js":"20","/Users/gregdorward/Development/football-predictions/src/logic/getBTTSPotential.js":"21","/Users/gregdorward/Development/football-predictions/src/components/OddsRadio.js":"22","/Users/gregdorward/Development/football-predictions/src/logic/getTeamStats.js":"23","/Users/gregdorward/Development/football-predictions/src/components/HeadToHead.js":"24","/Users/gregdorward/Development/football-predictions/src/components/BulletList.js":"25","/Users/gregdorward/Development/football-predictions/src/components/Table.js":"26","/Users/gregdorward/Development/football-predictions/src/components/LeagueTable.js":"27","/Users/gregdorward/Development/football-predictions/src/components/Fixture.js":"28","/Users/gregdorward/Development/football-predictions/src/components/KofiButton.js":"29","/Users/gregdorward/Development/football-predictions/src/components/Chart.js":"30","/Users/gregdorward/Development/football-predictions/src/logic/compareFormTrend.js":"31","/Users/gregdorward/Development/football-predictions/src/components/Toggle.js":"32","/Users/gregdorward/Development/football-predictions/src/components/Carousel.js":"33","/Users/gregdorward/Development/football-predictions/src/components/DayPicker.js":"34","/Users/gregdorward/Development/football-predictions/src/components/DateForm.js":"35","/Users/gregdorward/Development/football-predictions/src/logic/dataSlice.js":"36","/Users/gregdorward/Development/football-predictions/src/logic/store.js":"37","/Users/gregdorward/Development/football-predictions/src/components/Team.js":"38","/Users/gregdorward/Development/football-predictions/src/components/Checkbox.js":"39","/Users/gregdorward/Development/football-predictions/src/components/Slider.js":"40","/Users/gregdorward/Development/football-predictions/src/components/SliderDiff.js":"41","/Users/gregdorward/Development/football-predictions/src/components/Switch.js":"42","/Users/gregdorward/Development/football-predictions/src/components/SofaScore.js":"43","/Users/gregdorward/Development/football-predictions/src/components/TeamOfTheWeek.js":"44","/Users/gregdorward/Development/football-predictions/src/components/TeamOfTheSeason.js":"45","/Users/gregdorward/Development/football-predictions/src/components/Logo.js":"46","/Users/gregdorward/Development/football-predictions/src/components/PreviousGames.js":"47","/Users/gregdorward/Development/football-predictions/src/components/CollapsableStats.js":"48","/Users/gregdorward/Development/football-predictions/src/components/Contact.js":"49","/Users/gregdorward/Development/football-predictions/src/components/Success.js":"50","/Users/gregdorward/Development/football-predictions/src/components/Cancel.js":"51","/Users/gregdorward/Development/football-predictions/src/logic/authProvider.js":"52","/Users/gregdorward/Development/football-predictions/src/firebase.js":"53","/Users/gregdorward/Development/football-predictions/src/components/Login.js":"54","/Users/gregdorward/Development/football-predictions/src/logic/hasUserPaid.js":"55","/Users/gregdorward/Development/football-predictions/src/components/ProtectedContent.js":"56","/Users/gregdorward/Development/football-predictions/src/components/ResetPasswordPage.js":"57","/Users/gregdorward/Development/football-predictions/src/components/PasswordReset.js":"58","/Users/gregdorward/Development/football-predictions/src/components/CancelSubscription.js":"59","/Users/gregdorward/Development/football-predictions/src/components/Under25.js":"60","/Users/gregdorward/Development/football-predictions/src/components/Over25.js":"61","/Users/gregdorward/Development/football-predictions/src/logic/getStatsInsights.js":"62","/Users/gregdorward/Development/football-predictions/src/components/HighestScoringTeams.js":"63","/Users/gregdorward/Development/football-predictions/src/components/HighestScoringFixtures.js":"64","/Users/gregdorward/Development/football-predictions/src/components/BTTSFixtures.js":"65","/Users/gregdorward/Development/football-predictions/src/components/BTTSTeams.js":"66","/Users/gregdorward/Development/football-predictions/src/components/GameStats.js":"67","/Users/gregdorward/Development/football-predictions/src/logic/getAIStats.js":"68","/Users/gregdorward/Development/football-predictions/src/components/MultitypeChart.js":"69","/Users/gregdorward/Development/football-predictions/src/components/CarouselXGChart.js":"70"},{"size":2216,"mtime":1740154014488,"results":"71","hashOfConfig":"72"},{"size":24903,"mtime":1742577764531,"results":"73","hashOfConfig":"72"},{"size":362,"mtime":1642008106594,"results":"74","hashOfConfig":"72"},{"size":297,"mtime":1611654841360,"results":"75","hashOfConfig":"76"},{"size":0,"mtime":1611654832610,"results":"77","hashOfConfig":"76"},{"size":373,"mtime":1741126324646,"results":"78","hashOfConfig":"72"},{"size":0,"mtime":1611654828618,"results":"79","hashOfConfig":"76"},{"size":967,"mtime":1707394671993,"results":"80","hashOfConfig":"81"},{"size":144,"mtime":1642008106581,"results":"82","hashOfConfig":"72"},{"size":68329,"mtime":1742550730695,"results":"83","hashOfConfig":"72"},{"size":21896,"mtime":1742207712306,"results":"84","hashOfConfig":"72"},{"size":476,"mtime":1701970028062,"results":"85","hashOfConfig":"72"},{"size":319,"mtime":1740678358252,"results":"86","hashOfConfig":"72"},{"size":186791,"mtime":1742579551655,"results":"87","hashOfConfig":"72"},{"size":729,"mtime":1740151753654,"results":"88","hashOfConfig":"72"},{"size":180,"mtime":1642008106585,"results":"89","hashOfConfig":"90"},{"size":83817,"mtime":1742313887741,"results":"91","hashOfConfig":"72"},{"size":203,"mtime":1642008106578,"results":"92","hashOfConfig":"72"},{"size":595,"mtime":1660119665169,"results":"93","hashOfConfig":"81"},{"size":1347,"mtime":1660318811896,"results":"94","hashOfConfig":"72"},{"size":1040,"mtime":1737127224302,"results":"95","hashOfConfig":"72"},{"size":963,"mtime":1738945715539,"results":"96","hashOfConfig":"72"},{"size":7045,"mtime":1740570614954,"results":"97","hashOfConfig":"72"},{"size":3151,"mtime":1722021414195,"results":"98","hashOfConfig":"72"},{"size":440,"mtime":1642008106576,"results":"99","hashOfConfig":"90"},{"size":4053,"mtime":1740391945355,"results":"100","hashOfConfig":"72"},{"size":18689,"mtime":1741623578694,"results":"101","hashOfConfig":"72"},{"size":14153,"mtime":1742577805596,"results":"102","hashOfConfig":"72"},{"size":202,"mtime":1667313223726,"results":"103","hashOfConfig":"104"},{"size":12520,"mtime":1741858371107,"results":"105","hashOfConfig":"72"},{"size":10575,"mtime":1742213666663,"results":"106","hashOfConfig":"72"},{"size":386,"mtime":1664378350858,"results":"107","hashOfConfig":"81"},{"size":917,"mtime":1741383490309,"results":"108","hashOfConfig":"72"},{"size":556,"mtime":1669391554973,"results":"109","hashOfConfig":"81"},{"size":225,"mtime":1669809056859,"results":"110","hashOfConfig":"81"},{"size":848,"mtime":1693584106618,"results":"111","hashOfConfig":"72"},{"size":283,"mtime":1693400578489,"results":"112","hashOfConfig":"72"},{"size":19999,"mtime":1729171160524,"results":"113","hashOfConfig":"72"},{"size":707,"mtime":1697730848306,"results":"114","hashOfConfig":"81"},{"size":1495,"mtime":1741615192618,"results":"115","hashOfConfig":"72"},{"size":1096,"mtime":1730478878964,"results":"116","hashOfConfig":"72"},{"size":772,"mtime":1709224525316,"results":"117","hashOfConfig":"81"},{"size":3051,"mtime":1720793440165,"results":"118","hashOfConfig":"72"},{"size":780,"mtime":1716280871888,"results":"119","hashOfConfig":"72"},{"size":1936,"mtime":1739565604404,"results":"120","hashOfConfig":"72"},{"size":295,"mtime":1721401642188,"results":"121","hashOfConfig":"72"},{"size":1603,"mtime":1722028250974,"results":"122","hashOfConfig":"72"},{"size":467,"mtime":1737492104137,"results":"123","hashOfConfig":"72"},{"size":2381,"mtime":1739305466822,"results":"124","hashOfConfig":"72"},{"size":386,"mtime":1739305068054,"results":"125","hashOfConfig":"72"},{"size":334,"mtime":1739304909214,"results":"126","hashOfConfig":"72"},{"size":1879,"mtime":1740044039071,"results":"127","hashOfConfig":"72"},{"size":692,"mtime":1741610924119,"results":"128","hashOfConfig":"72"},{"size":3319,"mtime":1739305061650,"results":"129","hashOfConfig":"72"},{"size":375,"mtime":1738921416092,"results":"130","hashOfConfig":"72"},{"size":555,"mtime":1738945031413,"results":"131","hashOfConfig":"72"},{"size":167,"mtime":1739129717410,"results":"132","hashOfConfig":"81"},{"size":1142,"mtime":1739290235668,"results":"133","hashOfConfig":"72"},{"size":2718,"mtime":1739654364126,"results":"134","hashOfConfig":"72"},{"size":3118,"mtime":1740391945356,"results":"135","hashOfConfig":"72"},{"size":3127,"mtime":1740391945354,"results":"136","hashOfConfig":"72"},{"size":5954,"mtime":1740155513388,"results":"137","hashOfConfig":"72"},{"size":3190,"mtime":1740391945353,"results":"138","hashOfConfig":"72"},{"size":3377,"mtime":1740391945353,"results":"139","hashOfConfig":"72"},{"size":3387,"mtime":1740391945350,"results":"140","hashOfConfig":"72"},{"size":3598,"mtime":1740391945351,"results":"141","hashOfConfig":"72"},{"size":92772,"mtime":1742565036021,"results":"142","hashOfConfig":"72"},{"size":3583,"mtime":1741005096548,"results":"143","hashOfConfig":"72"},{"size":2159,"mtime":1741873019341,"results":"144","hashOfConfig":"72"},{"size":1129,"mtime":1741724675736,"results":"145","hashOfConfig":"72"},{"filePath":"146","messages":"147","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"148","usedDeprecatedRules":"149"},"1kw2k2s",{"filePath":"150","messages":"151","errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"152","usedDeprecatedRules":"149"},{"filePath":"153","messages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1f0e5p2",{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"159","messages":"160","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"163","messages":"164","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"165"},"z32ji8",{"filePath":"166","messages":"167","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"168","messages":"169","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"170","usedDeprecatedRules":"149"},{"filePath":"171","messages":"172","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"173","usedDeprecatedRules":"149"},{"filePath":"174","messages":"175","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"176","messages":"177","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"178","messages":"179","errorCount":0,"fatalErrorCount":0,"warningCount":25,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"180","messages":"181","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"182","messages":"183","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"184"},"1eaajj",{"filePath":"185","messages":"186","errorCount":0,"fatalErrorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":0,"source":"187","usedDeprecatedRules":"149"},{"filePath":"188","messages":"189","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"190","messages":"191","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"192"},{"filePath":"193","messages":"194","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"195","messages":"196","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"197","messages":"198","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"199","messages":"200","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"201","usedDeprecatedRules":"149"},{"filePath":"202","messages":"203","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"204","messages":"205","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"206"},{"filePath":"207","messages":"208","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"209","messages":"210","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"211","usedDeprecatedRules":"149"},{"filePath":"212","messages":"213","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"214","usedDeprecatedRules":"149"},{"filePath":"215","messages":"216","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"217"},"1qf0ryt",{"filePath":"218","messages":"219","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"220","usedDeprecatedRules":"149"},{"filePath":"221","messages":"222","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"223","messages":"224","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"225"},{"filePath":"226","messages":"227","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"228","messages":"229","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"230"},{"filePath":"231","messages":"232","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"165"},{"filePath":"233","messages":"234","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"235","messages":"236","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"237","messages":"238","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"239","usedDeprecatedRules":"149"},{"filePath":"240","messages":"241","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"165"},{"filePath":"242","messages":"243","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"244","messages":"245","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"246","messages":"247","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"248","messages":"249","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"250","usedDeprecatedRules":"149"},{"filePath":"251","messages":"252","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"253","messages":"254","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"255","messages":"256","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"257","messages":"258","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"259","messages":"260","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"261","messages":"262","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"263","messages":"264","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"265","messages":"266","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"267","messages":"268","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"269","messages":"270","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"271","messages":"272","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"273","messages":"274","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"275","messages":"276","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"277","messages":"278","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"279","messages":"280","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"281","messages":"282","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"283","messages":"284","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"285","messages":"286","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"287","messages":"288","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"289","messages":"290","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"291","messages":"292","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"293","messages":"294","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"295","messages":"296","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"297","messages":"298","errorCount":0,"fatalErrorCount":0,"warningCount":53,"fixableErrorCount":0,"fixableWarningCount":0,"source":"299","usedDeprecatedRules":"149"},{"filePath":"300","messages":"301","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"302","usedDeprecatedRules":"149"},{"filePath":"303","messages":"304","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"305","usedDeprecatedRules":"149"},{"filePath":"306","messages":"307","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},"/Users/gregdorward/Development/football-predictions/src/index.js",["308"],"import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter as Router, Route, Routes, HashRouter } from \"react-router-dom\";\nimport TeamPage from \"./components/Team\";\nimport {SuccessPage} from \"./components/Success\"\nimport {CancelPage} from \"./components/Cancel\"\nimport PasswordReset from \"./components/PasswordReset\";\nimport { Provider } from \"react-redux\";\nimport store from \"./logic/store\"; // Import your Redux store\nimport CancelSubscription from \"./components/CancelSubscription\"\nimport Over25 from \"./components/Over25\"\nimport Under25 from \"./components/Under25\"\nimport HighestScoringTeams from \"./components/HighestScoringTeams\"\nimport HighestScoringFixtures from \"./components/HighestScoringFixtures\";\nimport BTTSFixtures from \"./components/BTTSFixtures\";\nimport BTTSTeams from \"./components/BTTSTeams\";\n\n\nReactDOM.render(\n  // <React.StrictMode>\n    <Provider store={store}>\n    <HashRouter>\n        <Routes>\n          <Route path=\"/fixture\" element={<TeamPage />} />\n          <Route path=\"/success\" element={<SuccessPage />} />\n          <Route path=\"/cancel\" element={<CancelPage />} />\n          <Route path=\"/reset\" element={<PasswordReset />} />\n          <Route path=\"/o25\" element={<Over25 />} />\n          <Route path=\"/u25\" element={<Under25 />} />\n          <Route path=\"/teamshigh\" element={<HighestScoringTeams />} />\n          <Route path=\"/fixtureshigh\" element={<HighestScoringFixtures />} />\n          <Route path=\"/bttsfixtures\" element={<BTTSFixtures />} />\n          <Route path=\"/bttsteams\" element={<BTTSTeams />} />\n          <Route path=\"/cancelsubscription\" element={<CancelSubscription/>} />\n          <Route path=\"/\" exact element={<App />} />\n          {/* <Route path=\"/\" element={<Fixture />} /> */}\n        </Routes>\n        </HashRouter>\n    </Provider>\n    ,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n",["309","310"],"/Users/gregdorward/Development/football-predictions/src/App.js",["311","312","313","314","315","316","317","318","319","320","321","322","323"],"import React, { Fragment } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Header from \"./components/Header\";\nimport { Button } from \"./components/Button\";\nimport OddsRadio from \"./components/OddsRadio\";\nimport { Fixture } from \"./components/Fixture\";\nimport mockedFixtures from \"./data/mockedFixtures.json\";\nimport { selectedOdds } from \"./components/OddsRadio\";\nimport Collapsable from \"./components/CollapsableElement\";\nimport StripePolicies from \"./components/Contact\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { AuthProvider, useAuth } from \"./logic/authProvider\";\nimport { getAuth } from \"firebase/auth\";\nimport Login from \"./components/Login\";\nimport { getCurrentUser } from \"./components/ProtectedContent\";\nimport { userDetail } from \"./logic/authProvider\";\nimport { checkUserPaidStatus } from \"./logic/hasUserPaid\";\nimport {\n  FacebookShareButton,\n  FacebookIcon,\n  RedditShareButton,\n  RedditIcon,\n  TelegramShareButton,\n  TelegramIcon,\n  TwitterShareButton,\n  TwitterIcon,\n  WhatsappShareButton,\n  WhatsappIcon,\n} from \"react-share\";\nimport { generateFixtures } from \"./logic/getFixtures\";\nimport { ThreeDots } from \"react-loading-icons\";\nimport Logo from \"./components/Logo\";\nimport { BrowserRouter as Router, Route, Routes, Link } from \"react-router-dom\";\n\nimport reactDom from \"react-dom\";\n// require(\"dotenv\").config();\n\nexport const proxyurl = \"https://safe-caverns-99679.herokuapp.com/\";\nexport var fixtureList = [];\nexport let allLeagueData = [];\n\nexport const availableLeagues = [];\nexport var orderedLeagues = [];\n\nlet loggedIn;\nexport let paid = false;\n\nconst leagueOrder = [\n  // 11084, //Euro 2024\n  // 7432, //World Cup 22\n  13734, //Nations league 24/25\n  12325, //premier league 22/23\n  12451, //championship 22/23\n  12446, //league 1 22/23\n  12422, //league 2 22/23\n  12622, //National league 22/23\n  12316, //La Liga 22/23\n  12455, //Scottish Prem 22/23\n  12529, //Bundesliga 22/23\n  12530, //Serie A 22/23\n  12337, //French Prem 22/23\n  12931, //Portagul Prem 22/23\n  12322, //Dutch Prem 22/23\n  12137, //Belgian Pro League 22/23\n  10969, //sweden 24\n  12132, //Danish Prem 24/25\n  10976, //Norway Prem 23\n  12472, //Austrian Prem 22/23\n  12734, //Greek Prem 22/23\n  12641, //turkey\n  12120, //Polish prem 22/23\n  12326, //Swiss prem 22/23\n  13952, //Irish Prem 23\n  12321, // Champs league\n  12327, //Europa\n  12467, //Spanish secunda 22/23\n  12621, //Italy serie B 22/23\n  12528, //Bundesliga 2 22/23\n  12623, //German 3rd tier 22/23\n  12338, //French League 2 22/23\n  12456, //Scottish Championship 22/23\n  12474, //Scottish league 1 22/23\n  12453, //Scottish league 2 22/23\n  12827, //Women's prem 23/24\n  13973, //MLS 25\n  11321, //Brazil prem 24\n  14125, //Argentina prem 23\n  12136, //Mexico prem 23/24\n  12933, //National league North and South 22/23\n  13703, //Australian A league 24/25\n  14069, //S Korea 25\n];\n\nlet today;\nlet todayFootyStats;\nlet todaySS;\nlet tomorrow;\nlet tomorrowFootyStats;\nlet tomorrowSS;\nexport let date;\nlet dateSS;\nlet dateFootyStats;\nlet yesterday;\nlet yesterdayFootyStats;\nlet yesterdaySS;\nlet lastSaturday;\nlet lastSaturdayFootyStats;\nlet lastSaturdaySS;\nlet historic;\nlet historicFootyStats;\nlet historicSS;\nlet tomorrowsDate;\nlet yesterdaysDate;\nlet saturdayDate;\nlet historicDate;\nlet string;\nlet dateString;\n\n(async function fetchLeagueData() {\n  let leagueList;\n  if (userDetail) {\n    paid = await checkUserPaidStatus(userDetail.uid);\n  } else {\n    paid = false;\n  }\n  leagueList = await fetch(`${process.env.REACT_APP_EXPRESS_SERVER}leagueList`);\n\n  let leagueArray;\n  await leagueList.json().then((leagues) => {\n    leagueArray = Array.from(leagues.data);\n  });\n\n  for (let i = 0; i < leagueArray.length; i++) {\n    const league = leagueArray[i];\n    const name = leagueArray[i].name;\n\n    for (let x = 0; x < league.season.length; x++) {\n      const element = league.season[x];\n\n      if (element.year === 2025 || element.year === 20242025) {\n        if (\n          element.id !== 13703 &&\n          element.id !== 6935 &&\n          element.id !== 7061\n        ) {\n          availableLeagues.push({ name: name, element });\n        }\n      }\n    }\n\n    async function mapOrder(array, order, key) {\n      array.sort(function (a, b) {\n        var A = a.element[key],\n          B = b.element[key];\n\n        if (order.indexOf(A) > order.indexOf(B)) {\n          return 1;\n        } else {\n          return -1;\n        }\n      });\n      return array;\n    }\n    //leagues ordered by id\n    orderedLeagues = await mapOrder(availableLeagues, leagueOrder, \"id\");\n  }\n  return orderedLeagues;\n})();\n\nexport async function getLeagueList() {\n  loggedIn = await getCurrentUser();\n  let i = 0;\n  date = new Date();\n  string = \"Today\";\n\n  async function incrementDate(num, date) {\n    i = i + num;\n    date.setDate(date.getDate() + num);\n    dateSS = await convertTimestampForSofaScore(date);\n\n    [date, dateFootyStats] = await calculateDate(date);\n    string = dateFootyStats;\n\n    await renderButtons();\n  }\n\n  async function decrementDate(num, date) {\n    i = i - num;\n    console.log(i);\n    if (i > -120) {\n      date.setDate(date.getDate() - num);\n      dateSS = await convertTimestampForSofaScore(date);\n      [date, dateFootyStats] = await calculateDate(date);\n      string = dateFootyStats;\n      dateString = date;\n      await renderButtons();\n    }\n  }\n\n  async function calculateDate(dateString) {\n    const day = dateString.getDate();\n    const month = dateString.getMonth() + 1;\n    const year = dateString.getFullYear();\n    return [`${month}${day}${year}`, `${year}-${month}-${day}`];\n  }\n\n  [today, todayFootyStats] = await calculateDate(new Date());\n\n  tomorrowsDate = new Date();\n  tomorrowsDate.setDate(tomorrowsDate.getDate() + 1);\n  [tomorrow, tomorrowFootyStats] = await calculateDate(tomorrowsDate);\n\n  yesterdaysDate = new Date();\n  yesterdaysDate.setDate(yesterdaysDate.getDate() - 1);\n  [yesterday, yesterdayFootyStats] = await calculateDate(yesterdaysDate);\n\n  saturdayDate = new Date();\n  saturdayDate.setDate(\n    saturdayDate.getDate() - ((saturdayDate.getDay() + 6) % 7)\n  );\n  saturdayDate.setDate(saturdayDate.getDate() - 2);\n  [lastSaturday, lastSaturdayFootyStats] = await calculateDate(saturdayDate);\n\n  historicDate = new Date();\n  historicDate.setDate(\n    historicDate.getDate() - ((historicDate.getDay() + 6) % 7)\n  );\n  historicDate.setDate(historicDate.getDate() - 9);\n  [historic, historicFootyStats] = await calculateDate(historicDate);\n\n  async function convertTimestampForSofaScore(timestamp) {\n    let newDate = new Date(timestamp);\n\n    let year = newDate.getFullYear();\n    let month = String(newDate.getMonth() + 1).padStart(2, \"0\"); // Adding 1 to month because it is zero-based\n    let day = String(newDate.getDate()).padStart(2, \"0\");\n\n    let converted = `${year}-${month}-${day}`;\n\n    return converted;\n  }\n\n  todaySS = await convertTimestampForSofaScore(new Date());\n  tomorrowSS = await convertTimestampForSofaScore(tomorrowsDate);\n  yesterdaySS = await convertTimestampForSofaScore(yesterdaysDate);\n  lastSaturdaySS = await convertTimestampForSofaScore(saturdayDate);\n  historicSS = await convertTimestampForSofaScore(historicDate);\n\n  const text =\n    \"Select a day you would like to retrieve fixtures for from the options above\\n A list of games will be returned once the data has loaded\\n Once all fixtures have loaded, click on “Get Predictions” to see XGTipping's forecasted outcomes for every game\\n If a game has completed, the predictions is displayed on the right and the actual result on the left\\n Each individual fixture is tappable/clickable. By doing so, you can access a range of detailed stats, from comparative charts, granular performance measures to previous meetings.\\n All games are subject to the same automated prediction algorithm with the outcome being a score prediction. Factors that determine the tip include the following, amongst others:\\n - Goal differentials\\n - Expected goal differentials \\n - Attack/Defence performance\\n - Form trends over time\\n - Home/Away records\\n - WDL records\\n - Points per game \\n - A range of other comparative factors\\n  –\\n\";\n\n  const text2 =\n    \"A range of tools are available should you wish to use them\\n Build a multi - Use the '+' or '-' buttons to add or remove a game deemed to be one of XGTIpping's highest confidence tips from the day\\n Exotic of the day: A pre-built exotic multi comprising of XGTipping's highest confidence tips\\n BTTS games: Games where both teams to score is deemed a likely outcome\\n Over 2.5 goals tips: Games where over 2.5 goals are most likely to be scored\\n XG tips: Comprises only games where the expected goal differentials between each team are at their greatest. We believe this shows a true disparity in the form of the two opposing teams\\n Tap the 'How to use' option to hide this text\";\n\n  let textJoined = text.concat(text2);\n\n  let newText = textJoined.split(\"\\n\").map((i) => {\n    return <p>{i}</p>;\n  });\n\n  async function renderButtons(loginStatus) {\n    ReactDOM.render(\n      <div className=\"FixtureButtons\">\n        <h6>{loginStatus}</h6>\n        <div className=\"historicResults\">\n          <Button\n            text={\"Last Saturday\"}\n            className=\"HistoricFixturesButton\"\n            onClickEvent={async () =>\n              fixtureList.push(\n                await generateFixtures(\n                  \"lastSaturday\",\n                  lastSaturday,\n                  selectedOdds,\n                  lastSaturdayFootyStats,\n                  false,\n                  today,\n                  lastSaturdaySS\n                )\n              )\n            }\n          />\n        </div>\n        <Button\n          text={`<`}\n          className=\"FixturesButton\"\n          onClickEvent={async () => await decrementDate(1, date)}\n        />\n        <Button\n          text={dateFootyStats !== undefined ? dateFootyStats : date}\n          className=\"FixturesButton\"\n          onClickEvent={async () =>\n            fixtureList.push(\n              await generateFixtures(\n                \"todaysFixtures\",\n                dateString,\n                selectedOdds,\n                dateFootyStats,\n                false,\n                today,\n                dateSS\n              )\n            )\n          }\n        />\n        <Button\n          text={`Today`}\n          className=\"FixturesButtonToday\"\n          onClickEvent={async () =>\n            fixtureList.push(\n              await generateFixtures(\n                \"todaysFixtures\",\n                today,\n                selectedOdds,\n                todayFootyStats,\n                true,\n                today,\n                todaySS\n              )\n            )\n          }\n        />\n        <Button\n          text={\"Tomorrow\"}\n          className=\"FixturesButton\"\n          onClickEvent={async () =>\n            fixtureList.push(\n              await generateFixtures(\n                \"tomorrowsFixtures\",\n                tomorrow,\n                selectedOdds,\n                tomorrowFootyStats,\n                true,\n                today,\n                tomorrowSS\n              )\n            )\n          }\n        />\n      </div>,\n      document.getElementById(\"Buttons\")\n    );\n  }\n\n  ReactDOM.render(\n    <div className=\"FixtureButtons\">\n      <div className=\"historicResults\">\n        <Button\n          text={\"Last Saturday\"}\n          className=\"HistoricFixturesButton\"\n          onClickEvent={async () =>\n            fixtureList.push(\n              await generateFixtures(\n                \"lastSaturday\",\n                lastSaturday,\n                selectedOdds,\n                lastSaturdayFootyStats,\n                false,\n                today,\n                lastSaturdaySS\n              )\n            )\n          }\n        />\n      </div>\n      <Button\n        text={`<`}\n        className=\"FixturesButton\"\n        onClickEvent={async () => await decrementDate(1, date)}\n      />\n      <Button\n        text={`${string}`}\n        className=\"FixturesButtonToday\"\n        onClickEvent={async () =>\n          fixtureList.push(\n            await generateFixtures(\n              \"todaysFixtures\",\n              today,\n              selectedOdds,\n              todayFootyStats,\n              true,\n              today,\n              todaySS\n            )\n          )\n        }\n      />\n      <Button\n        text={\"Tomorrow\"}\n        className=\"FixturesButton\"\n        onClickEvent={async () =>\n          fixtureList.push(\n            await generateFixtures(\n              \"tomorrowsFixtures\",\n              tomorrow,\n              selectedOdds,\n              tomorrowFootyStats,\n              true,\n              today,\n              tomorrowSS\n            )\n          )\n        }\n      />\n    </div>,\n    document.getElementById(\"Buttons\")\n  );\n  ReactDOM.render(\n    <div className=\"OddsRadios\">\n      <OddsRadio value=\"Fractional odds\"></OddsRadio>\n      <OddsRadio value=\"Decimal odds\"></OddsRadio>\n    </div>,\n    document.getElementById(\"Checkbox\")\n  );\n  ReactDOM.render(\n    <Fragment>\n      <Collapsable\n        // className={\"HowToUse\"}\n        buttonText={\"How to use\"}\n        element={newText}\n      />\n    </Fragment>,\n    document.getElementById(\"XGDiff\")\n  );\n\n  if (loggedIn) {\n    ReactDOM.render(\n      <h6>Welcome back {loggedIn.email}</h6>,\n      document.getElementById(\"Email\")\n    );\n  } else {\n    ReactDOM.render(<Login />, document.getElementById(\"Email\"));\n  }\n}\n\n// Replace with your own Stripe public key\nconst stripePromise = loadStripe(\n  \"pk_live_51QojxLBrqiWlVPadBxhtoj499YzoC8YjFUIVQwCcTe8B7ZUG47NbYAam2wvNox2mUmzd0WgQh4PWKaIQaxKxubig00yEzjNuVQ\"\n);\n\nconst handleCheckout = async (priceId) => {\n  const stripe = await stripePromise;\n  const auth = getAuth();\n  const user = auth.currentUser;\n\n  if (!user) {\n    alert(\"Please sign-up or login before purchasing\");\n    return;\n  }\n\n  const response = await fetch(\n    `${process.env.REACT_APP_EXPRESS_SERVER}create-checkout-session`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ priceId, uid: user.uid }), // Send uid\n    }\n  );\n\n  const session = await response.json();\n\n  const result = await stripe.redirectToCheckout({ sessionId: session.id });\n\n  if (result.error) {\n    console.error(\"Checkout error:\", result.error.message);\n  }\n};\n\nasync function getHighestScoringLeagues() {\n  let teamsList = await fetch(`${process.env.REACT_APP_EXPRESS_SERVER}over25`);\n  let arr = [];\n  await teamsList.json().then(async (leagues) => {\n    for (let index = 0; index < 215; index++) {\n      const league = {\n        league: leagues.data.top_leagues.data[index].name,\n        leagueCountry: leagues.data.top_leagues.data[index].country,\n        averageGoals: leagues.data.top_leagues.data[index].seasonAVG_overall,\n        over25Percentage:\n          leagues.data.top_leagues.data[index].seasonOver25Percentage_overall,\n        division: leagues.data.top_leagues.data[index].division,\n        leagueId: leagues.data.top_leagues.data[index].id,\n      };\n      arr.push(league);\n    }\n  });\n\n  const finalArray = arr.filter(\n    (league) =>\n      leagueOrder.find((element) => element === league.leagueId) &&\n      league.averageGoals >= 2.5\n  );\n\n  let sortedArray = finalArray.sort((a, b) => b.averageGoals - a.averageGoals);\n\n  return sortedArray;\n}\n\nasync function getLowestScoringLeagues() {\n  let teamsList = await fetch(`${process.env.REACT_APP_EXPRESS_SERVER}under25`);\n  let arr = [];\n  await teamsList.json().then(async (leagues) => {\n    for (let index = 0; index < 215; index++) {\n      const league = {\n        league: leagues.data.top_leagues.data[index].name,\n        leagueCountry: leagues.data.top_leagues.data[index].country,\n        averageGoals: leagues.data.top_leagues.data[index].seasonAVG_overall,\n        under25Percentage:\n          leagues.data.top_leagues.data[index].seasonUnder25Percentage_overall,\n        leagueId: leagues.data.top_leagues.data[index].id,\n      };\n      arr.push(league);\n    }\n  });\n\n  const finalArray = arr.filter(\n    (league) =>\n      leagueOrder.find((element) => element === league.leagueId) &&\n      league.averageGoals < 2.5\n  );\n\n  let sortedArray = finalArray.sort((a, b) => a.averageGoals - b.averageGoals);\n\n  return sortedArray;\n}\n\nconst welcomeTextUnsplitOne = `Welcome to XGTipping. Your go-to resource for all things football, from predictions, comprehensive head to head stats, results, xg scores, odds, league tables, form, and bespoke multi-builders underpinned by expected goal (XG) data.\\n `;\nlet welcomeTextOne = welcomeTextUnsplitOne.split(\"\\n\").map((i) => {\n  return <p>{i}</p>;\n});\n\nconst welcomeTextUnsplitTwo = `XGTipping is completely independent and free to use, relying on a donation model to support running costs. For feedback or feature ideas, get in touch at @TippingXg.`;\nlet welcomeTextTwo = welcomeTextUnsplitTwo.split(\"\\n\").map((i) => {\n  return <p>{i}</p>;\n});\n\nfunction AppContent() {\n  const { user, isPaidUser } = useAuth();\n  getLeagueList();\n\n  return (\n    <div className=\"App\">\n      <Logo />\n      <a\n        className=\"SocialLink\"\n        href=\"https://www.reddit.com/r/xgtipping/\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        r/xgtipping\n      </a>\n      <div id=\"LoadingContainer\" className=\"LoadingContainer\" />\n      <div id=\"RadioContainer\" className=\"RadioContainer\">\n        <div id=\"RadioText\" />\n        <div id=\"RadioButtons\" />\n      </div>\n      <div id=\"Email\" className=\"Email\"></div>\n      <div id=\"Day\" />\n      <div id=\"Checkbox\" />\n      <div id=\"ExplainerText\" />\n      <div id=\"Loading\" className=\"Loading\"></div>\n      <div id=\"Buttons\" className=\"Buttons\">\n        <ThreeDots className=\"MainLoading\" fill=\"#030061\" />\n        <div>Loading all fixture and form data...</div>\n      </div>\n\n      {user ? (\n        isPaidUser ? (\n          // If the user is logged in and is a paying customer, show the cancel button\n          <button\n            onClick={() => {\n              window.location.href =\n                \"https://www.xgtipping.com/#/cancelsubscription\";\n            }}\n            className=\"CancelButton\"\n          >\n            Cancel Subscription\n          </button>\n        ) : (\n          // If the user is logged in but is NOT a paying customer, show subscribe buttons\n          <div>\n            <span className=\"MembershipInfo\">\n              Full fixtures and AI predictions are restricted to\n              premium members. Memberships can be cancelled at any time and\n              prices will differ in currencies other than GBP. Payments are\n              securely hosted by Stripe.\n            </span>\n            <h3>\n              Subscription will be charged to payment card from week 2 but can\n              be cancelled at any time.\n            </h3>\n            <button\n              onClick={() => handleCheckout(\"price_1QrQ4ZBrqiWlVPadCkhLhtiZ\")}\n              className=\"SubscribeButton\"\n            >\n              Subscribe for £1/week\n            </button>\n            <button\n              onClick={() => handleCheckout(\"price_1QrQ5NBrqiWlVPadFBuBKKSM\")}\n              className=\"SubscribeButton\"\n            >\n              Subscribe for £3/month\n            </button>\n            <button\n              onClick={() => handleCheckout(\"price_1QrQ75BrqiWlVPadEML30BoJ\")}\n              className=\"SubscribeButton\"\n            >\n              Subscribe for £30/year\n            </button>\n          </div>\n        )\n      ) : (\n        // If the user is not logged in, show nothing\n        <div></div>\n      )}\n\n      <div id=\"GeneratePredictions\" className=\"GeneratePredictions\" />\n      <Collapsable\n        buttonText={\"Multis\"}\n        element={\n          <Fragment>\n            <div id=\"bestPredictions\" className=\"bestPredictions\" />\n            <div id=\"exoticOfTheDay\" className=\"exoticOfTheDay\" />\n            {/* <div id=\"successMeasure2\" /> */}\n            <div id=\"RowOneContainer\" className=\"RowOneContainer\">\n              <div id=\"BTTS\" className=\"RowOne\" />\n              <div id=\"longShots\" className=\"RowOne\" />\n              <div id=\"draws\" className=\"RowOne\" />\n            </div>\n            <div id=\"insights\" />\n            <div id=\"UserGeneratedTips\"/>\n\n          </Fragment>\n        }\n      />\n      <div id=\"shortlistRender\" />\n      <div id=\"successMeasure2\" />\n      <div id=\"highLowLeagues\" className=\"HighLowLeagues\" />\n      <div id=\"risk\" />\n      <div id=\"successMeasure\" />\n      <div id=\"tables\" />\n      <div id=\"homeBadge\" />\n      <div id=\"FixtureContainerHeaders\"></div>\n\n      <div id=\"FixtureContainer\">\n        <h6 className=\"WelcomeText\">{welcomeTextOne}</h6>\n        <h6 className=\"GetMatchStatText\">\n          Below is an example of our tips/results overview for you to\n          familiarise yourself with. Get real fixtures using the date buttons\n          above. When loaded, tap on one to see full match stats.\n        </h6>\n\n        <div className=\"ExplainerContainer\">\n          <span className=\"oddsHomeExplainer\">Home odds</span>\n          <span className=\"emptyHomeTeam\"></span>\n          <span className=\"scoreExplainer\">Result / KO Time</span>\n          <span className=\"predictionExplainer\">Our Prediction</span>\n          <span className=\"emptyAwayTeam\"></span>\n          <span className=\"oddsAwayExplainer\">Away odds</span>\n        </div>\n\n        <Fixture\n          fixtures={mockedFixtures.matches}\n          mock={true}\n          className={\"individualFixture\"}\n        />\n\n        <div>\n          <h6 className=\"WelcomeText\">{welcomeTextTwo}</h6>\n          <h6 className=\"WelcomeText\">\n            We cover a range of leagues, including\n            <ul className=\"AllLeagues\">\n              <li className=\"League\" key=\"premier-league\">\n                Premier League\n              </li>\n              <li className=\"League\" key=\"english-football-league\">\n                English Football League\n              </li>\n              <li className=\"League\" key=\"la-liga\">\n                La Liga\n              </li>\n              <li className=\"League\" key=\"serie-a\">\n                Serie A\n              </li>\n              <li className=\"League\" key=\"bundesliga\">\n                Bundesliga\n              </li>\n              <li className=\"League\" key=\"ligue-1\">\n                Ligue 1\n              </li>\n              <li className=\"League\" key=\"mls\">\n                MLS\n              </li>\n              <li className=\"League\" key=\"primeira-liga\">\n                Primeira Liga\n              </li>\n              <li className=\"League\" key=\"loads-more\">\n                Loads more...\n              </li>\n            </ul>\n          </h6>\n        </div>\n\n        <div>\n          <div className=\"DataText\">Raw data from</div>\n          <a\n            className=\"DataLink\"\n            href=\"https://www.footystats.org\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            footystats.org\n          </a>\n        </div>\n        <div className=\"bitcoin\" id=\"bitcoin\">\n          <a\n            href=\"https://www.ko-fi.com/xgtipping\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Donations\n          </a>\n          <span className=\"bitcoinSymbol\">&#x20bf;itcoin address</span>\n          <span className=\"bitcoinAddress\">\n            bc1q7j62txkvhfu0dt3l0s07saze6pjnyzs26wfgp0\n          </span>\n        </div>\n      </div>\n      <div id=\"XGDiff\" />\n\n      <div className=\"Social\">\n        <TwitterShareButton\n          url={\"www.xgtipping.com\"}\n          title={\"#XGTipping\"}\n          className=\"ShareButton\"\n        >\n          <TwitterIcon size={\"3em\"} round={true} />\n        </TwitterShareButton>\n        <RedditShareButton\n          url={\"www.xgtipping.com\"}\n          title={\"XGTipping\"}\n          className=\"ShareButton\"\n        >\n          <RedditIcon size={\"3em\"} round={true} />\n        </RedditShareButton>\n        <FacebookShareButton\n          url={\"www.xgtipping.com\"}\n          quote={\"XGTipping - data-driven football predictions\"}\n          className=\"ShareButton\"\n        >\n          <FacebookIcon size={\"3em\"} round={true} />\n        </FacebookShareButton>\n        <WhatsappShareButton\n          url={\"www.xgtipping.com\"}\n          title={\"XGTipping\"}\n          separator=\": \"\n          className=\"ShareButton\"\n        >\n          <WhatsappIcon size={\"3em\"} round={true} />\n        </WhatsappShareButton>\n        <TelegramShareButton\n          url={\"XGTipping\"}\n          title={\"XGTipping\"}\n          className=\"ShareButton\"\n        >\n          <TelegramIcon size={\"3em\"} round={true} />\n        </TelegramShareButton>\n      </div>\n\n      <Collapsable buttonText={\"Contact\"} element={<StripePolicies />} />\n    </div>\n  );\n}\n\nexport default function App() {\n  return (\n    <AuthProvider>\n      <Routes>\n        <Route path=\"/\" element={<AppContent />} />\n      </Routes>\n    </AuthProvider>\n  );\n}\n","/Users/gregdorward/Development/football-predictions/src/reportWebVitals.js",[],"/Users/gregdorward/Development/football-predictions/src/components/spinner.js",[],"/Users/gregdorward/Development/football-predictions/src/components/showCardPotential.js",[],"/Users/gregdorward/Development/football-predictions/src/components/createBadge.js",[],"/Users/gregdorward/Development/football-predictions/src/components/showBttsData.js",[],"/Users/gregdorward/Development/football-predictions/src/components/radio.js",[],["324","325"],"/Users/gregdorward/Development/football-predictions/src/components/Header.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/getFixtures.js",["326","327","328","329"],"import React, { Fragment } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { orderedLeagues } from \"../App\";\nimport { getForm } from \"./getForm\";\nimport { Fixture } from \"../components/Fixture\";\nimport { Button } from \"../components/Button\";\nimport { Slide } from \"../components/Slider\";\nimport { getScorePrediction } from \"../logic/getScorePredictions\";\nimport { ThreeDots } from \"react-loading-icons\";\nimport { selectedOdds } from \"../components/OddsRadio\";\nimport LeagueTable from \"../components/LeagueTable\";\nimport { getPointsFromLastX } from \"../logic/getScorePredictions\";\nimport SlideDiff from \"../components/SliderDiff\";\nimport Collapsable from \"../components/CollapsableElement\";\nimport { userDetail } from \"./authProvider\";\n\nvar oddslib = require(\"oddslib\");\n\n// require(\"dotenv\").config();\n\nvar fixtureResponse;\nvar fixtureArray = [];\nexport var matches = [];\nexport var resultedMatches = [];\nexport let arrayOfGames = [];\n\nvar league;\nvar leagueID;\nvar leagueGames = [];\nexport var leagueArray = [];\nvar leagueIdArray = [];\nexport var leagueStatsArray = [];\nexport let leagueInstance;\nexport let groupInstance;\nexport let allLeagueResultsArrayOfObjects = [];\nvar lastThreeFormHome;\nvar lastThreeFormAway;\nvar lastFiveFormHome;\nvar lastFiveFormAway;\nvar lastSixFormHome;\nvar lastSixFormAway;\nvar lastTenFormHome;\nvar lastTenFormAway;\nvar leagueOrAll;\nvar formRunHome;\nvar formRunAway;\nlet WDLinLeagueHome;\nlet WDLinLeagueAway;\nlet HomeAverageGoals;\nlet homeAverageGoals;\nlet HomeAverageConceded;\nlet homeAverageConceded;\nlet AwayAverageGoals;\nlet awayAverageGoals;\nlet AwayAverageConceded;\nlet awayAverageConceded;\nlet paid = false;\n\n// export var [currentDay, month, year] = new Date()\n//   .toLocaleDateString(\"en-US\", { timeZone: \"Europe/London\" })\n//   .split(\"/\");\n\nexport async function diff(a, b) {\n  return parseFloat(a - b).toFixed(2);\n}\n\nexport let allForm = [];\nexport let tableArray = [];\nexport let bespokeLeagueArray = [];\ngroupInstance = [];\nleagueInstance = [];\n\nasync function convertTimestamp(timestamp) {\n  let newDate = new Date(timestamp);\n  let [day, month, year] = newDate.toLocaleDateString(\"en-US\").split(\"/\");\n\n  let converted = `${year}-${day}-${month}`;\n\n  return converted;\n}\n\nexport async function generateTables(a, leagueIdArray, allResults) {\n  // leagueIdArray = [];\n  tableArray = [];\n  bespokeLeagueArray = [];\n  let i = 0;\n  leagueArray.forEach(function (league) {\n    let currentLeagueId = leagueIdArray[i];\n    i++;\n    leagueInstance = [];\n    //Skip MLS which has a weird format\n    if (\n      !league.data.specific_tables[0].groups &&\n      currentLeagueId !== 13973 &&\n      currentLeagueId !== 12933 &&\n      league.data.specific_tables[0].table\n    ) {\n      for (\n        let index = 0;\n        index < league.data.specific_tables[0].table.length;\n        index++\n      ) {\n        let currentTeam = league.data.specific_tables[0].table[index];\n        let last5;\n        if (currentTeam.wdl_record.length < 5) {\n          last5 = currentTeam.wdl_record\n            .slice(`-${currentTeam.wdl_record.length}`)\n            .toUpperCase();\n        } else {\n          last5 = currentTeam.wdl_record.slice(-5).toUpperCase();\n        }\n\n        const team = {\n          LeagueID: currentLeagueId,\n          Position: index + 1,\n          Name: currentTeam.cleanName,\n          ID: currentTeam.id,\n          Played: currentTeam.matchesPlayed,\n          Wins: currentTeam.seasonWins_overall,\n          Draws: currentTeam.seasonDraws_overall,\n          Losses: currentTeam.seasonLosses_overall,\n          For: currentTeam.seasonGoals,\n          Against:\n            currentTeam.seasonConceded_home + currentTeam.seasonConceded_away,\n          GoalDifference: currentTeam.seasonGoalDifference,\n          Form: last5,\n          LastXPoints: getPointsFromLastX(last5.split(\"\")),\n          Points: currentTeam.points,\n          wdl: currentTeam.wdl_record,\n          seasonGoals: currentTeam.seasonGoals,\n          seasonConceded: currentTeam.seasonConceded,\n        };\n        leagueInstance.push(team);\n      }\n      tableArray.push({ id: currentLeagueId, table: leagueInstance });\n    } else if (currentLeagueId === 13973 || currentLeagueId === 12933) {\n      // for (let x = 0; x < league.data.specific_tables[0].groups.length; x++) {\n      // for (\n      //   let index = 0;\n      //   index < league.data.specific_tables[0].groups[x].table.length;\n      //   index++\n      // )\n      let instances;\n\n      if (currentLeagueId === 13973) {\n        instances = league.data.specific_tables[0].groups;\n      } else if (currentLeagueId === 12933) {\n        instances = [\n          league.data.specific_tables[0],\n          league.data.specific_tables[1],\n        ];\n      }\n\n      instances.forEach((group) => {\n        leagueInstance = [];\n        for (let index = 0; index < group.table.length; index++) {\n          let currentTeam = group.table[index];\n          let last5;\n          if (currentTeam.wdl_record.length < 5) {\n            last5 = currentTeam.wdl_record\n              .slice(`-${currentTeam.wdl_record.length}`)\n              .toUpperCase();\n          } else {\n            last5 = currentTeam.wdl_record.slice(-5).toUpperCase();\n          }\n          const team = {\n            LeagueID: currentLeagueId,\n            Position: index + 1,\n            Name: currentTeam.cleanName,\n            ID: currentTeam.id,\n            Played: currentTeam.matchesPlayed,\n            Wins: currentTeam.seasonWins_overall,\n            Draws: currentTeam.seasonDraws_overall,\n            Losses: currentTeam.seasonLosses_overall,\n            For: currentTeam.seasonGoals,\n            Against:\n              currentTeam.seasonConceded_home + currentTeam.seasonConceded_away,\n            GoalDifference: currentTeam.seasonGoalDifference,\n            Form: last5,\n            LastXPoints: getPointsFromLastX(last5.split(\"\")),\n            Points: currentTeam.points,\n            wdl: currentTeam.wdl_record,\n            seasonGoals: currentTeam.seasonGoals,\n            seasonConceded: currentTeam.seasonConceded,\n          };\n          leagueInstance.push(team);\n        }\n        bespokeLeagueArray.push({\n          id: currentLeagueId,\n          group: group.name ? group.name : group.round,\n          table: leagueInstance,\n        });\n      });\n    } else if (league.data.league_table === null) {\n      for (\n        let index = 0;\n        index < league.data.all_matches_table_overall.length;\n        index++\n      ) {\n        let currentTeam = league.data.all_matches_table_overall[index];\n        let last5 = \"N/A\";\n        const team = {\n          LeagueID: currentLeagueId,\n          Position: index + 1,\n          Name: currentTeam.cleanName,\n          ID: currentTeam.id,\n          Played: currentTeam.matchesPlayed,\n          Wins: currentTeam.seasonWins_overall,\n          Draws: currentTeam.seasonDraws_overall,\n          Losses: currentTeam.seasonLosses_overall,\n          For: currentTeam.seasonGoals,\n          Against:\n            currentTeam.seasonConceded_home + currentTeam.seasonConceded_away,\n          GoalDifference: currentTeam.seasonGoalDifference,\n          Form: last5,\n          LastXPoints: getPointsFromLastX(last5.split(\"\")),\n          Points: currentTeam.points,\n          wdl: currentTeam.wdl_record,\n          seasonGoals: currentTeam.seasonGoals,\n          seasonConceded: currentTeam.seasonConceded,\n        };\n        leagueInstance.push(team);\n      }\n\n      tableArray.push({ id: currentLeagueId, table: leagueInstance });\n    }\n  });\n}\n\nexport async function renderTable(index, results, id) {\n  let league;\n  //World cup table rendering\n\n  // let mostRecentGame = results.fixtures.pop();\n  const nowInSeconds = Math.floor(Date.now() / 1000); // Current time in seconds\n  const twoWeeksAgo = nowInSeconds - 14 * 24 * 60 * 60; // Two week ago in seconds  console.log(oneWeekAgo)\n  // 1740576517073\n  // 1723230000\n  let mostRecentGames = results.fixtures.filter(\n    (result) => result.date_unix >= twoWeeksAgo\n  );\n\n  // let mostRecentGameweek = \"Latest\";\n\n  // const gameweeksResults = results.fixtures.filter(\n  //   (games) => games.game_week === mostRecentGame.game_week\n  // );\n\n  // const lastGameweeksResults = results.fixtures.filter(\n  //   (games) => games.game_week === mostRecentGameweek - 1\n  // );\n  // tableArray.concat(bespokeLeagueArray)\n\n  if (id !== 13973 && id !== 12933) {\n    const leagueTable = tableArray.filter((table) => table.id === id);\n\n    league = leagueTable[0].table;\n\n    let statistics;\n    let leagueStatistics = await fetch(\n      `${process.env.REACT_APP_EXPRESS_SERVER}leagueStats/${id}`\n    );\n    await leagueStatistics.json().then((stats) => {\n      statistics = stats.data;\n    });\n\n    if (league !== undefined) {\n      ReactDOM.render(\n        <LeagueTable\n          Teams={league}\n          Id={id}\n          Stats={statistics}\n          Key={`League${index}`}\n          GamesPlayed={statistics.game_week}\n          Results={mostRecentGames}\n          // mostRecentGameweek={mostRecentGameweek}\n        />,\n        document.getElementById(`leagueName${id}`)\n      );\n    }\n  } else if (id === 13973 || id === 12933) {\n    const leagueTable = bespokeLeagueArray.filter((table) => table.id === id);\n\n    const leagueTable1 = leagueTable[0].table;\n    const leagueTable2 = leagueTable[1].table;\n    const divisionName1 = leagueTable[0].group;\n    const divisionName2 = leagueTable[1].group;\n\n    let statistics;\n    let leagueStatistics = await fetch(\n      `${process.env.REACT_APP_EXPRESS_SERVER}leagueStats/${id}`\n    );\n    await leagueStatistics.json().then((stats) => {\n      statistics = stats.data;\n    });\n\n    if (leagueTable1 !== undefined && leagueTable2 !== undefined) {\n      ReactDOM.render(\n        <>\n          <LeagueTable\n            Teams={leagueTable1}\n            Stats={statistics}\n            Id={id}\n            Division={divisionName1}\n            Key={`League${index}${divisionName1}`}\n            GamesPlayed={statistics.game_week}\n            Results={mostRecentGames}\n          />\n          <LeagueTable\n            Teams={leagueTable2}\n            Division={divisionName2}\n            Stats={statistics}\n            Id={id}\n            Key={`League${index}${divisionName1}`}\n            GamesPlayed={statistics.game_week}\n            Results={mostRecentGames}\n          />\n        </>,\n        document.getElementById(`leagueName${id}`)\n      );\n    }\n  }\n}\n\nasync function createFixture(match, result, mockBool) {\n  let roundedHomeOdds;\n  let roundedAwayOdds;\n  let roundedBTTSOdds;\n  let homeFraction;\n  let awayFraction;\n  let bttsFraction;\n\n  if (selectedOdds === \"Fractional odds\") {\n    if (match.homeOdds !== 0 && match.awayOdds !== 0) {\n      roundedHomeOdds = (Math.round(match.homeOdds * 5) / 5).toFixed(1);\n      roundedAwayOdds = (Math.round(match.awayOdds * 5) / 5).toFixed(1);\n\n      if (roundedHomeOdds < 1.1) {\n        roundedHomeOdds = 1.1;\n      }\n      if (roundedAwayOdds < 1.1) {\n        roundedAwayOdds = 1.1;\n      }\n\n      if (match.homeOdds === 0.1 && match.awayOdds === 0.1) {\n        match.homeOdds = 3;\n        roundedHomeOdds = 3;\n        match.awayOdds = 3;\n        roundedAwayOdds = 3;\n      }\n\n      try {\n        homeFraction = oddslib\n          .from(\"decimal\", roundedHomeOdds)\n          .to(\"fractional\", { precision: 1 });\n        awayFraction = oddslib\n          .from(\"decimal\", roundedAwayOdds)\n          .to(\"fractional\", { precision: 1 });\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      homeFraction = \"N/A\";\n      awayFraction = \"N/A\";\n    }\n\n    if (match.bttsOdds !== 0) {\n      roundedBTTSOdds = (Math.round(match.bttsOdds * 5) / 5).toFixed(1);\n\n      if (roundedBTTSOdds < 1.1) {\n        roundedBTTSOdds = 1.1;\n      }\n\n      try {\n        bttsFraction = oddslib\n          .from(\"decimal\", roundedBTTSOdds)\n          .to(\"fractional\", { precision: 1 });\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      bttsFraction = \"N/A\";\n    }\n  } else if (selectedOdds === \"Decimal odds\") {\n    if (match.homeOdds !== 0 && match.awayOdds !== 0) {\n      homeFraction = match.homeOdds;\n      awayFraction = match.awayOdds;\n    } else {\n      homeFraction = \"N/A\";\n      awayFraction = \"N/A\";\n    }\n\n    if (match.bttsOdds !== 0) {\n      bttsFraction = match.bttsOdds;\n    } else {\n      bttsFraction = \"N/A\";\n    }\n  }\n\n  match.omit = false;\n  match.homeTeamWinsPercentage = match.homeTeamWinPercentage;\n  match.homeTeamLossesPercentage = match.homeTeamLossPercentage;\n  match.homeTeamDrawsPercentage = match.homeTeamDrawPercentage;\n\n  match.awayTeamWinsPercentage = match.awayTeamWinPercentage;\n  match.awayTeamLossesPercentage = match.awayTeamLossPercentage;\n  match.awayTeamDrawsPercentage = match.awayTeamDrawPercentage;\n  match.fractionHome = homeFraction;\n  match.fractionAway = awayFraction;\n\n  match.bttsFraction = bttsFraction;\n\n  match.game = match.homeTeam + \" v \" + match.awayTeam;\n\n  // ReactDOM.render(\n  //   <Fixture\n  //     fixtures={matches}\n  //     result={result}\n  //     mock={mockBool}\n  //     className={\"individualFixture\"}\n  //   />,\n  //   document.getElementById(\"FixtureContainer\")\n  // );\n}\n\nexport function RenderAllFixtures(props) {\n  let matches;\n  let capped = false;\n  let paid = false;\n  if (userDetail) {\n    paid = userDetail.isPaid;\n  }\n  const originalLength = props.matches.length;\n  if (paid === true) {\n    matches = props.matches;\n  } else {\n    if (originalLength > 15) {\n      matches = props.matches.slice(0, 15);\n      capped = true;\n    } else {\n      matches = props.matches;\n    }\n  }\n  console.log(paid);\n\n  return (\n    <Fixture\n      fixtures={matches}\n      result={props.result}\n      mock={false}\n      className={\"individualFixture\"}\n      paid={paid}\n      capped={capped}\n      originalLength={originalLength}\n    />\n  );\n}\n//     document.getElementById(\"FixtureContainer\")\n\nvar myHeaders = new Headers();\nmyHeaders.append(\"Origin\", \"https://gregdorward.github.io\");\n\nlet isFunctionRunning = false;\n\nexport let dynamicDate;\n\nexport async function generateFixtures(\n  day,\n  date,\n  selectedOdds,\n  footyStatsFormattedDate,\n  current,\n  todaysDate,\n  dateSS\n) {\n  if (!isFunctionRunning) {\n    isFunctionRunning = true;\n    // const randomInt = Math.random() * 10\n\n    // if(randomInt >= 7){\n    //   alert(\"XGTipping is now serving over 2000 users a month,1 relying on donations to cover increasing running costs. If you can afford to do so and like what we do, please, help us stay subscription fee today by tapping to Donation button at the bottom of the page\")\n    // }\n\n    ReactDOM.render(\n      <div>\n        <div className=\"LoadingText\">\n          Loading all league, fixture & form data, please be patient...\n        </div>\n        <ThreeDots height=\"3em\" fill=\"#030061\" />\n      </div>,\n      document.getElementById(\"Loading\")\n    );\n\n    dynamicDate = todaysDate\n\n    //cleanup if different day is selected\n    ReactDOM.render(\n      <div></div>,\n      document.getElementById(\"GeneratePredictions\")\n    );\n    ReactDOM.render(<div></div>, document.getElementById(\"successMeasure2\"));\n    ReactDOM.render(<div></div>, document.getElementById(\"bestPredictions\"));\n    ReactDOM.render(<div></div>, document.getElementById(\"exoticOfTheDay\"));\n    ReactDOM.render(<div></div>, document.getElementById(\"insights\"));\n    ReactDOM.render(<div></div>, document.getElementById(\"longShots\"));\n    ReactDOM.render(<div></div>, document.getElementById(\"BTTS\"));\n    ReactDOM.render(<div></div>, document.getElementById(\"draws\"));\n\n    const url = `${process.env.REACT_APP_EXPRESS_SERVER}matches/${footyStatsFormattedDate}`;\n    const formUrl = `${process.env.REACT_APP_EXPRESS_SERVER}form/${date}`;\n\n    matches = [];\n    fixtureArray = [];\n\n    league = await fetch(\n      `${process.env.REACT_APP_EXPRESS_SERVER}leagues/${todaysDate}`\n    );\n\n    ReactDOM.render(<div></div>, document.getElementById(\"FixtureContainer\"));\n\n    fixtureResponse = await fetch(url);\n\n    await fixtureResponse.json().then((fixtures) => {\n      fixtureArray = Array.from(fixtures.data);\n    });\n\n    let form;\n    let formArray = [];\n    allForm = [];\n    var isFormStored;\n    var isStoredLocally;\n    var leaguesStored = false;\n    let storedForm = await fetch(formUrl);\n    if (storedForm.status === 201 || storedForm.status === 200) {\n      await storedForm.json().then((form) => {\n        formArray = Array.from(form.allForm);\n        isFormStored = true;\n        isStoredLocally = true;\n        allForm = formArray;\n      });\n    } else {\n      isFormStored = false;\n      isStoredLocally = false;\n    }\n\n    leagueIdArray = [];\n    for (let i = 0; i < orderedLeagues.length; i++) {\n      leagueID = orderedLeagues[i].element.id;\n      leagueIdArray.push(leagueID);\n    }\n\n    var leaguePositions = [];\n    leagueArray = [];\n\n    let allLeagueResults;\n\n    allLeagueResults = await fetch(\n      `${process.env.REACT_APP_EXPRESS_SERVER}results`\n    );\n\n    if (league.status === 200) {\n      leaguesStored = true;\n      console.log(\"leagues fetched from s3\");\n    }\n\n    if (league.status === 200 && allLeagueResults.status === 201) {\n      console.log(\"Not fetching leagues\");\n      await league.json().then((leagues) => {\n        leagueArray = Array.from(leagues.leagueArray);\n      });\n      updateResults(false);\n\n      await allLeagueResults.json().then((allGames) => {\n        allLeagueResultsArrayOfObjects = Array.from(allGames);\n      });\n\n      leaguesStored = true;\n      generateTables(\n        leagueArray,\n        leagueIdArray,\n        allLeagueResultsArrayOfObjects\n      );\n      arrayOfGames = [];\n\n      const sofaScore = await fetch(\n        `https://www.sofascore.com/api/v1/sport/football/scheduled-events/${dateSS}`\n      );\n      await sofaScore.json().then((games) => {\n        games.events.forEach((game) => {\n          arrayOfGames.push({\n            homeTeam: game.homeTeam.name,\n            awayTeam: game.awayTeam.name,\n            id: game.id,\n            time: game.startTimestamp,\n            homeGoals:\n              game.homeScore.display != undefined\n                ? game.homeScore.display\n                : \"-\",\n            awayGoals:\n              game.awayScore.display != undefined\n                ? game.awayScore.display\n                : \"-\",\n          });\n        });\n      });\n\n      const sofaScoreLeagues = await fetch(\"\");\n    } else {\n      allLeagueResultsArrayOfObjects = [];\n      console.log(\"Fetching leagues\");\n      for (let i = 0; i < orderedLeagues.length; i++) {\n        league = await fetch(\n          `${process.env.REACT_APP_EXPRESS_SERVER}tables/${orderedLeagues[i].element.id}/${todaysDate}`\n        );\n        // eslint-disable-next-line no-loop-func\n        await league.json().then((table) => {\n          leagueArray.push(table);\n        });\n        leaguesStored = false;\n      }\n\n      //set variable for date X amount of days in the past and use that to filter the results\n\n      let startDate = (new Date().getTime() / 1000).toFixed(0);\n      // deduct 3 months\n      let targetDate = startDate - 23778463;\n\n      for (const orderedLeague of orderedLeagues) {\n        let fixtures = await fetch(\n          `${process.env.REACT_APP_EXPRESS_SERVER}leagueFixtures/${orderedLeague.element.id}`\n        );\n\n        let games = await fixtures.json();\n        let gamesFiltered;\n        let gamesShortened;\n        if (games.pager.current_page < games.pager.max_page) {\n          const page2 = await fetch(\n            `${process.env.REACT_APP_EXPRESS_SERVER}leagueFixtures/${orderedLeague.element.id}&page=2`\n          );\n          let page2Data = await page2.json();\n\n          const gamesConcat = games.data.concat(page2Data.data);\n          const gamesConcatFiltered = gamesConcat.filter(\n            (game) => game.status === \"complete\"\n          );\n\n          let mostRecentResults = gamesConcatFiltered.filter(\n            (game) => game.date_unix > targetDate\n          );\n          let sorted = mostRecentResults.sort(\n            (a, b) => a.date_unix - b.date_unix\n          );\n          gamesShortened = sorted.slice(-600);\n          gamesFiltered = gamesShortened;\n        } else {\n          gamesFiltered = games.data.filter(\n            (game) => game.status === \"complete\"\n          );\n\n          if (current) {\n            let mostRecentResults = gamesFiltered.filter(\n              (game) => game.date_unix > targetDate\n            );\n            gamesFiltered = mostRecentResults.slice(-600);\n          }\n        }\n\n        // let mostRecentResults = gamesFiltered.filter(\n        //   (game) => game.date_unix > targetDate\n        // );\n\n        const shortenedResults = gamesFiltered.map(\n          ({\n            home_name,\n            away_name,\n            homeGoalCount,\n            awayGoalCount,\n            home_ppg,\n            away_ppg,\n            date_unix,\n            team_a_xg,\n            team_b_xg,\n            odds_ft_1,\n            odds_ft_2,\n            team_a_shots,\n            team_b_shots,\n            team_a_corners,\n            team_b_corners,\n            team_a_shotsOnTarget,\n            team_b_shotsOnTarget,\n            team_a_red_cards,\n            team_b_red_cards,\n            team_a_possession,\n            team_b_possession,\n            team_a_dangerous_attacks,\n            team_b_dangerous_attacks,\n            pre_match_teamA_overall_ppg,\n            pre_match_teamB_overall_ppg,\n            game_week,\n          }) => ({\n            home_name,\n            away_name,\n            homeGoalCount,\n            awayGoalCount,\n            home_ppg,\n            away_ppg,\n            date_unix,\n            team_a_xg,\n            team_b_xg,\n            odds_ft_1,\n            odds_ft_2,\n            team_a_shots,\n            team_b_shots,\n            team_a_corners,\n            team_b_corners,\n            team_a_shotsOnTarget,\n            team_b_shotsOnTarget,\n            team_a_red_cards,\n            team_b_red_cards,\n            team_a_possession,\n            team_b_possession,\n            team_a_dangerous_attacks,\n            team_b_dangerous_attacks,\n            pre_match_teamA_overall_ppg,\n            pre_match_teamB_overall_ppg,\n            game_week,\n          })\n        );\n\n        let leagueObj = {\n          // leagueObject[orderedLeague] = {\n          name: orderedLeague.name,\n          id: orderedLeague.element.id,\n          fixtures: shortenedResults,\n        };\n\n        allLeagueResultsArrayOfObjects.push(leagueObj);\n      }\n      updateResults(true);\n      generateTables(\n        leagueArray,\n        leagueIdArray,\n        allLeagueResultsArrayOfObjects\n      );\n    }\n\n    let teamPositionPrefix;\n\n    async function getPrefix(position) {\n      switch (position) {\n        case 1:\n        case 21:\n        case 31:\n        case 41:\n          teamPositionPrefix = \"st\";\n          break;\n        case 2:\n        case 22:\n        case 32:\n        case 42:\n          teamPositionPrefix = \"nd\";\n          break;\n        case 3:\n        case 23:\n        case 33:\n        case 43:\n          teamPositionPrefix = \"rd\";\n          break;\n        case 4:\n        case 5:\n        case 6:\n        case 7:\n        case 8:\n        case 9:\n        case 10:\n        case 11:\n        case 12:\n        case 13:\n        case 14:\n        case 15:\n        case 16:\n        case 17:\n        case 18:\n        case 19:\n        case 20:\n        case 24:\n        case 25:\n        case 26:\n        case 27:\n        case 28:\n        case 29:\n        case 30:\n        case 34:\n        case 35:\n        case 36:\n        case 37:\n        case 38:\n        case 39:\n        case 40:\n        case 44:\n        case 45:\n        case 46:\n        case 47:\n        case 48:\n          teamPositionPrefix = \"th\";\n          break;\n        default:\n          break;\n      }\n      return teamPositionPrefix;\n    }\n\n    for (let i = 0; i < leagueArray.length; i++) {\n      let leagueInstance;\n      let homeLeague;\n      let awayLeague;\n\n      if (leagueArray[i].data.league_table !== null) {\n        leagueInstance = leagueArray[i].data.league_table;\n        homeLeague = leagueArray[i].data.all_matches_table_home;\n        awayLeague = leagueArray[i].data.all_matches_table_away;\n      } else {\n        leagueInstance = leagueArray[i].data.all_matches_table_overall;\n        homeLeague = leagueArray[i].data.all_matches_table_home;\n        awayLeague = leagueArray[i].data.all_matches_table_away;\n      }\n\n      for (let x = 0; x < leagueInstance.length; x++) {\n        let regularSeason = leagueArray[i].data.specific_tables.find(\n          (season) =>\n            season.round === \"Regular Season\" ||\n            season.round === \"2025\" ||\n            season.round === \"2024/2025\" ||\n            season.round === \"Apertura\" ||\n            season.round === \"1st Phase\"\n          // season.round === \"North\" ||\n          // season.round === \"South\"\n        );\n        let string;\n\n        if (regularSeason !== undefined && regularSeason.table) {\n          string = regularSeason.table[x];\n          homeLeague = leagueArray[i].data.all_matches_table_home;\n          awayLeague = leagueArray[i].data.all_matches_table_away;\n        } else {\n          string = leagueArray[i].data.all_matches_table_overall[x];\n          homeLeague = leagueArray[i].data.all_matches_table_home;\n          awayLeague = leagueArray[i].data.all_matches_table_away;\n        }\n\n        let stringHome = homeLeague[x];\n        let stringAway = awayLeague[x];\n\n        if (string) {\n          leaguePositions.push({\n            name: string.cleanName,\n            position: x + 1,\n            rawPosition: x + 1,\n            homeFormName: stringHome ? stringHome.cleanName : string.cleanName,\n            awayFormName: stringAway ? stringAway.cleanName : string.cleanName,\n            homeSeasonWinPercentage: stringHome\n              ? stringHome.seasonWins\n              : string.seasonWins,\n            awaySeasonWinPercentage: stringAway\n              ? stringAway.seasonWins\n              : string.seasonWins,\n            homeSeasonLossPercentage: stringHome\n              ? stringHome.seasonLosses_home\n              : string.seasonLosses_home,\n            awaySeasonLossPercentage: stringAway\n              ? stringAway.seasonLosses_away\n              : string.seasonLosses_away,\n            homeSeasonDrawPercentage: stringHome\n              ? stringHome.seasonDraws\n              : string.seasonDraws,\n            awaySeasonDrawPercentage: stringAway\n              ? stringAway.seasonDraws\n              : string.seasonDraws,\n            homeSeasonMatchesPlayed: stringHome\n              ? stringHome.matchesPlayed\n              : string.matchesPlayed,\n            awaySeasonMatchesPlayed: stringAway\n              ? stringAway.matchesPlayed\n              : string.matchesPlayed,\n            ppg: string.points / string.matchesPlayed,\n            wdl: string.wdl_record ? string.wdl_record : \"\",\n            played: string.matchesPlayed,\n            seasonGoals: string.seasonGoals,\n            seasonConceded: string.seasonConceded,\n          });\n        }\n      }\n    }\n\n    let previousLeagueName;\n\n    for (let i = 0; i < orderedLeagues.length; i++) {\n      leagueID = orderedLeagues[i].element.id;\n      leagueGames = fixtureArray.filter(\n        (game) => game.competition_id === orderedLeagues[i].element.id\n      );\n\n      for (const fixture of leagueGames) {\n        const unixTimestamp = fixture.date_unix;\n        const milliseconds = unixTimestamp * 1000;\n        const dateObject = new Date(milliseconds);\n\n        let match = {};\n        if (orderedLeagues[i].name !== previousLeagueName) {\n          match.leagueName = orderedLeagues[i].name;\n          match.leagueDesc = orderedLeagues[i].name;\n          match.leagueIndex = i;\n          match.leagueID = leagueID;\n        } else {\n          match.leagueName = null;\n          match.leagueDesc = orderedLeagues[i].name;\n          match.leagueIndex = i;\n          match.leagueID = leagueID;\n        }\n        match.id = fixture.id;\n        match.competition_id = fixture.competition_id;\n        match.date = fixture.date_unix;\n        match.time = dateObject.toLocaleString(\"en-GB\", {\n          hour: \"2-digit\",\n          minute: \"2-digit\",\n        });\n        match.homeTeam = fixture.home_name;\n        match.awayTeam = fixture.away_name;\n        match.refereeID = fixture.refereeID;\n        match.homeOdds = +fixture.odds_ft_1.toFixed(2);\n        match.awayOdds = +fixture.odds_ft_2.toFixed(2);\n        match.drawOdds = +fixture.odds_ft_x.toFixed(2);\n        match.homeDoubleChance = fixture.odds_doublechance_1x;\n        match.awayDoubleChance = fixture.odds_doublechance_x2;\n        match.bttsOdds = fixture.odds_btts_yes;\n        match.homeId = fixture.homeID;\n        match.awayId = fixture.awayID;\n        match.form = [];\n        match.homeTeamInfo = [];\n        match.awayTeamInfo = [];\n        match.btts = false;\n\n        previousLeagueName = orderedLeagues[i].name;\n\n        let homeTeaminLeague;\n        let awayTeaminLeague;\n        let teamPositionHome;\n        let teamPositionHomeTable;\n        let teamPositionAwayTable;\n        let homeTeamWinPercentageHome;\n        let awayTeamWinPercentageAway;\n        let homeTeamLossPercentageHome;\n        let awayTeamLossPercentageAway;\n        let homeTeamDrawPercentageHome;\n        let awayTeamDrawPercentageAway;\n        let teamPositionAway;\n        let homePrefix;\n        let homePrefixHomeTable;\n        let awayPrefix;\n        let awayPrefixAwayTable;\n        let homeSeasonPPG;\n        let awaySeasonPPG;\n\n        try {\n          homeTeaminLeague = leaguePositions.find(\n            (team) => team.name === match.homeTeam\n          );\n\n          let homeTeaminHomeLeague = leaguePositions.find(\n            (team) => team.homeFormName === match.homeTeam\n          );\n\n          teamPositionHome = homeTeaminLeague.position;\n          teamPositionHomeTable = homeTeaminHomeLeague.position;\n\n          WDLinLeagueHome = Array.from(homeTeaminLeague.wdl.toUpperCase());\n          HomeAverageGoals =\n            homeTeaminLeague.seasonGoals / homeTeaminLeague.played;\n          HomeAverageConceded =\n            homeTeaminLeague.seasonConceded / homeTeaminLeague.played;\n\n          homeTeamWinPercentageHome =\n            (homeTeaminHomeLeague.homeSeasonWinPercentage /\n              homeTeaminHomeLeague.homeSeasonMatchesPlayed) *\n            100;\n\n          homeTeamLossPercentageHome =\n            (homeTeaminHomeLeague.homeSeasonLossPercentage /\n              homeTeaminHomeLeague.homeSeasonMatchesPlayed) *\n            100;\n\n          homeTeamDrawPercentageHome =\n            (homeTeaminHomeLeague.homeSeasonDrawPercentage /\n              homeTeaminHomeLeague.homeSeasonMatchesPlayed) *\n            100;\n\n          homePrefix = await getPrefix(teamPositionHome);\n          homePrefixHomeTable = await getPrefix(teamPositionHomeTable);\n\n          homeSeasonPPG = homeTeaminLeague.ppg.toFixed(2);\n        } catch (error) {\n          console.log(error);\n          teamPositionHome = \"N/A\";\n          homePrefix = \"\";\n          homePrefixHomeTable = \"\";\n          homeSeasonPPG = \"N/A\";\n          homeTeaminLeague = {\n            rawPosition: \"N/A\",\n          };\n          WDLinLeagueHome = [];\n        }\n\n        try {\n          awayTeaminLeague = leaguePositions.find(\n            (team) => team.name === match.awayTeam\n          );\n\n          let awayTeaminAwayLeague = leaguePositions.find(\n            (team) => team.awayFormName === match.awayTeam\n          );\n\n          teamPositionAway = awayTeaminLeague.position;\n          teamPositionAwayTable = awayTeaminAwayLeague.position;\n\n          WDLinLeagueAway = Array.from(awayTeaminLeague.wdl.toUpperCase());\n          AwayAverageGoals =\n            awayTeaminLeague.seasonGoals / awayTeaminLeague.played;\n          AwayAverageConceded =\n            awayTeaminLeague.seasonConceded / awayTeaminLeague.played;\n\n          awayTeamWinPercentageAway =\n            (awayTeaminAwayLeague.awaySeasonWinPercentage /\n              awayTeaminAwayLeague.awaySeasonMatchesPlayed) *\n            100;\n\n          awayTeamLossPercentageAway =\n            (awayTeaminAwayLeague.awaySeasonLossPercentage /\n              awayTeaminAwayLeague.awaySeasonMatchesPlayed) *\n            100;\n\n          awayTeamDrawPercentageAway =\n            (awayTeaminAwayLeague.awaySeasonDrawPercentage /\n              awayTeaminAwayLeague.awaySeasonMatchesPlayed) *\n            100;\n\n          awayPrefix = await getPrefix(teamPositionAway);\n          awayPrefixAwayTable = await getPrefix(teamPositionAwayTable);\n\n          awaySeasonPPG = awayTeaminLeague.ppg.toFixed(2);\n        } catch (error) {\n          console.log(error);\n          teamPositionAway = \"N/A\";\n          awayPrefix = \"\";\n          awaySeasonPPG = \"N/A\";\n          awayTeaminLeague = {\n            rawPosition: \"N/A\",\n          };\n          WDLinLeagueAway = [];\n        }\n\n        if (!isFormStored) {\n          form = await getForm(match);\n\n          let homeFormString5 =\n            form[0].data[0].stats.additional_info.formRun_overall.toUpperCase();\n          let awayFormString5 =\n            form[1].data[0].stats.additional_info.formRun_overall.toUpperCase();\n          let homeFormString6 =\n            form[0].data[1].stats.additional_info.formRun_overall.toUpperCase();\n          let awayFormString6 =\n            form[1].data[1].stats.additional_info.formRun_overall.toUpperCase();\n          let homeFormString10 =\n            form[0].data[2].stats.additional_info.formRun_overall.toUpperCase();\n          let awayFormString10 =\n            form[1].data[2].stats.additional_info.formRun_overall.toUpperCase();\n\n          let homeFormRun =\n            form[0].data[2].stats.additional_info.formRun_home.toUpperCase();\n          let awayFormRun =\n            form[1].data[2].stats.additional_info.formRun_away.toUpperCase();\n\n          if (WDLinLeagueHome.length >= 10) {\n            lastThreeFormHome = WDLinLeagueHome.slice(-3);\n            lastFiveFormHome = WDLinLeagueHome.slice(-5);\n            lastSixFormHome = WDLinLeagueHome.slice(-6);\n            lastTenFormHome = WDLinLeagueHome.slice(-10);\n            lastThreeFormAway = WDLinLeagueAway.slice(-3);\n            lastFiveFormAway = WDLinLeagueAway.slice(-5);\n            lastSixFormAway = WDLinLeagueAway.slice(-6);\n            lastTenFormAway = WDLinLeagueAway.slice(-10);\n            leagueOrAll = \"League\";\n            homeAverageGoals = HomeAverageGoals;\n            homeAverageConceded = HomeAverageConceded;\n            awayAverageGoals = AwayAverageGoals;\n            awayAverageConceded = AwayAverageConceded;\n          } else if (WDLinLeagueHome.length >= 6) {\n            lastThreeFormHome = WDLinLeagueHome.slice(-3);\n            lastFiveFormHome = WDLinLeagueHome.slice(-5);\n            lastSixFormHome = WDLinLeagueHome.slice(-6);\n            lastTenFormHome = Array.from(homeFormString10);\n            lastThreeFormAway = WDLinLeagueAway.slice(-3);\n            lastFiveFormAway = WDLinLeagueAway.slice(-5);\n            lastSixFormAway = WDLinLeagueAway.slice(-6);\n            lastTenFormAway = Array.from(awayFormString10);\n            leagueOrAll = \"League\";\n\n            homeAverageGoals = HomeAverageGoals;\n            homeAverageConceded = HomeAverageConceded;\n            awayAverageGoals = AwayAverageGoals;\n            awayAverageConceded = AwayAverageConceded;\n          } else if (WDLinLeagueHome.length >= 5) {\n            lastThreeFormHome = WDLinLeagueHome.slice(-3);\n            lastFiveFormHome = WDLinLeagueHome.slice(-5);\n            lastSixFormHome = Array.from(homeFormString6);\n            lastTenFormHome = Array.from(homeFormString10);\n            lastThreeFormAway = WDLinLeagueAway.slice(-3);\n            lastFiveFormAway = WDLinLeagueAway.slice(-5);\n            lastSixFormAway = Array.from(awayFormString6);\n            lastTenFormAway = Array.from(awayFormString10);\n            leagueOrAll = \"League\";\n\n            homeAverageGoals = HomeAverageGoals;\n            homeAverageConceded = HomeAverageConceded;\n            awayAverageGoals = AwayAverageGoals;\n            awayAverageConceded = AwayAverageConceded;\n          } else {\n            lastThreeFormHome = [\n              homeFormString5[2],\n              homeFormString5[3],\n              homeFormString5[4],\n            ];\n            lastFiveFormHome = Array.from(homeFormString5);\n            lastSixFormHome = Array.from(homeFormString6);\n            lastTenFormHome = Array.from(homeFormString10);\n            lastThreeFormAway = [\n              awayFormString5[2],\n              awayFormString5[3],\n              awayFormString5[4],\n            ];\n\n            lastFiveFormAway = Array.from(awayFormString5);\n            lastSixFormAway = Array.from(awayFormString6);\n            lastTenFormAway = Array.from(awayFormString10);\n\n            leagueOrAll = \"All\";\n\n            homeAverageGoals = undefined;\n            homeAverageConceded = undefined;\n            awayAverageGoals = undefined;\n            awayAverageConceded = undefined;\n          }\n\n          formRunHome = Array.from(homeFormRun);\n          formRunAway = Array.from(awayFormRun);\n\n          if (\n            teamPositionHome === 0 ||\n            form[0].data[0].season_format !== \"Domestic League\"\n          ) {\n            teamPositionHome = \"N/A\";\n            teamPositionHomeTable = \"N/A\";\n            homePrefix = \"\";\n            homePrefixHomeTable = \"\";\n          }\n\n          if (\n            teamPositionAway === 0 ||\n            form[0].data[0].season_format !== \"Domestic League\"\n          ) {\n            teamPositionAway = \"N/A\";\n            teamPositionAwayTable = \"N/A\";\n            awayPrefix = \"\";\n            awayPrefixAwayTable = \"\";\n          }\n          allForm.push({\n            id: match.id,\n            teamIDHome: match.homeId,\n            teamIDAway: match.awayId,\n            leagueId: leagueID,\n            home: {\n              teamName: match.homeTeam,\n              0: {\n                // XGOverall: parseFloat(form[0].data[0].stats.xg_for_avg_overall),\n                // XG: parseFloat(form[0].data[0].stats.xg_for_avg_home),\n                // ScoredOverall: parseFloat(\n                //   form[0].data[0].stats.seasonScoredNum_overall\n                // ),\n                // ScoredAverage: parseFloat(\n                //   form[0].data[0].stats.seasonScoredAVG_home\n                // ),\n                // PlayedHome: parseFloat(\n                //   form[0].data[0].stats.seasonMatchesPlayed_home\n                // ),\n                // PlayedAway: parseFloat(\n                //   form[0].data[0].stats.seasonMatchesPlayed_away\n                // ),\n                // ConcededOverall: parseFloat(\n                //   form[0].data[0].stats.seasonConcededNum_overall\n                // ),\n                // ConcededAverage: parseFloat(\n                //   form[0].data[0].stats.seasonConcededAVG_home\n                // ),\n                // XGAgainstAvgOverall: parseFloat(\n                //   form[0].data[0].stats.xg_against_avg_overall\n                // ),\n                // XGAgainstAverage: parseFloat(\n                //   form[0].data[0].stats.xg_against_avg_home\n                // ),\n                // CleanSheetPercentage: parseFloat(\n                //   form[0].data[0].stats.seasonCSPercentage_overall\n                // ),\n                // AveragePossessionOverall: parseFloat(\n                //   form[0].data[0].stats.possessionAVG_overall\n                // ),\n                // AveragePossession: parseFloat(\n                //   form[0].data[0].stats.possessionAVG_home\n                // ),\n                // AverageShotsOnTargetOverall: parseFloat(\n                //   form[0].data[0].stats.shotsOnTargetAVG_overall\n                // ),\n                // AverageShotsOnTarget: parseFloat(\n                //   form[0].data[0].stats.shotsOnTargetAVG_home\n                // ),\n                // AverageDangerousAttacksOverall: parseFloat(\n                //   form[0].data[0].stats.dangerous_attacks_avg_overall\n                // ),\n                // PPG: parseFloat(form[0].data[0].stats.seasonPPG_overall),\n                // AttacksHome: parseFloat(form[0].data[0].stats.attacks_avg_home),\n                // AttacksAway: parseFloat(form[0].data[0].stats.attacks_avg_away),\n                // AverageDangerousAttacks: parseFloat(\n                //   form[0].data[0].stats.dangerous_attacks_avg_home\n                // ),\n                // homeAttackAdvantage: parseFloat(\n                //   form[0].data[0].stats.homeAttackAdvantage\n                // ),\n                // homeDefenceAdvantage: parseFloat(\n                //   form[0].data[0].stats.homeDefenceAdvantage\n                // ),\n                // BTTSPercentage: parseInt(\n                //   form[0].data[0].stats.seasonBTTSPercentage_home\n                // ),\n                // LeagueOrAll: leagueOrAll,\n                // LeaguePosition: `${teamPositionHome}${homePrefix}`,\n                // homeRawPosition: homeTeaminLeague.rawPosition !== undefined\n                //   ? homeTeaminLeague.rawPosition\n                //   : 0,\n                // homeTeamHomePositionRaw: teamPositionHomeTable,\n                // LeagueAverageGoals: homeAverageGoals,\n                // LeagueAverageConceded: homeAverageConceded,\n              },\n              1: {\n                // XGOverall: parseFloat(form[0].data[1].stats.xg_for_avg_overall),\n                // XG: parseFloat(form[0].data[1].stats.xg_for_avg_home),\n                // ScoredOverall: parseFloat(\n                //   form[0].data[1].stats.seasonScoredNum_overall\n                // ),\n                // ScoredAverage: parseFloat(\n                //   form[0].data[1].stats.seasonScoredAVG_home\n                // ),\n                // PlayedHome: parseFloat(\n                //   form[0].data[1].stats.seasonMatchesPlayed_home\n                // ),\n                // PlayedAway: parseFloat(\n                //   form[0].data[1].stats.seasonMatchesPlayed_away\n                // ),\n                // ConcededOverall: parseFloat(\n                //   form[0].data[1].stats.seasonConcededNum_overall\n                // ),\n                // ConcededAverage: parseFloat(\n                //   form[0].data[1].stats.seasonConcededAVG_home\n                // ),\n                // XGAgainstAvgOverall: parseFloat(\n                //   form[0].data[1].stats.xg_against_avg_overall\n                // ),\n                // XGAgainstAverage: parseFloat(\n                //   form[0].data[1].stats.xg_against_avg_home\n                // ),\n                // CleanSheetPercentage: parseFloat(\n                //   form[0].data[1].stats.seasonCSPercentage_overall\n                // ),\n                // AveragePossessionOverall: parseFloat(\n                //   form[0].data[1].stats.possessionAVG_overall\n                // ),\n                // AveragePossession: parseFloat(\n                //   form[0].data[1].stats.possessionAVG_home\n                // ),\n                // AverageShotsOnTargetOverall: parseFloat(\n                //   form[0].data[1].stats.shotsOnTargetAVG_overall\n                // ),\n                // AverageShotsOnTarget: parseFloat(\n                //   form[0].data[1].stats.shotsOnTargetAVG_home\n                // ),\n                // AverageDangerousAttacksOverall: parseFloat(\n                //   form[0].data[1].stats.dangerous_attacks_avg_overall\n                // ),\n                // PPG: parseFloat(form[0].data[1].stats.seasonPPG_overall),\n                // AttacksHome: parseFloat(form[0].data[1].stats.attacks_avg_home),\n                // AttacksAway: parseFloat(form[0].data[1].stats.attacks_avg_away),\n                // AverageDangerousAttacks: parseFloat(\n                //   form[0].data[1].stats.dangerous_attacks_avg_home\n                // ),\n                // homeAttackAdvantage: parseFloat(\n                //   form[0].data[1].stats.homeAttackAdvantage\n                // ),\n                // homeDefenceAdvantage: parseFloat(\n                //   form[0].data[1].stats.homeDefenceAdvantage\n                // ),\n                // BTTSPercentage: parseInt(\n                //   form[0].data[1].stats.seasonBTTSPercentage_home\n                // ),\n                // LeagueOrAll: leagueOrAll,\n                // LeaguePosition: `${teamPositionHome}${homePrefix}`,\n                // homeRawPosition: homeTeaminLeague.rawPosition !== undefined\n                //   ? homeTeaminLeague.rawPosition\n                //   : 0,\n                // homeTeamHomePositionRaw: teamPositionHomeTable,\n                // LeagueAverageGoals: homeAverageGoals,\n                // LeagueAverageConceded: homeAverageConceded,\n              },\n              2: {\n                XGOverall: parseFloat(form[0].data[2].stats.xg_for_avg_overall),\n                XG: parseFloat(form[0].data[2].stats.xg_for_avg_home),\n                ScoredOverall: parseFloat(\n                  form[0].data[2].stats.seasonScoredNum_overall\n                ),\n                ScoredAverage: parseFloat(\n                  form[0].data[2].stats.seasonScoredAVG_home\n                ),\n                PlayedHome: parseFloat(\n                  form[0].data[2].stats.seasonMatchesPlayed_home\n                ),\n                PlayedAway: parseFloat(\n                  form[0].data[2].stats.seasonMatchesPlayed_away\n                ),\n                ConcededOverall: parseFloat(\n                  form[0].data[2].stats.seasonConcededNum_overall\n                ),\n                ConcededAverage: parseFloat(\n                  form[0].data[2].stats.seasonConcededAVG_home\n                ),\n                XGAgainstAvgOverall: parseFloat(\n                  form[0].data[2].stats.xg_against_avg_overall\n                ),\n                XGAgainstAverage: parseFloat(\n                  form[0].data[2].stats.xg_against_avg_home\n                ),\n                CleanSheetPercentage: parseFloat(\n                  form[0].data[2].stats.seasonCSPercentage_overall\n                ),\n                AveragePossessionOverall: parseFloat(\n                  form[0].data[2].stats.possessionAVG_overall\n                ),\n                AveragePossession: parseFloat(\n                  form[0].data[2].stats.possessionAVG_home\n                ),\n                AverageShotsOnTargetOverall: parseFloat(\n                  form[0].data[2].stats.shotsOnTargetAVG_overall\n                ),\n                AverageShotsOnTarget: parseFloat(\n                  form[0].data[2].stats.shotsOnTargetAVG_home\n                ),\n                AverageShots: parseFloat(\n                  form[0].data[2].stats.shotsAVG_overall\n                ),\n                AverageShotsHomeOrAway: parseFloat(\n                  form[0].data[2].stats.shotsAVG_home\n                ),\n                AverageDangerousAttacksOverall: parseFloat(\n                  form[0].data[2].stats.dangerous_attacks_avg_overall\n                ),\n                PPG: parseFloat(form[0].data[2].stats.seasonPPG_overall),\n                AttacksHome: parseFloat(form[0].data[2].stats.attacks_avg_home),\n                AttacksAway: parseFloat(form[0].data[2].stats.attacks_avg_away),\n                AverageDangerousAttacks: parseFloat(\n                  form[0].data[2].stats.dangerous_attacks_avg_home\n                ),\n                homeAttackAdvantage: parseFloat(\n                  form[0].data[2].stats.homeAttackAdvantage\n                ),\n                homeDefenceAdvantage: parseFloat(\n                  form[0].data[2].stats.homeDefenceAdvantage\n                ),\n                BTTSPercentage: parseInt(\n                  form[0].data[2].stats.seasonBTTSPercentage_home\n                ),\n                lastThreeForm:\n                  lastThreeFormHome !== undefined\n                    ? lastThreeFormHome.reverse()\n                    : \"N/A\",\n                LastFiveForm:\n                  lastFiveFormHome !== undefined\n                    ? lastFiveFormHome.reverse()\n                    : \"N/A\",\n                LastSixForm:\n                  lastSixFormHome !== undefined\n                    ? lastSixFormHome.reverse()\n                    : \"N/A\",\n                LastTenForm:\n                  lastTenFormHome !== undefined\n                    ? lastTenFormHome.reverse()\n                    : \"N/A\",\n                LeagueOrAll: leagueOrAll,\n                LeaguePosition: `${teamPositionHome}${homePrefix}`,\n                homeRawPosition:\n                  homeTeaminLeague.rawPosition !== undefined\n                    ? homeTeaminLeague.rawPosition\n                    : 0,\n                homeTeamHomePositionRaw: teamPositionHomeTable,\n                SeasonPPG: homeSeasonPPG,\n                WinPercentage: homeTeamWinPercentageHome,\n                LossPercentage: homeTeamLossPercentageHome,\n                DrawPercentage: homeTeamDrawPercentageHome,\n                formRun: formRunHome,\n                goalDifference:\n                  form[0].data[2].stats.seasonGoalDifference_overall,\n                goalDifferenceHomeOrAway:\n                  form[0].data[2].stats.seasonGoalDifference_home,\n                BttsPercentage:\n                  form[0].data[2].stats.seasonBTTSPercentage_overall,\n                BttsPercentageHomeOrAway:\n                  form[0].data[2].stats.seasonBTTSPercentage_home,\n                CardsTotal: form[0].data[2].stats.cardsTotal_overall,\n                CornersAverage: form[0].data[2].stats.cornersAVG_overall,\n                ScoredBothHalvesPercentage:\n                  form[0].data[2].stats.scoredBothHalvesPercentage_overall,\n                LastMatch: await convertTimestamp(\n                  form[0].data[0].last_updated_match_timestamp\n                ),\n                WDLRecord: WDLinLeagueHome,\n                LeagueAverageGoals: homeAverageGoals,\n                LeagueAverageConceded: homeAverageConceded,\n              },\n            },\n            away: {\n              teamName: match.awayTeam,\n              0: {\n                // XGOverall: parseFloat(form[1].data[0].stats.xg_for_avg_overall),\n                // XG: parseFloat(form[1].data[0].stats.xg_for_avg_away),\n                // ScoredOverall: parseFloat(\n                //   form[1].data[0].stats.seasonScoredNum_overall\n                // ),\n                // ScoredAverage: parseFloat(\n                //   form[1].data[0].stats.seasonScoredAVG_away\n                // ),\n                // PlayedHome: parseFloat(\n                //   form[1].data[0].stats.seasonMatchesPlayed_home\n                // ),\n                // PlayedAway: parseFloat(\n                //   form[1].data[0].stats.seasonMatchesPlayed_away\n                // ),\n                // ConcededOverall: parseFloat(\n                //   form[1].data[0].stats.seasonConcededNum_overall\n                // ),\n                // ConcededAverage: parseFloat(\n                //   form[1].data[0].stats.seasonConcededAVG_away\n                // ),\n                // XGAgainstAvgOverall: parseFloat(\n                //   form[1].data[0].stats.xg_against_avg_overall\n                // ),\n                // XGAgainstAverage: parseFloat(\n                //   form[1].data[0].stats.xg_against_avg_away\n                // ),\n                // CleanSheetPercentage: parseFloat(\n                //   form[1].data[0].stats.seasonCSPercentage_overall\n                // ),\n                // AveragePossessionOverall: parseFloat(\n                //   form[1].data[0].stats.possessionAVG_overall\n                // ),\n                // AveragePossession: parseFloat(\n                //   form[1].data[0].stats.possessionAVG_away\n                // ),\n                // AverageShotsOnTargetOverall: parseFloat(\n                //   form[1].data[0].stats.shotsOnTargetAVG_overall\n                // ),\n                // AverageShotsOnTarget: parseFloat(\n                //   form[1].data[0].stats.shotsOnTargetAVG_away\n                // ),\n                // AverageDangerousAttacksOverall: parseFloat(\n                //   form[1].data[0].stats.dangerous_attacks_avg_overall\n                // ),\n                // PPG: parseFloat(form[1].data[0].stats.seasonPPG_overall),\n                // AttacksAverage: parseFloat(\n                //   form[1].data[0].stats.attacks_avg_away\n                // ),\n                // AverageDangerousAttacks: parseFloat(\n                //   form[1].data[0].stats.dangerous_attacks_avg_away\n                // ),\n                // BTTSPercentage: parseInt(\n                //   form[1].data[0].stats.seasonBTTSPercentage_away\n                // ),\n                // LeagueOrAll: leagueOrAll,\n                // LeaguePosition: `${teamPositionAway}${awayPrefix}`,\n                // awayRawPosition: awayTeaminLeague.rawPosition\n                //   ? awayTeaminLeague.rawPosition\n                //   : 0,\n                // awayTeamAwayPositionRaw: teamPositionAwayTable,\n                // LeagueAverageGoals: awayAverageGoals,\n                // LeagueAverageConceded: awayAverageConceded,\n              },\n              1: {\n                // XGOverall: parseFloat(form[1].data[1].stats.xg_for_avg_overall),\n                // XG: parseFloat(form[1].data[1].stats.xg_for_avg_away),\n                // ScoredOverall: parseFloat(\n                //   form[1].data[1].stats.seasonScoredNum_overall\n                // ),\n                // ScoredAverage: parseFloat(\n                //   form[1].data[1].stats.seasonScoredAVG_away\n                // ),\n                // PlayedHome: parseFloat(\n                //   form[1].data[1].stats.seasonMatchesPlayed_home\n                // ),\n                // PlayedAway: parseFloat(\n                //   form[1].data[1].stats.seasonMatchesPlayed_away\n                // ),\n                // ConcededOverall: parseFloat(\n                //   form[1].data[1].stats.seasonConcededNum_overall\n                // ),\n                // ConcededAverage: parseFloat(\n                //   form[1].data[1].stats.seasonConcededAVG_away\n                // ),\n                // XGAgainstAvgOverall: parseFloat(\n                //   form[1].data[1].stats.xg_against_avg_overall\n                // ),\n                // XGAgainstAverage: parseFloat(\n                //   form[1].data[1].stats.xg_against_avg_away\n                // ),\n                // CleanSheetPercentage: parseFloat(\n                //   form[1].data[1].stats.seasonCSPercentage_overall\n                // ),\n                // AveragePossessionOverall: parseFloat(\n                //   form[1].data[1].stats.possessionAVG_overall\n                // ),\n                // AveragePossession: parseFloat(\n                //   form[1].data[1].stats.possessionAVG_away\n                // ),\n                // AverageShotsOnTargetOverall: parseFloat(\n                //   form[1].data[1].stats.shotsOnTargetAVG_overall\n                // ),\n                // AverageShotsOnTarget: parseFloat(\n                //   form[1].data[1].stats.shotsOnTargetAVG_away\n                // ),\n                // AverageDangerousAttacksOverall: parseFloat(\n                //   form[1].data[1].stats.dangerous_attacks_avg_overall\n                // ),\n                // PPG: parseFloat(form[1].data[1].stats.seasonPPG_overall),\n                // AttacksAverage: parseFloat(\n                //   form[1].data[1].stats.attacks_avg_away\n                // ),\n                // AverageDangerousAttacks: parseFloat(\n                //   form[1].data[1].stats.dangerous_attacks_avg_away\n                // ),\n                // BTTSPercentage: parseInt(\n                //   form[1].data[1].stats.seasonBTTSPercentage_away\n                // ),\n                // LeagueOrAll: leagueOrAll,\n                // LeaguePosition: `${teamPositionAway}${awayPrefix}`,\n                // awayRawPosition: awayTeaminLeague.rawPosition\n                //   ? awayTeaminLeague.rawPosition\n                //   : 0,\n                // awayTeamAwayPositionRaw: teamPositionAwayTable,\n                // LeagueAverageGoals: awayAverageGoals,\n                // LeagueAverageConceded: awayAverageConceded,\n              },\n              2: {\n                XGOverall: parseFloat(form[1].data[2].stats.xg_for_avg_overall),\n                XG: parseFloat(form[1].data[2].stats.xg_for_avg_away),\n                ScoredOverall: parseFloat(\n                  form[1].data[2].stats.seasonScoredNum_overall\n                ),\n                ScoredAverage: parseFloat(\n                  form[1].data[2].stats.seasonScoredAVG_away\n                ),\n                PlayedHome: parseFloat(\n                  form[1].data[2].stats.seasonMatchesPlayed_home\n                ),\n                PlayedAway: parseFloat(\n                  form[1].data[2].stats.seasonMatchesPlayed_away\n                ),\n                ConcededOverall: parseFloat(\n                  form[1].data[2].stats.seasonConcededNum_overall\n                ),\n                ConcededAverage: parseFloat(\n                  form[1].data[2].stats.seasonConcededAVG_away\n                ),\n                XGAgainstAvgOverall: parseFloat(\n                  form[1].data[2].stats.xg_against_avg_overall\n                ),\n                XGAgainstAverage: parseFloat(\n                  form[1].data[2].stats.xg_against_avg_away\n                ),\n                CleanSheetPercentage: parseFloat(\n                  form[1].data[2].stats.seasonCSPercentage_overall\n                ),\n                AveragePossessionOverall: parseFloat(\n                  form[1].data[2].stats.possessionAVG_overall\n                ),\n                AveragePossession: parseFloat(\n                  form[1].data[2].stats.possessionAVG_away\n                ),\n                AverageShotsOnTargetOverall: parseFloat(\n                  form[1].data[2].stats.shotsOnTargetAVG_overall\n                ),\n                AverageShotsOnTarget: parseFloat(\n                  form[1].data[2].stats.shotsOnTargetAVG_away\n                ),\n                AverageShots: parseFloat(\n                  form[1].data[2].stats.shotsAVG_overall\n                ),\n                AverageShotsHomeOrAway: parseFloat(\n                  form[1].data[2].stats.shotsAVG_away\n                ),\n                AverageDangerousAttacksOverall: parseFloat(\n                  form[1].data[2].stats.dangerous_attacks_avg_overall\n                ),\n                PPG: parseFloat(form[1].data[2].stats.seasonPPG_overall),\n                AttacksAverage: parseFloat(\n                  form[1].data[2].stats.attacks_avg_away\n                ),\n                AverageDangerousAttacks: parseFloat(\n                  form[1].data[2].stats.dangerous_attacks_avg_away\n                ),\n                BTTSPercentage: parseInt(\n                  form[1].data[2].stats.seasonBTTSPercentage_away\n                ),\n                lastThreeForm:\n                  lastThreeFormAway !== undefined\n                    ? lastThreeFormAway.reverse()\n                    : \"N/A\",\n                LastFiveForm:\n                  lastFiveFormAway !== undefined\n                    ? lastFiveFormAway.reverse()\n                    : \"N/A\",\n                LastSixForm:\n                  lastSixFormAway !== undefined\n                    ? lastSixFormAway.reverse()\n                    : \"N/A\",\n                LastTenForm:\n                  lastTenFormAway !== undefined\n                    ? lastTenFormAway.reverse()\n                    : \"N/A\",\n                LeagueOrAll: leagueOrAll,\n                LeaguePosition: `${teamPositionAway}${awayPrefix}`,\n                awayRawPosition: awayTeaminLeague.rawPosition\n                  ? awayTeaminLeague.rawPosition\n                  : 0,\n                awayTeamAwayPositionRaw: teamPositionAwayTable,\n                SeasonPPG: awaySeasonPPG,\n                WinPercentage: awayTeamWinPercentageAway,\n                LossPercentage: awayTeamLossPercentageAway,\n                DrawPercentage: awayTeamDrawPercentageAway,\n                formRun: formRunAway,\n                goalDifference:\n                  form[1].data[2].stats.seasonGoalDifference_overall,\n                goalDifferenceHomeOrAway:\n                  form[1].data[2].stats.seasonGoalDifference_away,\n                BttsPercentage:\n                  form[1].data[2].stats.seasonBTTSPercentage_overall,\n                BttsPercentageHomeOrAway:\n                  form[1].data[2].stats.seasonBTTSPercentage_away,\n                CardsTotal: form[1].data[2].stats.cardsTotal_overall,\n                CornersAverage: form[1].data[2].stats.cornersAVG_overall,\n                ScoredBothHalvesPercentage:\n                  form[1].data[2].stats.scoredBothHalvesPercentage_overall,\n                LastMatch: await convertTimestamp(\n                  form[1].data[0].last_updated_match_timestamp\n                ),\n                WDLRecord: WDLinLeagueAway,\n                LeagueAverageGoals: awayAverageGoals,\n                LeagueAverageConceded: awayAverageConceded,\n              },\n            },\n          });\n        }\n\n        match.homeBadge = fixture.home_image;\n        match.awayBadge = fixture.away_image;\n\n        match.homePpg = fixture.home_ppg.toFixed(2);\n        match.awayPpg = fixture.away_ppg.toFixed(2);\n\n        match.lastFiveFormHome = lastFiveFormHome;\n        match.lastFiveFormAway = lastFiveFormAway;\n\n        match.homeRawPosition = homeTeaminLeague.rawPosition;\n        match.awayRawPosition = awayTeaminLeague.rawPosition;\n\n        match.homeTeamHomePosition = `${teamPositionHomeTable}${homePrefixHomeTable}`;\n        match.awayTeamAwayPosition = `${teamPositionAwayTable}${awayPrefixAwayTable}`;\n\n        match.homeTeamHomePositionRaw = teamPositionHomeTable;\n        match.awayTeamAwayPositionRaw = teamPositionAwayTable;\n\n        match.homeTeamWinPercentage = homeTeamWinPercentageHome;\n        match.awayTeamWinPercentage = awayTeamWinPercentageAway;\n\n        match.homeTeamLossPercentage = homeTeamLossPercentageHome;\n        match.awayTeamLossPercentage = awayTeamLossPercentageAway;\n\n        match.homeTeamDrawPercentage = homeTeamDrawPercentageHome;\n        match.awayTeamDrawPercentage = awayTeamDrawPercentageAway;\n        match.status = fixture.status;\n        match.over25Odds = fixture.odds_ft_over25;\n        match.btts_potential = fixture.btts_potential;\n        match.game = match.homeTeam + \" v \" + match.awayTeam;\n        match.stadium = fixture.stadium_name;\n        match.homeGoals = fixture.homeGoalCount;\n        match.awayGoals = fixture.awayGoalCount;\n\n        match.expectedGoalsHomeToDate = fixture.team_a_xg_prematch;\n        match.expectedGoalsAwayToDate = fixture.team_b_xg_prematch;\n        match.game_week = fixture.game_week;\n\n        if (match.status !== \"canceled\" || match.status !== \"suspended\") {\n          matches.push(match);\n          await createFixture(match, false);\n        }\n      }\n\n      if (matches.length > 0) {\n        ReactDOM.render(\n          <Fragment>\n            <Button\n              text={\"Get Predictions & League stats\"}\n              onClickEvent={() => getScorePrediction(day)}\n              className={\"GeneratePredictions\"}\n            />\n            <div className=\"Version\">Prediction engine v1.4.0 (18/03/25)</div>\n            <Collapsable\n              buttonText={\"Filters\"}\n              element={\n                <div className=\"FilterContainer\">\n                  <h6>\n                    Use the below filters to remove predictions that don't meet\n                    the set criteria. These will be greyed out and not included\n                    in multi-builders and ROI stats\n                  </h6>\n                  <h6>Goals for/against differential filter</h6>\n                  <div>\n                    I'm looking for tips where the goal differential between\n                    teams is at least...\n                  </div>\n                  <SlideDiff\n                    value=\"0\"\n                    text=\"all games\"\n                    useCase=\"gd\"\n                    lower=\"0\"\n                    upper=\"30\"\n                  ></SlideDiff>\n                  <h6>\n                    Goals for/against home or away differential filter\n                  </h6>\n                  <div>\n                    I'm looking for tips where the goal differential (home or\n                    away only) between teams is at least...\n                  </div>\n                  <SlideDiff\n                    value=\"0\"\n                    text=\"all games\"\n                    useCase=\"gdHorA\"\n                    lower=\"0\"\n                    upper=\"30\"\n                  ></SlideDiff>\n                  <Fragment>\n                    <h6>XG for/against differential filter</h6>\n                    <div>\n                      I'm looking for tips where the XG differential between\n                      teams is at least...\n                    </div>\n                    <SlideDiff\n                      value=\"0\"\n                      text=\"all games\"\n                      useCase=\"xg\"\n                      lower=\"0\"\n                      upper=\"30\"\n                    ></SlideDiff>\n                  </Fragment>\n                  <Fragment>\n                    <h6>Last 6 points differential filter</h6>\n                    <div>\n                      I'm looking for tips where the points differential between\n                      teams is at least...\n                    </div>\n                    <SlideDiff\n                      value=\"0\"\n                      text=\"all games\"\n                      useCase=\"last10\"\n                      lower=\"0\"\n                      upper=\"18\"\n                    ></SlideDiff>\n                  </Fragment>\n                  <Fragment>\n                    <h6>Choose your risk profile</h6>\n                    <div>\n                      I'm looking for tips where the odds are between...\n                    </div>\n                    <Slide value=\"1\" text=\"all games\"></Slide>\n                  </Fragment>\n                </div>\n              }\n            />\n            ,\n          </Fragment>,\n          document.getElementById(\"GeneratePredictions\")\n        );\n      }\n\n      // }\n    }\n\n\n    ReactDOM.render(\n      <div>\n        <div className=\"LoadingText\"></div>\n      </div>,\n      document.getElementById(\"Loading\")\n    );\n\n    async function updateResults(bool) {\n      console.log(\"updating results\");\n      if (allLeagueResultsArrayOfObjects.length > 0 && bool === true) {\n        await fetch(`${process.env.REACT_APP_EXPRESS_SERVER}results`, {\n          method: \"DELETE\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n        }).then(async () => {\n          await fetch(`${process.env.REACT_APP_EXPRESS_SERVER}results`, {\n            method: \"POST\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(allLeagueResultsArrayOfObjects),\n          });\n        });\n      } else {\n        console.log(\"EMPTY RESULTS\");\n      }\n    }\n\n    if (!isStoredLocally) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_SERVER}allForm/${date}`, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ allForm }),\n      });\n      await updateResults(true);\n    }\n    if (!leaguesStored) {\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_SERVER}leagues/${todaysDate}`,\n        {\n          method: \"POST\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ leagueArray }),\n        }\n      );\n    }\n\n    // const allFixtures = await RenderAllFixtures(matches, false)\n    ReactDOM.render(\n      <RenderAllFixtures matches={matches} result={false} bool={false} />,\n      document.getElementById(\"FixtureContainer\")\n    );\n    // ReactDOM.render(<RenderAllFixtures matches={matches} bool={false}/>),document.getElementById(\"FixtureContainer\")\n    setTimeout(() => {\n      isFunctionRunning = false;\n    }, 3000);\n  }\n}\n","/Users/gregdorward/Development/football-predictions/src/components/createStatsDiv.js",["330"],"import React, { Fragment } from \"react\";\n\nfunction Stats(props) {\n  let shouldOpen = props.clicked;\n\n  function styleForm(formIndicator) {\n    let className;\n    if (formIndicator === \"W\") {\n      className = \"win\";\n    } else if (formIndicator === \"D\") {\n      className = \"draw\";\n    } else if (formIndicator === \"L\") {\n      className = \"loss\";\n    }\n    return className;\n  }\n\n  function styleBTTS(BTTSBoolean) {\n    let className;\n    if (BTTSBoolean === \"\\u2714\") {\n      className = \"BTTSTrue\";\n    } else if (BTTSBoolean === \"\\u2718\") {\n      className = \"BTTSFalse\";\n    }\n    return className;\n  }\n\n  if (props.games === \"all\") {\n    return (\n      <Fragment>\n        <ul className={props.className ? props.className : \"\"} style={props.style ? props.style : {}}>\n          <li className=\"FormHeader\">League results (most recent on right)</li>\n          <li key={`last5League`} className=\"last5League\">\n            <span className={styleForm(props.Results && props.Results[5] ? props.Results[5] : \"\")}>\n              {props.Results && props.Results[5] ? props.Results[5] : \"\"}\n            </span>\n            <span className={styleForm(props.Results && props.Results[5] ? props.Results[4] : \"\")}>\n              {props.Results && props.Results[4] ? props.Results[4] : \"\"}\n            </span>\n            <span className={styleForm(props.Results && props.Results[3] ? props.Results[3] : \"\")}>\n              {props.Results && props.Results[3] ? props.Results[3] : \"\"}\n            </span>\n            <span className={styleForm(props.Results && props.Results[2] ? props.Results[2] : \"\")}>\n              {props.Results && props.Results[2] ? props.Results[2] : \"\"}\n            </span>\n            <span className={styleForm(props.Results && props.Results[1] ? props.Results[1] : \"\")}>\n              {props.Results && props.Results[1] ? props.Results[1] : \"\"}\n            </span>\n            <span className={styleForm(props.Results && props.Results[0] ? props.Results[0] : \"\")}>\n              {props.Results && props.Results[0] ? props.Results[0] : \"\"}\n            </span>\n          </li>\n          <li className=\"FormHeader\">\n            {props.homeOrAway ? props.homeOrAway : \"N/A\"} form (most recent on right)\n          </li>\n          <li key={`last5${props.homeOrAwayResults ? props.homeOrAwayResults : \"default\"}`} className=\"FormHomeOrAway\">\n            <span className={styleForm(props.ResultsHorA && props.ResultsHorA[5] ? props.ResultsHorA[5] : \"\")}>\n              {props.ResultsHorA && props.ResultsHorA[5] ? props.ResultsHorA[5] : \"\"}\n            </span>\n            <span className={styleForm(props.ResultsHorA && props.ResultsHorA[4] ? props.ResultsHorA[4] : \"\")}>\n              {props.ResultsHorA && props.ResultsHorA[4] ? props.ResultsHorA[4] : \"\"}\n            </span>\n            <span className={styleForm(props.ResultsHorA && props.ResultsHorA[3] ? props.ResultsHorA[3] : \"\")}>\n              {props.ResultsHorA && props.ResultsHorA[3] ? props.ResultsHorA[3] : \"\"}\n            </span>\n            <span className={styleForm(props.ResultsHorA && props.ResultsHorA[2] ? props.ResultsHorA[2] : \"\")}>\n              {props.ResultsHorA && props.ResultsHorA[2] ? props.ResultsHorA[2] : \"\"}\n            </span>\n            <span className={styleForm(props.ResultsHorA && props.ResultsHorA[1] ? props.ResultsHorA[1] : \"\")}>\n              {props.ResultsHorA && props.ResultsHorA[1] ? props.ResultsHorA[1] : \"\"}\n            </span>\n            <span className={styleForm(props.ResultsHorA && props.ResultsHorA[0] ? props.ResultsHorA[0] : \"\")}>\n              {props.ResultsHorA && props.ResultsHorA[0] ? props.ResultsHorA[0] : \"\"}\n            </span>\n          </li>\n          <li\n            key=\"BTTSArrayHomeOrAway\"\n            className=\"BTTSArrayHomeOrAway\"\n            data-cy={props.name ? props.name + \"BTTSArrayHomeOrAway\" : \"BTTSArrayHomeOrAway\"}\n          >\n            <div className=\"BTTSResults\">{props.BTTSArray ? `BTTS` : ``}</div>\n            <span className={styleBTTS(props.BTTSArray && props.BTTSArray[5] ? props.BTTSArray[5] : \"\")}>\n              {props.BTTSArray && props.BTTSArray[5] ? props.BTTSArray[5] : \"\"}\n            </span>\n            <span className={styleBTTS(props.BTTSArray && props.BTTSArray[4] ? props.BTTSArray[4] : \"\")}>\n              {props.BTTSArray && props.BTTSArray[4] ? props.BTTSArray[4] : \"\"}\n            </span>\n            <span className={styleBTTS(props.BTTSArray && props.BTTSArray[3] ? props.BTTSArray[3] : \"\")}>\n              {props.BTTSArray && props.BTTSArray[3] ? props.BTTSArray[3] : \"\"}\n            </span>\n            <span className={styleBTTS(props.BTTSArray && props.BTTSArray[2] ? props.BTTSArray[2] : \"\")}>\n              {props.BTTSArray && props.BTTSArray[2] ? props.BTTSArray[2] : \"\"}\n            </span>\n            <span className={styleBTTS(props.BTTSArray && props.BTTSArray[1] ? props.BTTSArray[1] : \"\")}>\n              {props.BTTSArray && props.BTTSArray[1] ? props.BTTSArray[1] : \"\"}\n            </span>\n            <span className={styleBTTS(props.BTTSArray && props.BTTSArray[0] ? props.BTTSArray[0] : \"\")}>\n              {props.BTTSArray && props.BTTSArray[0] ? props.BTTSArray[0] : \"\"}\n            </span>\n          </li>\n          <div className=\"FormSummaries\">\n            <li className=\"FormSummaryHome\">{props.FormTextString ? props.FormTextString : \"The below stats are only available to paying customers\"}</li>\n            <li className=\"StyleOfPlay\">{`Style - ${props.StyleOfPlay ? props.StyleOfPlay : \"N/A\"}`}</li>\n            <li className=\"StyleOfPlay\">{`${props.homeOrAway ? props.homeOrAway : \"N/A\"} style - ${props.StyleOfPlayHomeOrAway ? props.StyleOfPlayHomeOrAway : \"N/A\"}`}</li>\n            {/* <li className=\"FavouriteSummaryHome\">{props.FavouriteRecord ? props.FavouriteRecord : \"Graphs also only available to paying customers\"}</li> */}\n          </div>\n          <div className=\"AllStats\">\n            <li\n              key=\"TeamScored\"\n              className=\"TeamScored\"\n              data-cy={props.name ? props.name + \"teamScored\" : \"teamScored\"}\n            >\n              {`Avg goals scored - ${props.goals !== undefined ? props.goals : \"N/A\"}`}\n            </li>\n            <li\n              key=\"TeamConceeded\"\n              className=\"TeamConceeded\"\n              data-cy={props.name ? props.name + \"teamConceded\" : \"teamConceded\"}\n            >\n              {`Avg goals conceeded - ${props.conceeded !== undefined ? props.conceeded : \"N/A\"}`}\n            </li>\n            <li\n              key=\"TeamPossession\"\n              className=\"TeamPossession\"\n              data-cy={props.name ? props.name + \"teamPossession\" : \"teamPossession\"}\n            >\n              {`Avg possession - ${props.possession !== undefined ? props.possession : \"N/A\"}%`}\n            </li>\n            <li key=\"TeamXG\" className=\"TeamXG\" data-cy={props.name ? props.name + \"teamXG\" : \"teamXG\"}>\n              {`Avg XG - ${props.XG !== undefined ? props.XG : \"N/A\"}`}\n            </li>\n            <li\n              key=\"TeamXGConceded\"\n              className=\"TeamXGConceded\"\n              data-cy={props.name ? props.name + \"teamXGConceded\" : \"teamXGConceded\"}\n            >\n              {`Avg XG conceded - ${props.XGConceded !== undefined ? props.XGConceded : \"N/A\"}`}\n            </li>\n            <li\n              key=\"TeamXGSwing\"\n              className=\"TeamXGSwing\"\n              data-cy={props.name ? props.name + \"teamXGSwing\" : \"teamXGSwing\"}\n            >\n              {`XG difference swing (last 5): ${\n                props.XGSwing !== undefined ? props.XGSwing.toFixed(2) : \"N/A\"\n              }`}\n            </li>\n            <li\n              key=\"goalDifference\"\n              className=\"goalDifference\"\n              data-cy={props.name ? props.name + \"goalDifference\" : \"goalDifference\"}\n            >\n              {`Goal difference : `}\n              <span>{props.goalDifference !== undefined ? props.goalDifference : \"N/A\"}</span>\n            </li>\n            <li\n              key=\"goalDifferenceHorA\"\n              className=\"goalDifferenceHorA\"\n              data-cy={props.name ? props.name + \"goalDifference\" : \"goalDifference\"}\n            >\n              {`Goal difference ${props.homeOrAway ? props.homeOrAway : \"N/A\"} : ${\n                props.goalDifferenceHomeOrAway !== undefined ? props.goalDifferenceHomeOrAway : \"N/A\"\n              }`}\n            </li>\n            <li\n              key=\"AverageShots\"\n              className=\"AverageShots\"\n              data-cy={props.name ? props.name + \"AverageShots\" : \"AverageShots\"}\n            >\n              {`Avg shots - ${props.shots !== undefined ? props.shots : \"N/A\"}`}\n            </li>\n            <li\n              key=\"AverageSOT\"\n              className=\"AverageSOT\"\n              data-cy={props.name ? props.name + \"averageSOT\" : \"averageSOT\"}\n            >\n              {`Avg shots on target - ${props.sot !== undefined ? props.sot : \"N/A\"}`}\n            </li>\n            <li\n              key=\"DangerousAttacks\"\n              className=\"DangerousAttacks\"\n              data-cy={props.name ? props.name + \"dangerousAttacks\" : \"dangerousAttacks\"}\n            >\n              {`Avg dangerous attacks - ${props.dangerousAttacks !== undefined ? props.dangerousAttacks : \"N/A\"}`}\n            </li>\n            <li\n              key=\"LeaguePosition\"\n              className=\"LeaguePosition\"\n              data-cy={props.name ? props.name + \"leaguePosition\" : \"leaguePosition\"}\n            >\n              {`League position - ${\n                props.leaguePosition !== undefined ? props.leaguePosition : \"N/A\"\n              }`}\n            </li>\n            <li\n              key=\"WinPercentage\"\n              className=\"WinPercentage\"\n              data-cy={props.name ? props.name + \"WinPercentage\" : \"WinPercentage\"}\n            >\n              {props.homeOrAway && props.winPercentage !== undefined && props.winPercentage !== \"N/A\" ? `${props.homeOrAway} PPG - ${props.winPercentage.toFixed(2)}` : \"N/A\"}\n            </li>\n            <li key=\"PPG\" className=\"PPG\" data-cy={props.name ? props.name + \"PPG\" : \"PPG\"}>\n              {`Season PPG - ${props.ppg !== undefined ? props.ppg : \"N/A\"}`}\n            </li>\n            <li\n              key=\"FormTrend10a\"\n              className=\"FormTrend\"\n              data-cy={props.name ? props.name + \"FormTrend10\" : \"FormTrend10\"}\n            >\n              {`Last 10 PPG: ${props.formTrend && props.formTrend[0] !== undefined ? props.formTrend[0] : \"N/A\"}`}\n            </li>\n            <li\n              key=\"FormTrend10b\"\n              className=\"FormTrend\"\n              data-cy={props.name ? props.name + \"FormTrend10\" : \"FormTrend10\"}\n            >\n              {`Last 6 PPG: ${props.formTrend && props.formTrend[1] !== undefined ? props.formTrend[1] : \"N/A\"}`}\n            </li>\n            <li\n              key=\"FormTrend10c\"\n              className=\"FormTrend\"\n              data-cy={props.name ? props.name + \"FormTrend10\" : \"FormTrend10\"}\n            >\n              {`Last 5 PPG: ${props.formTrend && props.formTrend[2] !== undefined ? props.formTrend[2] : \"N/A\"}.`}\n            </li>\n            <li\n              key=\"CardsTotal\"\n              className=\"CardsTotal\"\n              data-cy={props.name ? props.name + \"CardsTotal\" : \"CardsTotal\"}\n            >\n              {`Cards total: ${props.CardsTotal !== undefined ? props.CardsTotal : \"N/A\"}`}\n            </li>\n            <li\n              key=\"CornersAverage\"\n              className=\"CornersAverage\"\n              data-cy={props.name ? props.name + \"CornersAverage\" : \"CornersAverage\"}\n            >\n              {`Corners average: ${props.CornersAverage !== undefined ? props.CornersAverage : \"N/A\"}`}\n            </li>\n          </div>\n        </ul>\n        <div id=\"h2hStats\"></div>\n      </Fragment>\n    );\n  } else if (props.games === \"hOrA\") {\n    return (\n      <Fragment>\n        <ul className={props.className ? props.className : \"\"} style={props.style ? props.style : {}}>\n        <li className=\"FormHeader\">League results (most recent on right)</li>\n          <li key={`last5${props.homeOrAwayResults ? props.homeOrAwayResults : \"default\"}`} className=\"FormHomeOrAway\">\n            <span className={styleForm(props.ResultsHorA && props.ResultsHorA[5] ? props.ResultsHorA[5] : \"\")}>\n              {props.ResultsHorA && props.ResultsHorA[5] ? props.ResultsHorA[5] : \"\"}\n            </span>\n            <span className={styleForm(props.ResultsHorA && props.ResultsHorA[4] ? props.ResultsHorA[4] : \"\")}>\n              {props.ResultsHorA && props.ResultsHorA[4] ? props.ResultsHorA[4] : \"\"}\n            </span>\n            <span className={styleForm(props.ResultsHorA && props.ResultsHorA[3] ? props.ResultsHorA[3] : \"\")}>\n              {props.ResultsHorA && props.ResultsHorA[3] ? props.ResultsHorA[3] : \"\"}\n            </span>\n            <span className={styleForm(props.ResultsHorA && props.ResultsHorA[2] ? props.ResultsHorA[2] : \"\")}>\n              {props.ResultsHorA && props.ResultsHorA[2] ? props.ResultsHorA[2] : \"\"}\n            </span>\n            <span className={styleForm(props.ResultsHorA && props.ResultsHorA[1] ? props.ResultsHorA[1] : \"\")}>\n              {props.ResultsHorA && props.ResultsHorA[1] ? props.ResultsHorA[1] : \"\"}\n            </span>\n            <span className={styleForm(props.ResultsHorA && props.ResultsHorA[0] ? props.ResultsHorA[0] : \"\")}>\n              {props.ResultsHorA && props.ResultsHorA[0] ? props.ResultsHorA[0] : \"\"}\n            </span>\n          </li>\n          <div className=\"AllStats\">\n          <div className=\"FormSummaries\">\n            <li className=\"StyleOfPlay\">{`${props.homeOrAway ? props.homeOrAway : \"N/A\"} style - ${props.StyleOfPlayHomeOrAway ? props.StyleOfPlayHomeOrAway : \"N/A\"}`}</li>\n          </div>\n            <li\n              key=\"TeamScored\"\n              className=\"TeamScored\"\n              data-cy={props.name ? props.name + \"teamScored\" : \"teamScored\"}\n            >\n              {`Avg goals scored - ${props.goals !== undefined ? props.goals : \"N/A\"}`}\n            </li>\n            <li\n              key=\"TeamConceeded\"\n              className=\"TeamConceeded\"\n              data-cy={props.name ? props.name + \"teamConceded\" : \"teamConceded\"}\n            >\n              {`Avg goals conceeded - ${props.conceeded !== undefined ? props.conceeded : \"N/A\"}`}\n            </li>\n            <li\n              key=\"TeamPossession\"\n              className=\"TeamPossession\"\n              data-cy={props.name ? props.name + \"teamPossession\" : \"teamPossession\"}\n            >\n              {`Avg possession - ${props.possession !== undefined ? props.possession : \"N/A\"}%`}\n            </li>\n            <li key=\"TeamXG\" className=\"TeamXG\" data-cy={props.name ? props.name + \"teamXG\" : \"teamXG\"}>\n              {`Avg XG - ${props.XG !== undefined ? props.XG : \"N/A\"}`}\n            </li>\n            <li\n              key=\"TeamXGConceded\"\n              className=\"TeamXGConceded\"\n              data-cy={props.name ? props.name + \"teamXGConceded\" : \"teamXGConceded\"}\n            >\n              {`Avg XG conceded - ${props.XGConceded !== undefined ? props.XGConceded : \"N/A\"}`}\n            </li>\n            <li\n              key=\"goalDifferenceHorA\"\n              className=\"goalDifferenceHorA\"\n              data-cy={props.name ? props.name + \"goalDifference\" : \"goalDifference\"}\n            >\n              {`Goal difference ${props.homeOrAway ? props.homeOrAway : \"N/A\"} : ${\n                props.goalDifferenceHomeOrAway !== undefined ? props.goalDifferenceHomeOrAway : \"N/A\"\n              }`}\n            </li>\n            <li\n              key=\"AverageShots\"\n              className=\"AverageShots\"\n              data-cy={props.name ? props.name + \"AverageShots\" : \"AverageShots\"}\n            >\n              {`Avg shots - ${props.shots !== undefined ? props.shots : \"N/A\"}`}\n            </li>\n            <li\n              key=\"AverageSOT\"\n              className=\"AverageSOT\"\n              data-cy={props.name ? props.name + \"averageSOT\" : \"averageSOT\"}\n            >\n              {`Avg shots on target - ${props.sot !== undefined ? props.sot : \"N/A\"}`}\n            </li>\n            <li\n              key=\"DangerousAttacks\"\n              className=\"DangerousAttacks\"\n              data-cy={props.name ? props.name + \"dangerousAttacks\" : \"dangerousAttacks\"}\n            >\n              {`Avg dangerous attacks - ${props.dangerousAttacks !== undefined ? props.dangerousAttacks : \"N/A\"}`}\n            </li>\n            <li\n              key=\"WinPercentage\"\n              className=\"WinPercentage\"\n              data-cy={props.name ? props.name + \"WinPercentage\" : \"WinPercentage\"}\n            >\n              {props.homeOrAway && props.winPercentage !== undefined && props.winPercentage !== \"N/A\" ? `${props.homeOrAway} PPG - ${props.winPercentage.toFixed(2)}` : \"N/A\"}\n            </li>\n            <li\n              key=\"CornersAverage\"\n              className=\"CornersAverage\"\n              data-cy={props.name ? props.name + \"CornersAverage\" : \"CornersAverage\"}\n            >\n              {`Corners average: ${props.CornersAverage !== undefined ? props.CornersAverage : \"N/A\"}`}\n            </li>\n          </div>\n        </ul>\n        <div id=\"h2hStats\"></div>\n      </Fragment>\n    );\n  } else if (props.games === \"last5\") {\n    return (\n      <Fragment>\n        <ul className={props.className ? props.className : \"\"} style={props.style ? props.style : {}}>\n          <li className=\"FormHeader\">\n            Last 5 games (All)\n          </li>\n          <li key={`last5League`} className=\"last5League\">\n            <span className={styleForm(props.Results && props.Results[5] ? props.Results[4] : \"\")}>\n              {props.Results && props.Results[4] ? props.Results[4] : \"\"}\n            </span>\n            <span className={styleForm(props.Results && props.Results[3] ? props.Results[3] : \"\")}>\n              {props.Results && props.Results[3] ? props.Results[3] : \"\"}\n            </span>\n            <span className={styleForm(props.Results && props.Results[2] ? props.Results[2] : \"\")}>\n              {props.Results && props.Results[2] ? props.Results[2] : \"\"}\n            </span>\n            <span className={styleForm(props.Results && props.Results[1] ? props.Results[1] : \"\")}>\n              {props.Results && props.Results[1] ? props.Results[1] : \"\"}\n            </span>\n            <span className={styleForm(props.Results && props.Results[0] ? props.Results[0] : \"\")}>\n              {props.Results && props.Results[0] ? props.Results[0] : \"\"}\n            </span>\n          </li>\n          <div className=\"AllStats\">\n            <li\n              key=\"TeamScored\"\n              className=\"TeamScored\"\n              data-cy={props.name ? props.name + \"teamScored\" : \"teamScored\"}\n            >\n              {`Avg goals scored - ${props.goals !== undefined ? props.goals : \"N/A\"}`}\n            </li>\n            <li\n              key=\"TeamConceeded\"\n              className=\"TeamConceeded\"\n              data-cy={props.name ? props.name + \"teamConceded\" : \"teamConceded\"}\n            >\n              {`Avg goals conceeded - ${props.conceeded !== undefined ? props.conceeded : \"N/A\"}`}\n            </li>\n            <li\n              key=\"TeamPossession\"\n              className=\"TeamPossession\"\n              data-cy={props.name ? props.name + \"teamPossession\" : \"teamPossession\"}\n            >\n              {`Avg possession - ${props.possession !== undefined ? props.possession : \"N/A\"}%`}\n            </li>\n            <li key=\"TeamXG\" className=\"TeamXG\" data-cy={props.name ? props.name + \"teamXG\" : \"teamXG\"}>\n              {`Avg XG - ${props.XG !== undefined ? props.XG : \"N/A\"}`}\n            </li>\n            <li\n              key=\"TeamXGConceded\"\n              className=\"TeamXGConceded\"\n              data-cy={props.name ? props.name + \"teamXGConceded\" : \"teamXGConceded\"}\n            >\n              {`Avg XG conceded - ${props.XGConceded !== undefined ? props.XGConceded : \"N/A\"}`}\n            </li>\n            <li\n              key=\"goalDifference\"\n              className=\"goalDifference\"\n              data-cy={props.name ? props.name + \"goalDifference\" : \"goalDifference\"}\n            >\n              {`Goal difference : `}\n              <span>{props.goalDifference !== undefined ? props.goalDifference : \"N/A\"}</span>\n            </li>\n            <li\n              key=\"AverageShots\"\n              className=\"AverageShots\"\n              data-cy={props.name ? props.name + \"AverageShots\" : \"AverageShots\"}\n            >\n              {`Avg shots - ${props.shots !== undefined ? props.shots : \"N/A\"}`}\n            </li>\n            <li\n              key=\"AverageSOT\"\n              className=\"AverageSOT\"\n              data-cy={props.name ? props.name + \"averageSOT\" : \"averageSOT\"}\n            >\n              {`Avg shots on target - ${props.sot !== undefined ? props.sot : \"N/A\"}`}\n            </li>\n            <li\n              key=\"DangerousAttacks\"\n              className=\"DangerousAttacks\"\n              data-cy={props.name ? props.name + \"dangerousAttacks\" : \"dangerousAttacks\"}\n            >\n              {`Avg dangerous attacks - ${props.dangerousAttacks !== undefined ? props.dangerousAttacks : \"N/A\"}`}\n            </li>\n            <li key=\"PPG\" className=\"PPG\" data-cy={props.name ? props.name + \"PPG\" : \"PPG\"}>\n              {`Last 5 PPG - ${props.ppg !== undefined ? props.ppg : \"N/A\"}`}\n            </li>\n            <li\n              key=\"CornersAverage\"\n              className=\"CornersAverage\"\n              data-cy={props.name ? props.name + \"CornersAverage\" : \"CornersAverage\"}\n            >\n              {`Corners average: ${props.CornersAverage !== undefined ? props.CornersAverage : \"N/A\"}`}\n            </li>\n          </div>\n        </ul>\n        <div id=\"h2hStats\"></div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Stats;\n","/Users/gregdorward/Development/football-predictions/src/logic/getForm.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Button.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/getScorePredictions.js",["331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355"],"/Users/gregdorward/Development/football-predictions/src/components/CollapsableElement.js",[],"/Users/gregdorward/Development/football-predictions/src/components/TextSection.js",[],["356","357"],"/Users/gregdorward/Development/football-predictions/src/logic/getStats.js",["358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376"],"import ReactDOM from \"react-dom\";\nimport { Button } from \"../components/Button\";\nimport Stats from \"../components/createStatsDiv\";\nimport Div from \"../components/Div\";\nimport { allForm } from \"../logic/getFixtures\";\nimport { getTeamStats } from \"../logic/getTeamStats\";\nimport { getPointsFromLastX } from \"../logic/getScorePredictions\";\nimport { allLeagueResultsArrayOfObjects } from \"../logic/getFixtures\";\nimport GenerateFormSummary from \"../logic/compareFormTrend\";\nimport {\n  Chart,\n  MultilineChart,\n  RadarChart,\n  BarChart,\n  BarChartTwo,\n  DoughnutChart,\n} from \"../components/Chart\";\nimport Collapsable from \"../components/CollapsableElement\";\nimport { clicked } from \"../logic/getScorePredictions\";\nimport SofaLineupsWidget from \"../components/SofaScore\";\nimport { arrayOfGames } from \"../logic/getFixtures\";\nimport { userDetail } from \"../logic/authProvider\";\nimport { checkUserPaidStatus } from \"../logic/hasUserPaid\";\nimport {generateAIInsights} from \"../logic/getAIStats\"\n\nexport async function getPointAverage(pointTotal, games) {\n  return pointTotal / games;\n}\n\n\nexport async function calculateAttackingStrength(stats) {\n  // Define weights for each metric (you can adjust these based on your preference)\n  const weights = {\n    // averagePossession: 0.15,\n    \"Average Dangerous Attacks\": 0.05,\n    \"Average Shots\": 0.05,\n    \"Average Shots On Target\": 0.15,\n    \"Average Expected Goals\": 0.15,\n    \"Recent XG\": 0.15,\n    \"Average Goals\": 0.3,\n    Corners: 0,\n    \"Average Shot Value\": 0.1,\n  };\n\n  // Define the ranges for normalization\n  const ranges = {\n    // averagePossession: { min: 25, max: 75 },\n    \"Average Dangerous Attacks\": { min: 25, max: 75 }, // Adjust the max value as needed\n    \"Average Shots\": { min: 4, max: 25 }, // Adjust the max value as needed\n    \"Average Shots On Target\": { min: 3, max: 7 }, // Adjust the max value as needed\n    \"Average Expected Goals\": { min: 0.75, max: 2.25 }, // Adjust the max value as needed\n    \"Recent XG\": { min: 0.5, max: 2.25 }, // Adjust the max value as needed\n    \"Average Goals\": { min: 0, max: 3 }, // Adjust the max value as needed\n    Corners: { min: 2, max: 9 },\n    \"Average Shot Value\": { min: 8.5, max: 13 },\n  };\n\n  // Normalize each metric value and calculate the weighted sum\n  let weightedSum = 0;\n  for (const metric in stats) {\n    if (\n      stats.hasOwnProperty(metric) &&\n      weights.hasOwnProperty(metric) &&\n      ranges.hasOwnProperty(metric)\n    ) {\n      const normalizedValue = Math.max(\n        0,\n        Math.min(\n          1,\n          (stats[metric] - ranges[metric].min) /\n            (ranges[metric].max - ranges[metric].min)\n        )\n      );\n      weightedSum += normalizedValue * weights[metric];\n    } else {\n      console.log(metric);\n    }\n  }\n\n  return parseFloat(weightedSum.toFixed(2));\n}\n\nexport async function calculateDefensiveStrength(stats, normalizedValue = 1) {\n  let normValue = normalizedValue;\n  // Define weights for each metric (you can adjust these based on your preference)\n  const weights = {\n    \"Average XG Against\": 0.2,\n    \"Recent XG Against\": 0.3,\n    \"Average Goals Against\": 0.4,\n    \"Average SOT Against\": 0.1,\n  };\n\n  // Define the ranges for normalization\n  const ranges = {\n    \"Average XG Against\": { min: 0.5, max: 2.25 }, // Adjust the max value as needed\n    \"Recent XG Against\": { min: 0.75, max: 2.25 },\n    \"Average Goals Against\": { min: 0, max: 3 }, // Adjust the max value as needed\n    \"Average SOT Against\": { min: 3, max: 7 },\n  };\n\n  // Normalize each metric value and calculate the weighted sum\n  let weightedSum = 0;\n  for (const metric in stats) {\n    if (\n      stats.hasOwnProperty(metric) &&\n      weights.hasOwnProperty(metric) &&\n      ranges.hasOwnProperty(metric)\n    ) {\n      // Normalize the value and clamp it between 0 and 1\n      let normalizedValue =\n        (stats[metric] - ranges[metric].min) /\n        (ranges[metric].max - ranges[metric].min);\n      normalizedValue = Math.max(0, Math.min(1, normalizedValue));\n\n      // Reverse logic for defensive strength: better defense, lower metric value\n      let val = normValue - normalizedValue;\n\n      // Add the weighted value to the weightedSum\n      weightedSum += val * weights[metric];\n    }\n  }\n\n  return parseFloat(weightedSum.toFixed(2));\n}\n\nexport async function calculateMetricStrength(metricName, metricValue) {\n  // Define weights for each metric (you can adjust these based on your preference)\n  const weights = {\n    averagePossession: 1,\n    xgFor: 1,\n    xgAgainst: 1,\n    directnessOverall: 1,\n    accuracyOverall: 1,\n  };\n\n  // Define the ranges for normalization\n  const ranges = {\n    averagePossession: { min: 20, max: 80 },\n    xgFor: { min: 0.25, max: 2.75 },\n    xgAgainst: { min: 0.25, max: 2.75 },\n    directnessOverall: { min: 0.5, max: 7 },\n    accuracyOverall: { min: 3, max: 25 },\n  };\n\n  // Ensure the metric is valid and exists in the weights and ranges objects\n  if (\n    !weights.hasOwnProperty(metricName) ||\n    !ranges.hasOwnProperty(metricName)\n  ) {\n    throw new Error(\"Invalid metric name or missing normalization range.\");\n  }\n\n  // Normalize the metric value\n  const normalizedValue =\n    (metricValue - ranges[metricName].min) /\n    (ranges[metricName].max - ranges[metricName].min);\n\n  // Calculate the weighted score\n  const weightedScore = normalizedValue * weights[metricName];\n\n  return parseFloat(weightedScore.toFixed(2));\n}\n\n// export async function getDefenceStrength(goalsAgainst) {\n//   let strength;\n//   switch (true) {\n//     case goalsAgainst >= 2.8:\n//       strength = 1;\n//       break;\n//     case goalsAgainst >= 2.5 && goalsAgainst < 2.8:\n//       strength = 2;\n//       break;\n//     case goalsAgainst >= 2.2 && goalsAgainst < 2.5:\n//       strength = 3;\n//       break;\n//     case goalsAgainst >= 1.9 && goalsAgainst < 2.2:\n//       strength = 4;\n//       break;\n//     case goalsAgainst >= 1.6 && goalsAgainst < 1.9:\n//       strength = 5;\n//       break;\n//     case goalsAgainst >= 1.3 && goalsAgainst < 1.6:\n//       strength = 6;\n//       break;\n//     case goalsAgainst >= 1 && goalsAgainst < 1.3:\n//       strength = 7;\n//       break;\n//     case goalsAgainst >= 0.7 && goalsAgainst < 1:\n//       strength = 8;\n//       break;\n//     case goalsAgainst >= 0.4 && goalsAgainst < 0.7:\n//       strength = 9;\n//       break;\n//     case goalsAgainst < 0.4:\n//       strength = 10;\n//       break;\n//     default:\n//       break;\n//   }\n//   return strength;\n// }\n\n// export async function getPossessionStrength(possession) {\n//   let strength;\n//   switch (true) {\n//     case possession >= 68:\n//       strength = 10;\n//       break;\n//     case possession >= 64 && possession < 68:\n//       strength = 9;\n//       break;\n//     case possession >= 60 && possession < 64:\n//       strength = 8;\n//       break;\n//     case possession >= 56 && possession < 60:\n//       strength = 7;\n//       break;\n//     case possession >= 52 && possession < 56:\n//       strength = 6;\n//       break;\n//     case possession >= 48 && possession < 52:\n//       strength = 5;\n//       break;\n//     case possession >= 44 && possession < 48:\n//       strength = 4;\n//       break;\n//     case possession >= 40 && possession < 44:\n//       strength = 3;\n//       break;\n//     case possession >= 35 && possession < 40:\n//       strength = 2;\n//       break;\n//     case possession < 35:\n//       strength = 1;\n//       break;\n//     default:\n//       break;\n//   }\n//   return strength;\n// }\n\n// export async function getShotsStrength(Shots) {\n//   let strength;\n//   switch (true) {\n//     case Shots >= 15:\n//       strength = 10;\n//       break;\n//     case Shots >= 14.25 && Shots < 15:\n//       strength = 9;\n//       break;\n//     case Shots >= 13.5 && Shots < 14.25:\n//       strength = 8;\n//       break;\n//     case Shots >= 12.75 && Shots < 13.5:\n//       strength = 7;\n//       break;\n//     case Shots >= 12 && Shots < 12.75:\n//       strength = 6;\n//       break;\n//     case Shots >= 11.25 && Shots < 12:\n//       strength = 5;\n//       break;\n//     case Shots >= 10.5 && Shots < 11.25:\n//       strength = 4;\n//       break;\n//     case Shots >= 9.75 && Shots < 10.5:\n//       strength = 3;\n//       break;\n//     case Shots >= 9 && Shots < 9.75:\n//       strength = 2;\n//       break;\n//     case Shots < 9:\n//       strength = 1;\n//       break;\n//     default:\n//       break;\n//   }\n//   return strength;\n// }\n\n// export async function getShotsStrengthHorA(Shots) {\n//   let strength;\n//   switch (true) {\n//     case Shots >= 19.5:\n//       strength = 10;\n//       break;\n//     case Shots >= 18 && Shots < 19.5:\n//       strength = 9;\n//       break;\n//     case Shots >= 17 && Shots < 18:\n//       strength = 8;\n//       break;\n//     case Shots >= 15.5 && Shots < 17:\n//       strength = 7;\n//       break;\n//     case Shots >= 14 && Shots < 15.5:\n//       strength = 6;\n//       break;\n//     case Shots >= 12.5 && Shots < 14:\n//       strength = 5;\n//       break;\n//     case Shots >= 11 && Shots < 12.5:\n//       strength = 4;\n//       break;\n//     case Shots >= 9.5 && Shots < 11:\n//       strength = 3;\n//       break;\n//     case Shots >= 8 && Shots < 9.5:\n//       strength = 2;\n//       break;\n//     case Shots < 8:\n//       strength = 1;\n//       break;\n//     default:\n//       break;\n//   }\n//   return strength;\n// }\n\n// export async function getXGForStrength(XG) {\n//   let strength;\n//   switch (true) {\n//     case XG >= 2.9:\n//       strength = 10;\n//       break;\n//     case XG >= 2.6 && XG < 2.9:\n//       strength = 9;\n//       break;\n//     case XG >= 2.3 && XG < 2.6:\n//       strength = 8;\n//       break;\n//     case XG >= 2 && XG < 2.3:\n//       strength = 7;\n//       break;\n//     case XG >= 1.7 && XG < 2:\n//       strength = 6;\n//       break;\n//     case XG >= 1.4 && XG < 1.7:\n//       strength = 5;\n//       break;\n//     case XG >= 1.1 && XG < 1.4:\n//       strength = 4;\n//       break;\n//     case XG >= 0.8 && XG < 1.1:\n//       strength = 3;\n//       break;\n//     case XG >= 0.5 && XG < 0.8:\n//       strength = 2;\n//       break;\n//     case XG < 0.5:\n//       strength = 1;\n//       break;\n//     default:\n//       break;\n//   }\n//   return strength;\n// }\n\n// export async function getXGAgainstStrength(XGAgainst) {\n//   let strength;\n//   switch (true) {\n//     case XGAgainst >= 2.9:\n//       strength = 1;\n//       break;\n//     case XGAgainst >= 2.6 && XGAgainst < 2.9:\n//       strength = 2;\n//       break;\n//     case XGAgainst >= 2.3 && XGAgainst < 2.6:\n//       strength = 3;\n//       break;\n//     case XGAgainst >= 2 && XGAgainst < 2.3:\n//       strength = 4;\n//       break;\n//     case XGAgainst >= 1.7 && XGAgainst < 2:\n//       strength = 5;\n//       break;\n//     case XGAgainst >= 1.4 && XGAgainst < 1.7:\n//       strength = 6;\n//       break;\n//     case XGAgainst >= 1.1 && XGAgainst < 1.4:\n//       strength = 7;\n//       break;\n//     case XGAgainst >= 0.8 && XGAgainst < 1.1:\n//       strength = 8;\n//       break;\n//     case XGAgainst >= 0.5 && XGAgainst < 0.8:\n//       strength = 9;\n//       break;\n//     case XGAgainst < 0.5:\n//       strength = 10;\n//       break;\n//     default:\n//       break;\n//   }\n//   return strength;\n// }\n\n// export async function getXGDifferentialStrength(XGDiff) {\n//   let strength;\n//   switch (true) {\n//     case XGDiff >= 1.5:\n//       strength = 10;\n//       break;\n//     case XGDiff >= 1 && XGDiff < 1.5:\n//       strength = 9;\n//       break;\n//     case XGDiff >= 0.5 && XGDiff < 1:\n//       strength = 8;\n//       break;\n//     case XGDiff >= 0.25 && XGDiff < 0.5:\n//       strength = 7;\n//       break;\n//     case XGDiff > 0 && XGDiff < 0.25:\n//       strength = 6;\n//       break;\n//     case XGDiff <= 0 && XGDiff > -0.25:\n//       strength = 5;\n//       break;\n//     case XGDiff <= -0.25 && XGDiff > -0.5:\n//       strength = 4;\n//       break;\n//     case XGDiff <= -0.5 && XGDiff > -1:\n//       strength = 3;\n//       break;\n//     case XGDiff <= -1 && XGDiff > -1.5:\n//       strength = 2;\n//       break;\n//     case XGDiff <= -1.5:\n//       strength = 1;\n//       break;\n//     default:\n//       console.log(\"default clause triggered\");\n//       break;\n//   }\n//   return strength;\n// }\n\nexport async function getXGtoActualDifferentialStrength(XGDiff) {\n  let strength;\n  switch (true) {\n    case XGDiff >= 1.5:\n      strength = 10;\n      break;\n    case XGDiff >= 1 && XGDiff < 1.5:\n      strength = 9;\n      break;\n    case XGDiff >= 0.5 && XGDiff < 1:\n      strength = 8;\n      break;\n    case XGDiff >= 0.25 && XGDiff < 0.5:\n      strength = 7;\n      break;\n    case XGDiff > 0 && XGDiff < 0.25:\n      strength = 6;\n      break;\n    case XGDiff <= 0 && XGDiff > -0.25:\n      strength = 5;\n      break;\n    case XGDiff <= -0.25 && XGDiff > -0.5:\n      strength = 4;\n      break;\n    case XGDiff <= -0.5 && XGDiff > -1:\n      strength = 3;\n      break;\n    case XGDiff <= -1 && XGDiff > -1.5:\n      strength = 2;\n      break;\n    case XGDiff <= -1.5:\n      strength = 1;\n      break;\n    default:\n      strength = 1;\n      break;\n  }\n  return strength;\n}\n\nlet rollingGoalDiffTotalHome = [];\nlet rollingGoalDiffTotalAway = [];\nlet rollingXGDiffTotalHome = [];\nlet rollingXGDiffTotalAway = [];\nlet rollingSOTDiffTotalHome = [];\nlet rollingSOTDiffTotalAway = [];\n\nexport async function createStatsDiv(game, displayBool) {\n  if (game.status !== \"void\") {\n    // takes the displayBool boolean from the fixture onClick and sets the styling of the stats div from there\n    function styling(testBool) {\n      let bool = testBool;\n      if (bool === true && clicked === true) {\n        // set stats element to display flex\n        return { display: \"block\" };\n      } else {\n        // set stats element to display none\n        return { display: \"none\" };\n      }\n    }\n    let style = styling(displayBool);\n\n    if (clicked === false) {\n      alert(\"Tap Get Predictions to fetch all game stats first\");\n    } else {\n      let index = 2;\n      let divider = 10;\n\n      let gameStats = allForm.find((match) => match.id === game.id);\n      const gameArrayHome = [];\n      const gameArrayAway = [];\n      const gameArrayHomeTeamHomeGames = [];\n      const gameArrayAwayTeamAwayGames = [];\n      let goalDiffArrayHome;\n      let goalDiffArrayAway;\n      let xgDiffArrayHome;\n      let xgDiffArrayAway;\n      let sotDiffArrayHome;\n      let sotDiffArrayAway;\n      let latestHomeGoalDiff;\n      let latestAwayGoalDiff;\n\n      var getEMA = (a, r) =>\n        a.reduce(\n          (p, n, i) =>\n            i\n              ? p.concat(\n                  (2 * n) / (r + 1) + (p[p.length - 1] * (r - 1)) / (r + 1)\n                )\n              : p,\n          [a[0]]\n        );\n\n      const homeForm = gameStats.home[index];\n      const awayForm = gameStats.away[index];\n\n      if (displayBool === true) {\n        // let fixtures = await fetch(\n        //   `${process.env.REACT_APP_EXPRESS_SERVER}leagueFixtures/${gameStats.leagueId}`\n        // );\n\n        const pos = allLeagueResultsArrayOfObjects\n          .map((i) => i.id)\n          .indexOf(gameStats.leagueId);\n        let matches = allLeagueResultsArrayOfObjects[pos];\n        // await fixtures.json().then((matches) => {\n        const resultHome = matches.fixtures.filter(\n          (game) =>\n            game.home_name === gameStats.home.teamName ||\n            game.away_name === gameStats.home.teamName\n        );\n\n        const resultHomeOnly = matches.fixtures.filter(\n          (game) => game.home_name === gameStats.home.teamName\n        );\n\n        resultHome.sort((a, b) => b.date_unix - a.date_unix);\n        resultHomeOnly.sort((a, b) => b.date_unix - a.date_unix);\n\n        for (let i = 0; i < resultHome.length; i++) {\n          let unixTimestamp = resultHome[i].date_unix;\n          let milliseconds = unixTimestamp * 1000;\n          let dateObject = new Date(milliseconds).toLocaleString(\"en-GB\", {\n            timeZone: \"UTC\",\n          });\n\n          let won;\n          let goalsScored;\n          let goalsConceeded;\n\n          switch (true) {\n            case resultHome[i].home_name === gameStats.home.teamName:\n              switch (true) {\n                case resultHome[i].homeGoalCount > resultHome[i].awayGoalCount:\n                  won = \"W\";\n                  goalsScored = resultHome[i].homeGoalCount;\n                  goalsConceeded = resultHome[i].awayGoalCount;\n                  break;\n                case resultHome[i].homeGoalCount ===\n                  resultHome[i].awayGoalCount:\n                  won = \"D\";\n                  goalsScored = resultHome[i].homeGoalCount;\n                  goalsConceeded = resultHome[i].awayGoalCount;\n                  break;\n                case resultHome[i].homeGoalCount < resultHome[i].awayGoalCount:\n                  won = \"L\";\n                  goalsScored = resultHome[i].homeGoalCount;\n                  goalsConceeded = resultHome[i].awayGoalCount;\n                  break;\n                default:\n                  break;\n              }\n              break;\n            case resultHome[i].away_name === gameStats.home.teamName:\n              switch (true) {\n                case resultHome[i].homeGoalCount > resultHome[i].awayGoalCount:\n                  won = \"L\";\n                  goalsScored = resultHome[i].homeGoalCount;\n                  goalsConceeded = resultHome[i].awayGoalCount;\n                  break;\n                case resultHome[i].homeGoalCount ===\n                  resultHome[i].awayGoalCount:\n                  won = \"D\";\n                  goalsScored = resultHome[i].homeGoalCount;\n                  goalsConceeded = resultHome[i].awayGoalCount;\n                  break;\n                case resultHome[i].homeGoalCount < resultHome[i].awayGoalCount:\n                  won = \"W\";\n                  goalsScored = resultHome[i].homeGoalCount;\n                  goalsConceeded = resultHome[i].awayGoalCount;\n                  break;\n                default:\n                  break;\n              }\n              break;\n            default:\n              break;\n          }\n\n          gameArrayHome.push({\n            id: resultHome[i].id,\n            date: dateObject,\n            homeTeam: resultHome[i].home_name,\n            homeGoals: resultHome[i].homeGoalCount,\n            homeXG: resultHome[i].team_a_xg,\n            homeOdds: resultHome[i].odds_ft_1,\n            awayTeam: resultHome[i].away_name,\n            awayGoals: resultHome[i].awayGoalCount,\n            awayXG: resultHome[i].team_b_xg,\n            awayOdds: resultHome[i].odds_ft_2,\n            won: won,\n            homeShots: resultHome[i].team_a_shots,\n            awayShots: resultHome[i].team_b_shots,\n            homeSot: resultHome[i].team_a_shotsOnTarget,\n            awaySot: resultHome[i].team_b_shotsOnTarget,\n            homeRed: resultHome[i].team_a_red_cards,\n            awayRed: resultHome[i].team_b_red_cards,\n            homePossession: resultHome[i].team_a_possession,\n            awayPossession: resultHome[i].team_b_possession,\n            homeDangerousAttacks: resultHome[i].team_a_dangerous_attacks,\n            awayDangerousAttacks: resultHome[i].team_b_dangerous_attacks,\n            homePPG: resultHome[i].pre_match_teamA_overall_ppg,\n            awayPPG: resultHome[i].pre_match_teamB_overall_ppg,\n            unixTimestamp: resultHome[i].date_unix,\n            goalsFor: goalsScored,\n            goalsAgainst: goalsConceeded,\n            btts:\n              resultHome[i].homeGoalCount > 0 && resultHome[i].awayGoalCount > 0\n                ? \"\\u2714\"\n                : \"\\u2718\",\n          });\n        }\n\n        for (let i = 0; i < resultHomeOnly.length; i++) {\n          let wonHomeOrAwayOnly;\n\n          switch (true) {\n            case resultHomeOnly[i].home_name === gameStats.home.teamName:\n              switch (true) {\n                case resultHomeOnly[i].homeGoalCount >\n                  resultHomeOnly[i].awayGoalCount:\n                  wonHomeOrAwayOnly = \"W\";\n                  gameArrayHomeTeamHomeGames.push(wonHomeOrAwayOnly);\n                  break;\n                case resultHomeOnly[i].homeGoalCount ===\n                  resultHomeOnly[i].awayGoalCount:\n                  wonHomeOrAwayOnly = \"D\";\n                  gameArrayHomeTeamHomeGames.push(wonHomeOrAwayOnly);\n                  break;\n                case resultHomeOnly[i].homeGoalCount <\n                  resultHomeOnly[i].awayGoalCount:\n                  wonHomeOrAwayOnly = \"L\";\n                  gameArrayHomeTeamHomeGames.push(wonHomeOrAwayOnly);\n                  break;\n                default:\n                  break;\n              }\n              break;\n\n            default:\n              break;\n          }\n        }\n\n        goalDiffArrayHome = homeForm.allTeamResults.map(\n          (a) => a.scored - a.conceeded\n        );\n        goalDiffArrayHome = goalDiffArrayHome.reverse();\n        xgDiffArrayHome = homeForm.allTeamResults.map(\n          (a) => a.XG - a.XGAgainst\n        );\n        xgDiffArrayHome = xgDiffArrayHome.reverse();\n\n        sotDiffArrayHome = homeForm.allTeamResults.map(\n          (a) => a.sot - a.sotAgainst\n        );\n        sotDiffArrayHome = sotDiffArrayHome.reverse();\n\n        gameArrayHome.sort((a, b) => b.unixTimestamp - a.unixTimestamp);\n\n        rollingGoalDiffTotalHome = goalDiffArrayHome.map(\n          (\n            (sum) => (value) =>\n              (sum += value)\n          )(0)\n        );\n        rollingXGDiffTotalHome = xgDiffArrayHome.map(\n          (\n            (sum) => (value) =>\n              (sum += value)\n          )(0)\n        );\n        rollingSOTDiffTotalHome = sotDiffArrayHome.map(\n          (\n            (sum) => (value) =>\n              (sum += value)\n          )(0)\n        );\n\n        const resultAway = matches.fixtures.filter(\n          (game) =>\n            game.away_name === gameStats.away.teamName ||\n            game.home_name === gameStats.away.teamName\n        );\n\n        const resultAwayOnly = matches.fixtures.filter(\n          (game) => game.away_name === gameStats.away.teamName\n        );\n\n        resultAway.sort((a, b) => b.date_unix - a.date_unix);\n        resultAwayOnly.sort((a, b) => b.date_unix - a.date_unix);\n\n        for (let i = 0; i < resultAway.length; i++) {\n          let unixTimestamp = resultAway[i].date_unix;\n          let milliseconds = unixTimestamp * 1000;\n          let dateObject = new Date(milliseconds).toLocaleString(\"en-GB\", {\n            timeZone: \"UTC\",\n          });\n\n          let won;\n          let goalsScored;\n          let goalsConceeded;\n\n          switch (true) {\n            case resultAway[i].home_name === gameStats.away.teamName:\n              switch (true) {\n                case resultAway[i].homeGoalCount > resultAway[i].awayGoalCount:\n                  won = \"W\";\n                  goalsScored = resultAway[i].awayGoalCount;\n                  goalsConceeded = resultAway[i].homeGoalCount;\n                  break;\n                case resultAway[i].awayGoalCount ===\n                  resultAway[i].homeGoalCount:\n                  won = \"D\";\n                  goalsScored = resultAway[i].awayGoalCount;\n                  goalsConceeded = resultAway[i].homeGoalCount;\n                  break;\n                case resultAway[i].homeGoalCount < resultAway[i].awayGoalCount:\n                  won = \"L\";\n                  goalsScored = resultAway[i].awayGoalCount;\n                  goalsConceeded = resultAway[i].homeGoalCount;\n                  break;\n                default:\n                  break;\n              }\n              break;\n\n            case resultAway[i].away_name === gameStats.away.teamName:\n              switch (true) {\n                case resultAway[i].homeGoalCount > resultAway[i].awayGoalCount:\n                  won = \"L\";\n                  goalsScored = resultAway[i].awayGoalCount;\n                  goalsConceeded = resultAway[i].homeGoalCount;\n                  break;\n                case resultAway[i].homeGoalCount ===\n                  resultAway[i].awayGoalCount:\n                  won = \"D\";\n                  goalsScored = resultAway[i].awayGoalCount;\n                  goalsConceeded = resultAway[i].homeGoalCount;\n                  break;\n                case resultAway[i].homeGoalCount < resultAway[i].awayGoalCount:\n                  won = \"W\";\n                  goalsScored = resultAway[i].awayGoalCount;\n                  goalsConceeded = resultAway[i].homeGoalCount;\n                  break;\n                default:\n                  break;\n              }\n              break;\n            default:\n              break;\n          }\n\n          gameArrayAway.push({\n            id: resultAway[i].id,\n            date: dateObject,\n            homeTeam: resultAway[i].home_name,\n            homeGoals: resultAway[i].homeGoalCount,\n            homeXG: resultAway[i].team_a_xg,\n            homeOdds: resultAway[i].odds_ft_1,\n            awayTeam: resultAway[i].away_name,\n            awayGoals: resultAway[i].awayGoalCount,\n            awayXG: resultAway[i].team_b_xg,\n            awayOdds: resultAway[i].odds_ft_2,\n            won: won,\n            homeShots: resultAway[i].team_a_shots,\n            awayShots: resultAway[i].team_b_shots,\n            homeSot: resultAway[i].team_a_shotsOnTarget,\n            awaySot: resultAway[i].team_b_shotsOnTarget,\n            homeRed: resultAway[i].team_a_red_cards,\n            awayRed: resultAway[i].team_b_red_cards,\n            homePossession: resultAway[i].team_a_possession,\n            awayPossession: resultAway[i].team_b_possession,\n            homeDangerousAttacks: resultAway[i].team_a_dangerous_attacks,\n            awayDangerousAttacks: resultAway[i].team_b_dangerous_attacks,\n            homePPG: resultAway[i].pre_match_teamA_overall_ppg,\n            awayPPG: resultAway[i].pre_match_teamB_overall_ppg,\n            unixTimestamp: resultAway[i].date_unix,\n            goalsFor: goalsScored,\n            goalsAgainst: goalsConceeded,\n            btts:\n              resultAway[i].homeGoalCount > 0 && resultAway[i].awayGoalCount > 0\n                ? \"\\u2714\"\n                : \"\\u2718\",\n          });\n        }\n\n        for (let i = 0; i < resultAwayOnly.length; i++) {\n          let wonAwayOrAwayOnly;\n\n          switch (true) {\n            case resultAwayOnly[i].away_name === gameStats.away.teamName:\n              switch (true) {\n                case resultAwayOnly[i].awayGoalCount >\n                  resultAwayOnly[i].homeGoalCount:\n                  wonAwayOrAwayOnly = \"W\";\n                  gameArrayAwayTeamAwayGames.push(wonAwayOrAwayOnly);\n                  break;\n                case resultAwayOnly[i].awayGoalCount ===\n                  resultAwayOnly[i].homeGoalCount:\n                  wonAwayOrAwayOnly = \"D\";\n                  gameArrayAwayTeamAwayGames.push(wonAwayOrAwayOnly);\n                  break;\n                case resultAwayOnly[i].awayGoalCount <\n                  resultAwayOnly[i].homeGoalCount:\n                  wonAwayOrAwayOnly = \"L\";\n                  gameArrayAwayTeamAwayGames.push(wonAwayOrAwayOnly);\n                  break;\n                default:\n                  break;\n              }\n              break;\n\n            default:\n              break;\n          }\n        }\n\n        goalDiffArrayAway = awayForm.allTeamResults.map(\n          (a) => a.scored - a.conceeded\n        );\n        goalDiffArrayAway = goalDiffArrayAway.reverse();\n        xgDiffArrayAway = awayForm.allTeamResults.map(\n          (a) => a.XG - a.XGAgainst\n        );\n        xgDiffArrayAway = xgDiffArrayAway.reverse();\n\n        sotDiffArrayAway = awayForm.allTeamResults.map(\n          (a) => a.sot - a.sotAgainst\n        );\n        sotDiffArrayAway = sotDiffArrayAway.reverse();\n\n        gameArrayAway.sort((a, b) => b.unixTimestamp - a.unixTimestamp);\n\n        rollingGoalDiffTotalAway = goalDiffArrayAway.map(\n          (\n            (sum) => (value) =>\n              (sum += value)\n          )(0)\n        );\n        rollingXGDiffTotalAway = xgDiffArrayAway.map(\n          (\n            (sum) => (value) =>\n              (sum += value)\n          )(0)\n        );\n        rollingSOTDiffTotalAway = sotDiffArrayAway.map(\n          (\n            (sum) => (value) =>\n              (sum += value)\n          )(0)\n        );\n        // });\n      }\n\n      const bttsArrayHome = Array.from(gameArrayHome, (x) => x.btts);\n      const bttsArrayHomeOnly = Array.from(gameArrayHomeTeamHomeGames, (x) => x.btts);\n\n      \n      const bttsArrayAway = Array.from(gameArrayAway, (x) => x.btts);\n      const bttsArrayAwayOnly = Array.from(gameArrayAwayTeamAwayGames, (x) => x.btts);\n\n      const resultsArrayHome = Array.from(gameArrayHome, (x) => x.won);\n      const resultsArrayAway = Array.from(gameArrayAway, (x) => x.won);\n\n      let homeTeam = gameStats.home.teamName;\n      let awayTeam = gameStats.away.teamName;\n\n      let time = game.time;\n\n      if (homeForm.last3Points === undefined) {\n        homeForm.last3Points = getPointsFromLastX(homeForm.lastThreeForm);\n\n        homeForm.last5Points = getPointsFromLastX(homeForm.LastFiveForm);\n\n        homeForm.last6Points = getPointsFromLastX(homeForm.LastSixForm);\n\n        homeForm.last10Points = getPointsFromLastX(homeForm.LastTenForm);\n\n        homeForm.homePPGame = getPointsFromLastX(homeForm.resultsHome);\n\n        awayForm.last3Points = getPointsFromLastX(awayForm.lastThreeForm);\n\n        awayForm.last5Points = getPointsFromLastX(awayForm.LastFiveForm);\n\n        awayForm.last6Points = getPointsFromLastX(awayForm.LastSixForm);\n\n        awayForm.last10Points = getPointsFromLastX(awayForm.LastTenForm);\n\n        awayForm.awayPPGame = getPointsFromLastX(awayForm.resultsAway);\n      }\n\n      // let homeThreeGameAverage = await getPointAverage(\n      //   homeForm.last3Points,\n      //   3\n      // );\n\n      let homeFiveGameAverage = await getPointAverage(homeForm.last5Points, 5);\n\n      let homeSixGameAverage = await getPointAverage(homeForm.last6Points, 6);\n\n      let homeTenGameAverage = await getPointAverage(homeForm.last10Points, 10);\n\n      homeForm.homePPGAv = await getPointAverage(\n        homeForm.homePPGame,\n        homeForm.resultsHome.length\n      );\n      homeForm.tenGameAv = homeTenGameAverage;\n      homeForm.fiveGameAv = homeFiveGameAverage;\n\n      // let awayThreeGameAverage = await getPointAverage(\n      //   awayForm.last3Points,\n      //   3\n      // );\n\n      let awayFiveGameAverage = await getPointAverage(awayForm.last5Points, 5);\n\n      let awaySixGameAverage = await getPointAverage(awayForm.last6Points, 6);\n\n      let awayTenGameAverage = await getPointAverage(awayForm.last10Points, 10);\n\n      awayForm.awayPPGAv = await getPointAverage(\n        awayForm.awayPPGame,\n        awayForm.resultsAway.length\n      );\n      awayForm.tenGameAv = awayTenGameAverage;\n      awayForm.fiveGameAv = awayFiveGameAverage;\n\n      let paid;\n      if (userDetail) {\n        paid = await checkUserPaidStatus(userDetail.uid);\n      } else {\n        paid = false;\n      }\n\n      async function getPointsFromGames(formArr) {\n        const pairings = {\n          W: 3,\n          D: 1,\n          L: 0,\n        };\n        let newArr = [];\n        let arrayOfIndividualPoints = [];\n        let sum = 0;\n\n        for (let i = 0; i < formArr.length; i++) {\n          sum = sum + pairings[formArr[i]];\n          newArr.push(sum);\n          arrayOfIndividualPoints.push(pairings[formArr[i]]);\n        }\n        return [newArr, arrayOfIndividualPoints];\n      }\n\n      async function getLastGameResult(lastGame) {\n        let text;\n        switch (true) {\n          case lastGame === \"L\":\n            text = \"Lost\";\n            break;\n          case lastGame === \"D\":\n            text = \"Drew\";\n            break;\n          case lastGame === \"W\":\n            text = \"Won\";\n            break;\n          default:\n            break;\n        }\n        return text;\n      }\n\n      let homeFormTrend = [\n        homeFiveGameAverage.toFixed(2),\n        homeTenGameAverage.toFixed(2),\n      ];\n\n      let awayFormTrend = [\n        awayFiveGameAverage.toFixed(2),\n        awayTenGameAverage.toFixed(2),\n      ];\n\n      let formTextStringHome;\n      let formTextStringAway;\n\n      // if (displayBool === true && gameStats.home[2].LeagueOrAll === \"League\") {\n      //   console.log(1)\n      formTextStringHome = await GenerateFormSummary(\n        homeForm,\n        homeForm.tenGameAv,\n        homeForm.fiveGameAv\n      );\n      formTextStringAway = await GenerateFormSummary(\n        awayForm,\n        awayForm.tenGameAv,\n        awayForm.fiveGameAv\n      );\n      // } else {\n      //   console.log(2)\n      //   formTextStringHome = \"\";\n      //   formTextStringAway = \"\";\n      // }\n\n      let favouriteRecordHome, favouriteRecordAway;\n      if (\n        homeForm.underdogCount &&\n        awayForm.underdogCount &&\n        homeForm.favouriteCount &&\n        awayForm.favouriteCount\n      ) {\n        favouriteRecordHome =\n          game.homeOdds < game.awayOdds || game.homeOdds === game.awayOdds\n            ? `${homeForm.teamName} have been favourites ${\n                homeForm.favouriteCount\n              } times. Of these games, they have Won: ${homeForm.oddsReliabilityWin.toFixed(\n                0\n              )}%, Drawn:  ${homeForm.oddsReliabilityDraw.toFixed(\n                0\n              )}%, Lost:  ${homeForm.oddsReliabilityLose.toFixed(0)}%`\n            : `${homeForm.teamName} have been underdogs ${\n                homeForm.underdogCount\n              } times. Of these games, they have Won: ${homeForm.oddsReliabilityWinAsUnderdog.toFixed(\n                0\n              )}%, Drawn:  ${homeForm.oddsReliabilityDrawAsUnderdog.toFixed(\n                0\n              )}%, Lost:  ${homeForm.oddsReliabilityLoseAsUnderdog.toFixed(\n                0\n              )}%`;\n        favouriteRecordAway =\n          game.homeOdds > game.awayOdds || game.homeOdds === game.awayOdds\n            ? `${awayForm.teamName} have been favourites ${\n                awayForm.favouriteCount\n              } times. Of these games, they have Won: ${awayForm.oddsReliabilityWin.toFixed(\n                0\n              )}%, Drawn:  ${awayForm.oddsReliabilityDraw.toFixed(\n                0\n              )}%, Lost:  ${awayForm.oddsReliabilityLose.toFixed(0)}%`\n            : `${awayForm.teamName} have been underdogs ${\n                awayForm.underdogCount\n              } times. Of these games, they have Won: ${awayForm.oddsReliabilityWinAsUnderdog.toFixed(\n                0\n              )}%, Drawn:  ${awayForm.oddsReliabilityDrawAsUnderdog.toFixed(\n                0\n              )}%, Lost:  ${awayForm.oddsReliabilityLoseAsUnderdog.toFixed(\n                0\n              )}%`;\n      } else if (\n        !homeForm.favouriteCount &&\n        awayForm.favouriteCount &&\n        !homeForm.underdogCount &&\n        awayForm.underdogCount\n      ) {\n        favouriteRecordHome =\n          \"No previous fixtures match the profile of this game.\";\n        favouriteRecordAway =\n          game.homeOdds > game.awayOdds || game.homeOdds === game.awayOdds\n            ? `${awayForm.teamName} have been favourites ${\n                awayForm.favouriteCount\n              } times. Of these games, they have Won: ${awayForm.oddsReliabilityWin.toFixed(\n                0\n              )}%, Drawn:  ${awayForm.oddsReliabilityDraw.toFixed(\n                0\n              )}%, Lost:  ${awayForm.oddsReliabilityLose.toFixed(0)}%`\n            : `${awayForm.teamName} have been underdogs ${\n                awayForm.underdogCount\n              } times. Of these games, they have Won: ${awayForm.oddsReliabilityWinAsUnderdog.toFixed(\n                0\n              )}%, Drawn:  ${awayForm.oddsReliabilityDrawAsUnderdog.toFixed(\n                0\n              )}%, Lost:  ${awayForm.oddsReliabilityLoseAsUnderdog.toFixed(\n                0\n              )}%`;\n      } else if (homeForm.oddsReliabilityWin && !awayForm.oddsReliabilityWin) {\n        favouriteRecordHome =\n          game.homeOdds < game.awayOdds || game.homeOdds === game.awayOdds\n            ? `${homeForm.teamName} have been favourites ${\n                homeForm.favouriteCount\n              } times. Of these games, they have Won: ${homeForm.oddsReliabilityWin.toFixed(\n                0\n              )}%, Drawn:  ${homeForm.oddsReliabilityDraw.toFixed(\n                0\n              )}%, Lost:  ${homeForm.oddsReliabilityLose.toFixed(0)}%`\n            : `${homeForm.teamName} have been underdogs ${\n                homeForm.underdogCount\n              } times. Of these games, they have Won: ${homeForm.oddsReliabilityWinAsUnderdog.toFixed(\n                0\n              )}%, Drawn:  ${homeForm.oddsReliabilityDrawAsUnderdog.toFixed(\n                0\n              )}%, Lost:  ${homeForm.oddsReliabilityLoseAsUnderdog.toFixed(\n                0\n              )}%`;\n        favouriteRecordAway =\n          \"No previous fixtures match the profile of this game.\";\n      } else if (!homeForm.oddsReliabilityWin && !awayForm.oddsReliabilityWin) {\n        favouriteRecordHome =\n          \"No previous fixtures match the profile of this game.\";\n        favouriteRecordAway =\n          \"No previous fixtures match the profile of this game.\";\n      }\n\n      // let homeAttackStrength = await getAttackStrength(\n      //   homeForm.ScoredOverall / 10\n      // );\n\n      const attackingMetricsHome = {\n        // averagePossession: homeForm.AveragePossessionOverall,\n        \"Average Dangerous Attacks\": homeForm.AverageDangerousAttacksOverall,\n        \"Average Shots\": homeForm.AverageShots,\n        \"Average Shots On Target\": homeForm.AverageShotsOnTargetOverall,\n        \"Average Expected Goals\": homeForm.XGOverall,\n        \"Recent XG\": homeForm.XGlast5 ? homeForm.XGlast5 : homeForm.XGOverall,\n        \"Average Goals\":\n          homeForm.averageScoredLeague !== undefined &&\n          homeForm.averageScoredLeague !== null\n            ? homeForm.averageScoredLeague\n            : homeForm.ScoredOverall / 10,\n      };\n      const attackingMetricsAway = {\n        // averagePossession: awayForm.AveragePossessionOverall,\n        \"Average Dangerous Attacks\": awayForm.AverageDangerousAttacksOverall,\n        \"Average Shots\": awayForm.AverageShots,\n        \"Average Shots On Target\": awayForm.AverageShotsOnTargetOverall,\n        \"Average Expected Goals\": awayForm.XGOverall,\n        \"Recent XG\": awayForm.XGlast5 ? awayForm.XGlast5 : awayForm.XGOverall,\n        \"Average Goals\":\n          awayForm.averageScoredLeague !== undefined &&\n          awayForm.averageScoredLeague !== null\n            ? awayForm.averageScoredLeague\n            : awayForm.ScoredOverall / 10,\n      };\n\n      const defensiveMetricsHome = {\n        \"Clean Sheet Percentage\": 100 - homeForm.CleanSheetPercentage,\n        \"Average XG Against\": homeForm.XGAgainstAvgOverall,\n        \"Recent XG Against\": homeForm.XGAgainstlast5\n          ? homeForm.XGAgainstlast5\n          : homeForm.XGAgainstAvgOverall,\n        \"Average Goals Against\":\n          homeForm.averageConceededLeague !== undefined &&\n          homeForm.averageConceededLeague !== null\n            ? homeForm.averageConceededLeague\n            : homeForm.ConcededOverall / 10,\n      };\n\n      const defensiveMetricsAway = {\n        \"Clean Sheet Percentage\": 100 - awayForm.CleanSheetPercentage,\n        \"Average XG Against\": awayForm.XGAgainstAvgOverall,\n        \"Recent XG Against\": awayForm.XGAgainstlast5\n          ? awayForm.XGAgainstlast5\n          : awayForm.XGAgainstAvgOverall,\n        \"Average Goals Against\":\n          awayForm.averageConceededLeague !== undefined &&\n          awayForm.averageConceededLeague !== null\n            ? awayForm.averageConceededLeague\n            : awayForm.ConcededOverall / 10,\n      };\n\n      let homeXGRating;\n      let awayXGRating;\n      let homeAttackStrength;\n      let homeAttackStrengthLast5;\n      let homeOnlyAttackStrength;\n      let homeDefenceStrength;\n      let homeDefenceStrengthLast5;\n      let homeOnlyDefenceStrength;\n      let homePossessionStrength;\n      let homePossessionStrengthLast5;\n      let homeOnlyPossessionStrength;\n      let homeXGForStrength;\n      let homeXGForStrengthLast5;\n      let homeOnlyXGForStrength;\n      let homeXGAgainstStrength;\n      let homeXGAgainstStrengthLast5;\n      let homeOnlyXGAgainstStrength;\n      let awayAttackStrength;\n      let awayAttackStrengthLast5;\n      let awayOnlyAttackStrength;\n      let awayDefenceStrength;\n      let awayDefenceStrengthLast5;\n      let awayOnlyDefenceStrength;\n      let awayPossessionStrength;\n      let awayPossessionStrengthLast5;\n      let awayOnlyPossessionStrength;\n      let awayXGForStrength;\n      let awayXGForStrengthLast5;\n      let awayOnlyXGForStrength;\n      let awayXGAgainstStrength;\n      let awayXGAgainstStrengthLast5;\n      let awayOnlyXGAgainstStrength;\n      let homeDirectnessStrength;\n      let homeDirectnessStrengthLast5;\n      let homeOnlyDirectnessStrength;\n      let awayDirectnessStrength;\n      let awayDirectnessStrengthLast5;\n      let awayOnlyDirectnessStrength;\n      let homeAccuracyOverallStrength;\n      let homeAccuracyOverallStrengthLast5;\n      let homeOnlyAccuracyOverallStrength;\n      let awayAccuracyOverallStrength;\n      let awayAccuracyOverallStrengthLast5;\n      let awayOnlyAccuracyOverallStrength;\n\n      if (homeForm.xgForStrength) {\n        console.log(\"not calculating\");\n        homeXGRating = homeForm.XGRating;\n        awayXGRating = awayForm.XGRating;\n        homeAttackStrength = homeForm.attackingStrength;\n        homeAttackStrengthLast5 = homeForm.attackingStrengthLast5;\n        homeOnlyAttackStrength = homeForm.attackingStrengthHomeOnly;\n        homeDefenceStrength = homeForm.defensiveStrength;\n        homeDefenceStrengthLast5 = homeForm.defensiveStrengthLast5;\n        homeOnlyDefenceStrength = homeForm.defensiveStrengthHomeOnly;\n        homePossessionStrength = homeForm.possessionStrength;\n        homePossessionStrengthLast5 = homeForm.possessionStrengthLast5;\n        homeOnlyPossessionStrength = homeForm.possessionStrengthHomeOnly;\n        homeXGForStrength = homeForm.xgForStrength;\n        homeXGForStrengthLast5 = homeForm.xgForStrengthLast5;\n        homeOnlyXGForStrength = homeForm.xgForStrengthHomeOnly;\n        homeXGAgainstStrength = homeForm.xgAgainstStrength;\n        homeXGAgainstStrengthLast5 = homeForm.xgAgainstStrengthLast5;\n        homeOnlyXGAgainstStrength = homeForm.xgAgainstStrengthHomeOnly;\n        homeDirectnessStrength = homeForm.directnessOverallStrength;\n        homeDirectnessStrengthLast5 = homeForm.directnessOverallStrengthLast5;\n        homeOnlyDirectnessStrength = homeForm.directnessHomeStrength;\n        homeAccuracyOverallStrength = homeForm.accuracyOverallStrength;\n        homeAccuracyOverallStrengthLast5 =\n          homeForm.accuracyOverallStrengthLast5;\n        homeOnlyAccuracyOverallStrength = homeForm.accuracyHomeStrength;\n        awayAttackStrength = awayForm.attackingStrength;\n        awayAttackStrengthLast5 = awayForm.attackingStrengthLast5;\n        awayOnlyAttackStrength = awayForm.attackingStrengthAwayOnly;\n        awayDefenceStrength = awayForm.defensiveStrength;\n        awayDefenceStrengthLast5 = awayForm.defensiveStrengthLast5;\n        awayOnlyDefenceStrength = awayForm.defensiveStrengthAwayOnly;\n        awayPossessionStrength = awayForm.possessionStrength;\n        awayPossessionStrengthLast5 = awayForm.possessionStrengthLast5;\n        awayOnlyPossessionStrength = awayForm.possessionStrengthAwayOnly;\n        awayXGForStrength = awayForm.xgForStrength;\n        awayXGForStrengthLast5 = awayForm.xgForStrengthLast5;\n        awayOnlyXGForStrength = awayForm.xgForStrengthAwayOnly;\n        awayXGAgainstStrength = awayForm.xgAgainstStrength;\n        awayXGAgainstStrengthLast5 = awayForm.xgAgainstStrengthLast5;\n        awayOnlyXGAgainstStrength = awayForm.xgAgainstStrengthAwayOnly;\n        awayDirectnessStrength = awayForm.directnessOverallStrength;\n        awayDirectnessStrengthLast5 = awayForm.directnessOverallStrengthLast5;\n        awayOnlyDirectnessStrength = awayForm.directnessAwayStrength;\n        awayAccuracyOverallStrength = awayForm.accuracyOverallStrength;\n        awayAccuracyOverallStrengthLast5 =\n          awayForm.accuracyOverallStrengthLast5;\n        awayOnlyAccuracyOverallStrength = awayForm.accuracyAwayStrength;\n      } else {\n        homeAttackStrength = await calculateAttackingStrength(\n          attackingMetricsHome\n        );\n\n        homeDefenceStrength = await calculateDefensiveStrength(\n          defensiveMetricsHome\n        );\n\n        homePossessionStrength = await calculateMetricStrength(\n          \"averagePossession\",\n          homeForm.AveragePossessionOverall\n        );\n\n        homeXGForStrength = await calculateMetricStrength(\n          \"xgFor\",\n          gameStats.home[2].XGOverall\n        );\n\n        homeXGAgainstStrength = await calculateMetricStrength(\n          \"xgAgainst\",\n          3 - gameStats.home[2].XGAgainstAvgOverall\n        );\n        homeDirectnessStrength = await calculateMetricStrength(\n          \"directnessOverall\",\n          homeForm.directnessOverall\n        );\n        homeAccuracyOverallStrength = await calculateMetricStrength(\n          \"accuracyOverall\",\n          homeForm.avgShotValue\n        );\n\n        awayAttackStrength = await calculateAttackingStrength(\n          attackingMetricsAway\n        );\n        awayDefenceStrength = await calculateDefensiveStrength(\n          defensiveMetricsAway\n        );\n        awayPossessionStrength = await calculateMetricStrength(\n          \"averagePossession\",\n          awayForm.AveragePossessionOverall\n        );\n        awayXGForStrength = await calculateMetricStrength(\n          \"xgFor\",\n          gameStats.away[2].XGOverall\n        );\n\n        awayXGAgainstStrength = await calculateMetricStrength(\n          \"xgAgainst\",\n          3 - gameStats.away[2].XGAgainstAvgOverall\n        );\n        awayDirectnessStrength = await calculateMetricStrength(\n          \"directnessOverall\",\n          awayForm.directnessOverall\n        );\n        awayAccuracyOverallStrength = await calculateMetricStrength(\n          \"accuracyOverall\",\n          awayForm.avgShotValue\n        );\n      }\n\n      let [formPointsHome, testArrayHome] = await getPointsFromGames(\n        gameStats.home[2].WDLRecord\n      );\n      let [formPointsAway, testArrayAway] = await getPointsFromGames(\n        gameStats.away[2].WDLRecord\n      );\n\n      let rollingGoalDiffHome = [\n        (gameStats.home[0].ScoredOverall - gameStats.home[0].ConcededOverall) /\n          10,\n        (gameStats.home[1].ScoredOverall - gameStats.home[1].ConcededOverall) /\n          6,\n        (gameStats.home[2].ScoredOverall - gameStats.home[2].ConcededOverall) /\n          5,\n      ];\n\n      let rollingGoalDiffAway = [\n        (gameStats.away[0].ScoredOverall - gameStats.away[0].ConcededOverall) /\n          10,\n        (gameStats.away[1].ScoredOverall - gameStats.away[1].ConcededOverall) /\n          6,\n        (gameStats.away[2].ScoredOverall - gameStats.away[2].ConcededOverall) /\n          5,\n      ];\n\n\n      // async function generateAIInsights(game) {\n      //   console.log(\"called\")\n      //   // ReactDOM.render(\n      //   //   <Fragment>\n      //   //    <div>Loading...</div>\n      //   //   </Fragment>,\n      //   //   document.getElementById(\"AIInsightsContainer\")\n      //   // );\n\n      //   try {\n      //     const response = await fetch(\n      //       `${process.env.REACT_APP_EXPRESS_SERVER}gemini/${game}`,\n      //       {\n      //         method: \"POST\",\n      //         headers: {\n      //           Accept: \"application/json\",\n      //           \"Content-Type\": \"application/json\",\n      //         },\n      //         body: JSON.stringify(AIPayload),\n      //       }\n      //     );\n\n      //     console.log(\"Raw Response:\", response); // See the raw response\n\n      //     if (!response.ok) {\n      //       // Check for HTTP errors\n      //       throw new Error(`HTTP error! Status: ${response.status}`);\n      //     }\n\n      //     const jsonData = await response.json(); // Parse the response body as JSON\n      //     AIMatchPreview = jsonData;\n      //     console.log(AIMatchPreview)\n      //     const formattedText = await addNewlinesAfterPeriods(AIMatchPreview.matchPreview)\n\n      //     ReactDOM.render(\n      //       <Fragment>\n      //         <h2>Preview</h2>\n      //         <div className=\"AIMatchPreview\">\n      //           {formattedText}\n      //         </div>\n      //         <h2>AI Prediction</h2>\n      //         <div className=\"AIMatchPreview\">{AIMatchPreview.prediction} <i>(may not reflect the view of XGTipping)</i></div>\n      //         <div className=\"AIContainer\">\n      //           <div className=\"HomeAIInsights\">\n      //             <div>\n      //             {AIMatchPreview.homeTeam.summary}\n      //             </div>\n      //           </div>\n      //           <div className=\"AwayAIInsights\">\n      //             <div>\n      //             {AIMatchPreview.awayTeam.summary}\n      //             </div>\n      //           </div>\n      //         </div>\n      //       </Fragment>,\n      //       document.getElementById(\"AIInsightsContainer\")\n      //     );\n      //   } catch (error) {\n      //     console.error(\"Fetch error:\", error); // Handle fetch errors\n      //   }\n      // }\n\n      const formDataMatch = [];\n\n      formDataMatch.push({\n        btts: game.btts_potential,\n      });\n\n      const formDataHome = [];\n\n      formDataHome.push({\n        name: game.homeTeam,\n        Last5: gameStats.home[2].LastFiveForm,\n        LeagueOrAll: gameStats.home[2].LeagueOrAll,\n        AverageGoals: homeForm.ScoredOverall / 10,\n        AverageConceeded: homeForm.ConcededOverall / 10,\n        AverageXG: homeForm.XGOverall,\n        AverageXGConceded: homeForm.XGAgainstAvgOverall,\n        AveragePossession: homeForm.AveragePossessionOverall,\n        AverageShotsOnTarget: homeForm.AverageShotsOnTargetOverall,\n        AverageDangerousAttacks: homeForm.AverageDangerousAttacksOverall,\n        homeOrAway: \"Home\",\n        leaguePosition: homeForm.LeaguePosition,\n        Last5PPG: homeForm.PPG,\n        SeasonPPG: homeForm.SeasonPPG,\n        formRun: homeForm.formRun,\n        goalDifference: homeForm.goalDifference,\n        goalDifferenceHomeOrAway: homeForm.goalDifferenceHomeOrAway,\n        // BttsPercentage: homeForm.BttsPercentage || \"-\",\n        // BttsPercentageHomeOrAway: homeForm.BttsPercentageHomeOrAway || \"-\",\n        CardsTotal: homeForm.CardsTotal || \"-\",\n        CornersAverage: homeForm.AverageCorners || \"-\",\n        FormTextStringHome: formTextStringHome,\n        FavouriteRecord:\n          favouriteRecordHome + `. ${homeForm.reliabilityString}`,\n        BTTSArray: bttsArrayHome,\n        Results: homeForm.resultsAll,\n        ResultsHorA: homeForm.resultsHome.reverse(),\n        XGSwing: homeForm.XGChangeRecently,\n        styleOfPlayOverall: homeForm.styleOfPlayOverall,\n        styleOfPlayHome: homeForm.styleOfPlayHome,\n        // BTTSAll: homeForm.last10btts,\n        // BTTSHorA: homeForm.last10bttsHome,\n      });\n\n      const formDataAway = [];\n\n      formDataAway.push({\n        name: game.awayTeam,\n        Last5: gameStats.away[2].LastFiveForm,\n        LeagueOrAll: gameStats.away[2].LeagueOrAll,\n        AverageGoals: awayForm.ScoredOverall / 10,\n        AverageConceeded: awayForm.ConcededOverall / 10,\n        AverageXG: awayForm.XGOverall,\n        AverageXGConceded: awayForm.XGAgainstAvgOverall,\n        AveragePossession: awayForm.AveragePossessionOverall,\n        AverageShotsOnTarget: awayForm.AverageShotsOnTargetOverall,\n        AverageDangerousAttacks: awayForm.AverageDangerousAttacksOverall,\n        homeOrAway: \"Away\",\n        leaguePosition: awayForm.LeaguePosition,\n        Last5PPG: awayForm.PPG,\n        SeasonPPG: awayForm.SeasonPPG,\n        formRun: awayForm.formRun,\n        goalDifference: awayForm.goalDifference,\n        goalDifferenceHomeOrAway: awayForm.goalDifferenceHomeOrAway,\n        // BttsPercentage: awayForm.BttsPercentage || \"-\",\n        // BttsPercentageHomeOrAway: awayForm.BttsPercentageHomeOrAway || \"-\",\n        CardsTotal: awayForm.CardsTotal || \"-\",\n        CornersAverage: awayForm.AverageCorners || \"-\",\n        FormTextStringAway: formTextStringAway,\n        FavouriteRecord:\n          favouriteRecordAway + `. ${awayForm.reliabilityString}`,\n        BTTSArray: bttsArrayAway,\n        Results: awayForm.resultsAll,\n        ResultsHorA: awayForm.resultsAway.reverse(),\n        XGSwing: awayForm.XGChangeRecently,\n        styleOfPlayOverall: awayForm.styleOfPlayOverall,\n        styleOfPlayAway: awayForm.styleOfPlayAway,\n        // BTTSAll: awayForm.last10btts,\n        // BTTSHorA: awayForm.last10bttsAway,\n      });\n\n      let formArrayHome;\n      let formArrayAway;\n      let chartType;\n\n      if (formPointsHome.length > 1) {\n        formArrayHome = formPointsHome;\n        formArrayAway = formPointsAway;\n        chartType = \"Points over time\";\n      } else {\n        formArrayHome = [\n          homeTenGameAverage,\n          homeSixGameAverage,\n          homeFiveGameAverage,\n        ];\n        formArrayAway = [\n          awayTenGameAverage,\n          awaySixGameAverage,\n          awayFiveGameAverage,\n        ];\n        chartType = \"Rolling average points over last 10\";\n      }\n\n      ReactDOM.render(\n        <div style={style}>\n          <div className=\"H2HStats\" id={`H2HStats${game.id}`}></div>\n          <div className=\"TrendsHome\" id={`TrendsHome${game.id}`}></div>\n          <div className=\"TrendsAway\" id={`TrendsAway${game.id}`}></div>\n        </div>,\n        document.getElementById(\"history\" + homeTeam)\n      );\n\n      //This tournament does not have league positions\n      if (game.leagueName === \"Europe UEFA Women's Euro\") {\n        game.homeTeamHomePosition = \"N/A\";\n        game.awayTeamAwayPosition = \"N/A\";\n      }\n\n      function singleResult(game) {\n        return (\n          <div>\n            <div className=\"ResultRowSmall\">\n              <span className=\"column\">{game.homeXG}</span>\n              <span className=\"column\">XG</span>\n              <span className=\"column\">{game.awayXG}</span>\n            </div>\n            <div className=\"ResultRowSmall\">\n              <span className=\"column\">{game.homeShots}</span>\n              <span className=\"column\">Shots</span>\n              <span className=\"column\">{game.awayShots}</span>\n            </div>\n            <div className=\"ResultRowSmall\">\n              <span className=\"column\">{game.homeSot}</span>\n              <span className=\"column\">SOT</span>\n              <span className=\"column\">{game.awaySot}</span>\n            </div>\n            <div className=\"ResultRowSmall\">\n              <span className=\"column\">{game.homeDangerousAttacks}</span>\n              <span className=\"column\">Dangerous Attacks</span>\n              <span className=\"column\">{game.awayDangerousAttacks}</span>\n            </div>\n            <div className=\"ResultRowSmall\">\n              <span className=\"column\">{game.homePossession}%</span>\n              <span className=\"column\">Possession</span>\n              <span className=\"column\">{game.awayPossession}%</span>\n            </div>\n            <div className=\"ResultRowSmall\">\n              <span className=\"column\">{game.homeRed}</span>\n              <span className=\"column\">Red cards</span>\n              <span className=\"column\">{game.awayRed}</span>\n            </div>\n            <div className=\"ResultRowSmall\">\n              <span className=\"column\">{game.homePPG}</span>\n              <span className=\"column\">PPG (pre-match)</span>\n              <span className=\"column\">{game.awayPPG}</span>\n            </div>\n          </div>\n        );\n      }\n\n      function singleSimilarResult(game) {\n        return (\n          <div>\n            <div className=\"ResultRowSmallDate\">\n              <span>{game.date}</span>\n            </div>\n            {/* <div className=\"ResultRowSmall\">\n              <span className=\"column\">{game.XG}</span>\n              <span className=\"column\">XG</span>\n              <span className=\"column\">{game.XGAgainst}</span>\n            </div>\n            <div className=\"ResultRowSmall\">\n              <span className=\"column\">{game.sot}</span>\n              <span className=\"column\">SOT</span>\n              <span className=\"column\">{game.sotAgainst}</span>\n            </div>\n            <div className=\"ResultRowSmall\">\n              <span className=\"column\">{game.possession}%</span>\n              <span className=\"column\">Possession</span>\n              <span className=\"column\">{100 - game.possession}%</span>\n            </div> */}\n          </div>\n        );\n      }\n\n      const overviewHome = gameArrayHome.slice(0, 10).map((game) => (\n        <div>\n          <Collapsable\n            classNameButton=\"ResultButton\"\n            buttonText={\n              <div className=\"ResultRowOverviewSmall\">\n                <div className=\"columnOverviewHomeSmall\">{game.homeTeam}</div>\n                <span className=\"columnOverviewScoreSmall\">\n                  {game.homeGoals} : {game.awayGoals}\n                </span>\n                <div className=\"columnOverviewAwaySmall\">{game.awayTeam}</div>\n              </div>\n            }\n            element={singleResult(game)}\n          />\n        </div>\n      ));\n\n      const overviewAway = gameArrayAway.slice(0, 10).map((game) => (\n        <div>\n          <Collapsable\n            classNameButton=\"ResultButton\"\n            buttonText={\n              <div className=\"ResultRowOverviewSmall\">\n                <div className=\"columnOverviewHomeSmall\">{game.homeTeam}</div>\n                <span className=\"columnOverviewScoreSmall\">\n                  {game.homeGoals} : {game.awayGoals}\n                </span>\n                <div className=\"columnOverviewAwaySmall\">{game.awayTeam}</div>\n              </div>\n            }\n            element={singleResult(game)}\n          />\n        </div>\n      ));\n\n      let similarGamesHome;\n\n      if (game.simlarGameResultsHome) {\n        similarGamesHome = game.simlarGameResultsHome.reverse().map((game) => (\n          <div>\n            <Collapsable\n              classNameButton=\"ResultButton\"\n              buttonText={\n                <div className={`ResultRowOverviewSmall${game.result}`}>\n                  <div className=\"columnOverviewHomeSmall\">{game.homeTeam}</div>\n                  <span className=\"columnOverviewScoreSmall\">\n                    {game.homeGoals} : {game.awayGoals}\n                  </span>\n                  <div className=\"columnOverviewAwaySmall\">{game.awayTeam}</div>\n                </div>\n              }\n              element={singleSimilarResult(game)}\n            />\n          </div>\n        ));\n      } else {\n        similarGamesHome = (\n          <h4 className=\"NoGames\">No previous games fit this profile</h4>\n        );\n      }\n\n      let similarGamesAway;\n      if (game.simlarGameResultsAway) {\n        similarGamesAway = game.simlarGameResultsAway.reverse().map((game) => (\n          <div>\n            <Collapsable\n              classNameButton=\"ResultButton\"\n              buttonText={\n                <div className={`ResultRowOverviewSmall${game.result}`}>\n                  <div className=\"columnOverviewHomeSmall\">{game.homeTeam}</div>\n                  <span className=\"columnOverviewScoreSmall\">\n                    {game.homeGoals} : {game.awayGoals}\n                  </span>\n                  <div className=\"columnOverviewAwaySmall\">{game.awayTeam}</div>\n                </div>\n              }\n              element={singleSimilarResult(game)}\n            />\n          </div>\n        ));\n      } else {\n        similarGamesAway = <h4>No previous games fit this profile</h4>;\n      }\n\n      function StatsHome() {\n        return (\n          <div className=\"flex-childOne\">\n            <ul style={style}>\n              <Stats\n                style={style}\n                homeOrAway=\"Home\"\n                gameCount={divider}\n                key={formDataHome[0].name}\n                last5={formDataHome[0].Last5}\n                homeOrAwayResults={gameArrayHomeTeamHomeGames}\n                LeagueOrAll={formDataHome[0].LeagueOrAll}\n                className={\"KeyStatsHome\"}\n                name={formDataHome[0].name}\n                goals={homeForm.avgScored}\n                conceeded={homeForm.avgConceeded}\n                XG={homeForm.XGOverall.toFixed(2)}\n                XGConceded={homeForm.XGAgainstAvgOverall.toFixed(2)}\n                XGSwing={homeForm.XGChangeRecently}\n                possession={homeForm.AveragePossessionOverall.toFixed(2)}\n                sot={homeForm.AverageShotsOnTargetOverall.toFixed(2)}\n                dangerousAttacks={\n                  homeForm.AverageDangerousAttacksOverall !== 0\n                    ? homeForm.AverageDangerousAttacksOverall.toFixed(2)\n                    : homeForm.AverageDangerousAttacks\n                }\n                leaguePosition={\n                  formDataHome[0].leaguePosition !== undefined &&\n                  formDataHome[0].leaguePosition !== \"undefined\"\n                    ? formDataHome[0].leaguePosition\n                    : 0\n                }\n                rawPosition={\n                  game.homeRawPosition !== undefined &&\n                  game.homeRawPosition !== \"undefined\"\n                    ? game.homeRawPosition\n                    : 0\n                }\n                homeOrAwayLeaguePosition={\n                  game.homeTeamHomePosition !== undefined &&\n                  game.homeTeamHomePosition !== \"undefined\"\n                    ? game.homeTeamHomePosition\n                    : 0\n                }\n                winPercentage={homeForm.homePPGAv ? homeForm.homePPGAv : \"N/A\"}\n                lossPercentage={\n                  game.homeTeamLossPercentage\n                    ? game.homeTeamLossPercentage\n                    : \"N/A\"\n                }\n                drawPercentage={\n                  game.homeTeamDrawPercentage\n                    ? game.homeTeamDrawPercentage\n                    : \"N/A\"\n                }\n                ppg={formDataHome[0].SeasonPPG}\n                formTrend={[\n                  homeTenGameAverage.toFixed(2),\n                  homeSixGameAverage.toFixed(2),\n                  homeFiveGameAverage.toFixed(2),\n                ]}\n                formRun={homeForm.resultsAll.reverse()}\n                goalDifference={formDataHome[0].goalDifference}\n                goalDifferenceHomeOrAway={\n                  formDataHome[0].goalDifferenceHomeOrAway\n                }\n                BttsPercentage={formDataHome[0].BttsPercentage}\n                BttsPercentageHomeOrAway={\n                  formDataHome[0].BttsPercentageHomeOrAway\n                }\n                BTTSArray={formDataHome[0].BTTSArray}\n                Results={formDataHome[0].Results}\n                ResultsHorA={formDataHome[0].ResultsHorA}\n                CardsTotal={formDataHome[0].CardsTotal}\n                CornersAverage={homeForm.AverageCorners}\n                ScoredBothHalvesPercentage={\n                  formDataHome[0].ScoredBothHalvesPercentage\n                }\n                FormTextString={formDataHome[0].FormTextStringHome}\n                FavouriteRecord={formDataHome[0].FavouriteRecord}\n                StyleOfPlay={formDataHome[0].styleOfPlayOverall}\n                StyleOfPlayHomeOrAway={formDataHome[0].styleOfPlayHome}\n              />\n            </ul>\n          </div>\n        );\n      }\n\n      function StatsAway() {\n        return (\n          <div className=\"flex-childTwo\">\n            <ul style={style}>\n              <Stats\n                style={style}\n                homeOrAway=\"Away\"\n                gameCount={divider}\n                key={formDataAway[0].name}\n                last5={formDataAway[0].Last5}\n                homeOrAwayResults={gameArrayAwayTeamAwayGames}\n                LeagueOrAll={formDataAway[0].LeagueOrAll}\n                className={\"KeyStatsAway\"}\n                classNameTwo={\"FormStatsAway\"}\n                name={formDataAway[0].name}\n                goals={awayForm.avgScored}\n                conceeded={awayForm.avgConceeded}\n                XG={awayForm.XGOverall.toFixed(2)}\n                XGConceded={awayForm.XGAgainstAvgOverall.toFixed(2)}\n                XGSwing={awayForm.XGChangeRecently}\n                //todo add goal diff and btts percentages\n                possession={awayForm.AveragePossessionOverall.toFixed(2)}\n                rawPosition={game.awayRawPosition ? game.awayRawPosition : 0}\n                sot={awayForm.AverageShotsOnTargetOverall.toFixed(2)}\n                dangerousAttacks={\n                  awayForm.AverageDangerousAttacksOverall !== 0\n                    ? awayForm.AverageDangerousAttacksOverall.toFixed(2)\n                    : awayForm.AverageDangerousAttacks\n                }\n                leaguePosition={\n                  formDataAway[0].leaguePosition !== undefined &&\n                  formDataAway[0].leaguePosition !== \"undefined\"\n                    ? formDataAway[0].leaguePosition\n                    : 0\n                }\n                homeOrAwayLeaguePosition={\n                  game.awayTeamAwayPosition !== undefined &&\n                  game.awayTeamAwayPosition !== \"undefinedundefined\"\n                    ? game.awayTeamAwayPosition\n                    : 0\n                }\n                winPercentage={awayForm.awayPPGAv ? awayForm.awayPPGAv : \"N/A\"}\n                lossPercentage={\n                  game.awayTeamLossPercentage\n                    ? game.awayTeamLossPercentage\n                    : \"N/A\"\n                }\n                drawPercentage={\n                  game.awayTeamDrawPercentage\n                    ? game.awayTeamDrawPercentage\n                    : \"N/A\"\n                }\n                ppg={formDataAway[0].SeasonPPG}\n                formTrend={[\n                  awayTenGameAverage.toFixed(2),\n                  awaySixGameAverage.toFixed(2),\n                  awayFiveGameAverage.toFixed(2),\n                ]}\n                formRun={awayForm.resultsAll.reverse()}\n                goalDifference={formDataAway[0].goalDifference}\n                goalDifferenceHomeOrAway={\n                  formDataAway[0].goalDifferenceHomeOrAway\n                }\n                BttsPercentage={formDataAway[0].BttsPercentage}\n                BttsPercentageHomeOrAway={\n                  formDataAway[0].BttsPercentageHomeOrAway\n                }\n                BTTSArray={formDataAway[0].BTTSArray}\n                Results={formDataAway[0].Results}\n                ResultsHorA={formDataAway[0].ResultsHorA}\n                CardsTotal={formDataAway[0].CardsTotal}\n                CornersAverage={awayForm.AverageCorners}\n                ScoredBothHalvesPercentage={\n                  formDataAway[0].ScoredBothHalvesPercentage\n                }\n                FormTextString={formDataAway[0].FormTextStringAway}\n                FavouriteRecord={formDataAway[0].FavouriteRecord}\n                StyleOfPlay={formDataAway[0].styleOfPlayOverall}\n                StyleOfPlayHomeOrAway={formDataAway[0].styleOfPlayAway}\n              />\n            </ul>\n          </div>\n        );\n      }\n\n      let id, team1, team2, timestamp, homeGoals, awayGoals;\n\n      async function getGameIdByHomeTeam(games, homeTeamName) {\n        const matchingGames = games.filter((game) =>\n          game.homeTeam.includes(homeTeamName)\n        );\n        if (matchingGames.length > 0) {\n          return matchingGames[0];\n        } else {\n          return null; // or any other value you prefer to return if no match is found\n        }\n      }\n\n      const matchingGame = await getGameIdByHomeTeam(\n        arrayOfGames,\n        game.homeTeam\n      );\n\n      if (matchingGame) {\n        id = matchingGame.id.toString();\n        team1 = matchingGame.homeTeam;\n        team2 = matchingGame.awayTeam;\n        timestamp = matchingGame.time;\n        homeGoals = matchingGame.homeGoals;\n        awayGoals = matchingGame.awayGoals;\n      } else {\n        id = \"0\";\n        team1 = \"N/A\";\n        team2 = \"N/A\";\n        timestamp = 1;\n        homeGoals = \"-\";\n        awayGoals = \"-\";\n      }\n\n      if (homeForm.completeData === true && game.completeData === true) {\n        ReactDOM.render(\n          <>\n            <div style={style}>\n              <Collapsable\n                buttonText={\"Lineups & match action\"}\n                classNameButton=\"Lineups\"\n                element={\n                  <>\n                    <SofaLineupsWidget\n                      id={id}\n                      team1={team1}\n                      team2={team2}\n                      time={timestamp}\n                      homeGoals={homeGoals}\n                      awayGoals={awayGoals}\n                    ></SofaLineupsWidget>\n                  </>\n                }\n              />\n              <div style={style}>\n                <Div className=\"MatchTime\" text={`Kick off: ${time} GMT`}></Div>\n              </div>\n              <div id=\"AIInsightsContainer\" className=\"AIInsightsContainer\">\n              {!paid ? (\n                <div>Paid feature</div>\n              ) : (\n                <div></div>\n              )}\n                <Button\n                  className=\"AIInsights\"\n                  onClickEvent={() => generateAIInsights(game.id, homeForm, awayForm)}\n                  text={\"Generate AI Insights\"}\n                  disabled={!paid}\n                ></Button>\n              </div>\n              <div className=\"flex-container\">\n                <StatsHome />\n                <StatsAway />\n              </div>\n              <div className=\"Chart\" id={`Chart${game.id}`} style={style}>\n                <RadarChart\n                  title=\"XG Tipping Strength Ratings - All Games\"\n                  data={[\n                    homeAttackStrength,\n                    homeDefenceStrength,\n                    homePossessionStrength,\n                    homeXGForStrength,\n                    homeXGAgainstStrength,\n                    homeDirectnessStrength,\n                    homeAccuracyOverallStrength,\n                  ]}\n                  data2={[\n                    awayAttackStrength,\n                    awayDefenceStrength,\n                    awayPossessionStrength,\n                    awayXGForStrength,\n                    awayXGAgainstStrength,\n                    awayDirectnessStrength,\n                    awayAccuracyOverallStrength,\n                  ]}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                ></RadarChart>\n                <RadarChart\n                  title=\"XG Tipping Strength Ratings - Last 5 games\"\n                  data={[\n                    homeAttackStrengthLast5,\n                    homeDefenceStrengthLast5,\n                    homePossessionStrengthLast5,\n                    homeXGForStrengthLast5,\n                    homeXGAgainstStrengthLast5,\n                    homeDirectnessStrengthLast5,\n                    homeAccuracyOverallStrengthLast5,\n                  ]}\n                  data2={[\n                    awayAttackStrengthLast5,\n                    awayDefenceStrengthLast5,\n                    awayPossessionStrengthLast5,\n                    awayXGForStrengthLast5,\n                    awayXGAgainstStrengthLast5,\n                    awayDirectnessStrengthLast5,\n                    awayAccuracyOverallStrengthLast5,\n                  ]}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                ></RadarChart>\n                <RadarChart\n                  title=\"XG Tipping Strength Ratings - Home/Away Games Only\"\n                  data={[\n                    homeOnlyAttackStrength,\n                    homeOnlyDefenceStrength,\n                    homeOnlyPossessionStrength,\n                    homeOnlyXGForStrength,\n                    homeOnlyXGAgainstStrength,\n                    homeOnlyDirectnessStrength,\n                    homeOnlyAccuracyOverallStrength,\n                  ]}\n                  data2={[\n                    awayOnlyAttackStrength,\n                    awayOnlyDefenceStrength,\n                    awayOnlyPossessionStrength,\n                    awayOnlyXGForStrength,\n                    awayOnlyXGAgainstStrength,\n                    awayOnlyDirectnessStrength,\n                    awayOnlyAccuracyOverallStrength,\n                  ]}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                ></RadarChart>\n                <DoughnutChart\n                  data={[homeForm.XGRating, awayForm.XGRating]}\n                  homeTeam={game.homeTeam}\n                  awayTeam={game.awayTeam}\n                ></DoughnutChart>\n                <BarChartTwo\n                  text=\"Recent XG Differential Swing\"\n                  homeTeam={homeForm.teamName}\n                  awayTeam={awayForm.teamName}\n                  data1={[homeForm.XGChangeRecently.toFixed(2)]}\n                  data2={[awayForm.XGChangeRecently.toFixed(2)]}\n                ></BarChartTwo>\n                <BarChart\n                  text=\"H2H - Home Team | Away Team\"\n                  data1={[\n                    homeForm.avgScored * 2,\n                    awayForm.avgConceeded * 2,\n                    homeForm.avPointsAll * 3,\n                    homeForm.XGOverall * 2,\n                    awayForm.XGAgainstAvgOverall * 2,\n                    homeForm.AverageShotsOnTargetOverall,\n                    homeForm.AverageDangerousAttacksOverall !== 0\n                      ? homeForm.AverageDangerousAttacksOverall / 7.5\n                      : homeForm.AverageDangerousAttacks / 7.5,\n                    homeForm.AveragePossessionOverall / 7.5,\n                    homeForm.goalDifferenceHomeOrAway / 10,\n                    homeForm.AverageCorners,\n                  ]}\n                  data2={[\n                    awayForm.avgScored * 2,\n                    homeForm.avgConceeded * 2,\n                    awayForm.avPointsAll * 3,\n                    awayForm.XGOverall * 2,\n                    homeForm.XGAgainstAvgOverall * 2,\n                    awayForm.AverageShotsOnTargetOverall,\n                    awayForm.AverageDangerousAttacksOverall !== 0\n                      ? awayForm.AverageDangerousAttacksOverall / 7.5\n                      : awayForm.AverageDangerousAttacks / 7.5,\n                    awayForm.AveragePossessionOverall / 7.5,\n                    awayForm.goalDifferenceHomeOrAway / 10,\n                    awayForm.AverageCorners,\n                  ]}\n                ></BarChart>\n                <Chart\n                  height={3}\n                  depth={0}\n                  data1={formArrayHome}\n                  data2={formArrayAway}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                  type={chartType}\n                  tension={0}\n                ></Chart>\n                <MultilineChart\n                  height={\n                    Math.max(\n                      rollingGoalDiffTotalHome[\n                        rollingGoalDiffTotalHome.length - 1\n                      ],\n                      rollingGoalDiffTotalAway[\n                        rollingGoalDiffTotalAway.length - 1\n                      ]\n                    ) > 2\n                      ? Math.max(\n                          rollingGoalDiffTotalHome[\n                            rollingGoalDiffTotalHome.length - 1\n                          ],\n                          rollingGoalDiffTotalAway[\n                            rollingGoalDiffTotalAway.length - 1\n                          ]\n                        )\n                      : 2\n                  }\n                  depth={\n                    Math.min(\n                      rollingGoalDiffTotalHome[\n                        rollingGoalDiffTotalHome.length - 1\n                      ],\n                      rollingGoalDiffTotalAway[\n                        rollingGoalDiffTotalAway.length - 1\n                      ]\n                    ) < -2\n                      ? Math.min(\n                          rollingGoalDiffTotalHome[\n                            rollingGoalDiffTotalHome.length - 1\n                          ],\n                          rollingGoalDiffTotalAway[\n                            rollingGoalDiffTotalAway.length - 1\n                          ]\n                        )\n                      : -2\n                  }\n                  data1={rollingGoalDiffTotalHome}\n                  data2={rollingGoalDiffTotalAway}\n                  data3={rollingXGDiffTotalHome}\n                  data4={rollingXGDiffTotalAway}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                  type={\"Goal/XG difference over time\"}\n                  tension={0.5}\n                ></MultilineChart>\n              </div>\n              <Div\n                text={`Last league games (most recent first)`}\n                className={\"LastGameHeader\"}\n              ></Div>\n              <div className=\"flex-container\">\n                <div className=\"flex-childOneOverviewSmall\">{overviewHome}</div>\n                <div className=\"flex-childTwoOverviewSmall\">{overviewAway}</div>\n              </div>\n              <h2>Results from similar profile games</h2>\n              <span>(Games where each team had similar odds)</span>\n              <h3>Most recent first</h3>\n              <div className=\"flex-container-similar\">\n                <div className=\"flex-childOneOverviewSmall\">\n                  {similarGamesHome}\n                </div>\n                <div className=\"flex-childTwoOverviewSmall\">\n                  {similarGamesAway}\n                </div>\n              </div>\n              <input type=\"hidden\" name=\"IL_IN_ARTICLE\" />\n              <Button\n                className=\"MoreStats\"\n                onClickEvent={() =>\n                  getTeamStats(\n                    game.id,\n                    game.homeTeam,\n                    game.awayTeam,\n                    formDataHome[0].BttsPercentage,\n                    formDataHome[0].BttsPercentageHomeOrAway,\n                    formDataAway[0].BttsPercentage,\n                    formDataAway[0].BttsPercentageHomeOrAway\n                  )\n                }\n                text={\"Fixture trends + AI Preview\"}\n              ></Button>\n            </div>\n          </>,\n          document.getElementById(\"stats\" + homeTeam)\n        );\n      } else if (\n        homeForm.completeData === false ||\n        game.completeData === false\n      ) {\n        ReactDOM.render(\n          <>\n            <div style={style}>\n              <Collapsable\n                buttonText={\"Lineups & match action\"}\n                classNameButton=\"Lineups\"\n                element={\n                  <>\n                    <SofaLineupsWidget\n                      id={id}\n                      team1={team1}\n                      team2={team2}\n                      time={timestamp}\n                      homeGoals={homeGoals}\n                      awayGoals={awayGoals}\n                    ></SofaLineupsWidget>\n                  </>\n                }\n              />\n              <div className=\"Chart\" id={`Chart${game.id}`} style={style}>\n                <RadarChart\n                  title=\"XG Tipping Strength Ratings - All Games\"\n                  data={[\n                    homeAttackStrength,\n                    homeDefenceStrength,\n                    homePossessionStrength,\n                    homeXGForStrength,\n                    homeXGAgainstStrength,\n                    homeDirectnessStrength,\n                    homeAccuracyOverallStrength,\n                  ]}\n                  data2={[\n                    awayAttackStrength,\n                    awayDefenceStrength,\n                    awayPossessionStrength,\n                    awayXGForStrength,\n                    awayXGAgainstStrength,\n                    awayDirectnessStrength,\n                    awayAccuracyOverallStrength,\n                  ]}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                ></RadarChart>\n              </div>\n              <div style={style}>\n                <Div className=\"MatchTime\" text={`Kick off: ${time} GMT`}></Div>\n                {/* <Div\n                  text={`Last league games (most recent first)`}\n                  className={\"LastGameHeader\"}\n                ></Div> */}\n              </div>\n              {/* <div className=\"flex-container\">\n                <div className=\"flex-childOneOverviewSmall\">{overviewHome}</div>\n                <div className=\"flex-childTwoOverviewSmall\">{overviewAway}</div>\n              </div>\n              <div className=\"flex-container\">\n                <StatsHome />\n                <StatsAway />\n              </div> */}\n              <h2>Results from similar profile games</h2>\n              <span>(Games where each team had similar odds)</span>\n              <h3>Most recent first</h3>\n              <div className=\"flex-container-similar\">\n                <div className=\"flex-childOneOverviewSmall\">\n                  {similarGamesHome}\n                </div>\n                <div className=\"flex-childTwoOverviewSmall\">\n                  {similarGamesAway}\n                </div>\n              </div>\n              <input type=\"hidden\" name=\"IL_IN_ARTICLE\" />\n              <Button\n                className=\"MoreStats\"\n                onClickEvent={() =>\n                  getTeamStats(\n                    game.id,\n                    game.homeTeam,\n                    game.awayTeam,\n                    formDataHome[0].BttsPercentage,\n                    formDataHome[0].BttsPercentageHomeOrAway,\n                    formDataAway[0].BttsPercentage,\n                    formDataAway[0].BttsPercentageHomeOrAway\n                  )\n                }\n                text={\"Fixture trends + AI Preview\"}\n              ></Button>\n            </div>\n          </>,\n          document.getElementById(\"stats\" + homeTeam)\n        );\n      } else {\n        ReactDOM.render(\n          <>\n            <div style={style}>\n              <Collapsable\n                buttonText={\"Lineups & match action\"}\n                classNameButton=\"Lineups\"\n                element={\n                  <>\n                    <SofaLineupsWidget\n                      id={id}\n                      team1={team1}\n                      team2={team2}\n                      time={timestamp}\n                      homeGoals={homeGoals}\n                      awayGoals={awayGoals}\n                    ></SofaLineupsWidget>\n                  </>\n                }\n              />\n              <div style={style}>\n                <Div className=\"MatchTime\" text={`Kick off: ${time} GMT`}></Div>\n              </div>\n              <div className=\"flex-container\">\n                <StatsHome />\n                <StatsAway />\n              </div>\n              <Div\n                text={`AI Preview, last league games & h2h records (paid feature only)`}\n                className={\"LastGameHeader\"}\n              ></Div>\n            </div>\n          </>,\n          document.getElementById(\"stats\" + homeTeam)\n        );\n      }\n    }\n\n    // ReactDOM.render(\n    //   <Button\n    //     className=\"MoreStats\"\n    //     style={style}\n    //     onClickEvent={() =>\n    //       getTeamStats(\n    //         game.id,\n    //         game.homeTeam,\n    //         game.awayTeam,\n    //         formDataHome[0].BttsPercentage,\n    //         formDataHome[0].BttsPercentageHomeOrAway,\n    //         formDataAway[0].BttsPercentage,\n    //         formDataAway[0].BttsPercentageHomeOrAway\n    //       )\n    //     }\n    //     text={\"Fixture trends\"}\n    //   ></Button>,\n    //   document.getElementById(`H2HStats${game.id}`)\n    // );\n  }\n}\n","/Users/gregdorward/Development/football-predictions/src/components/Div.js",[],"/Users/gregdorward/Development/football-predictions/src/components/CollapsableDiv.js",[],["377","378"],"/Users/gregdorward/Development/football-predictions/src/components/Increment.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/getBTTSPotential.js",[],"/Users/gregdorward/Development/football-predictions/src/components/OddsRadio.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/getTeamStats.js",["379","380"],"import ReactDOM from \"react-dom\";\nimport HeadToHead from \"../components/HeadToHead\";\nimport { Fragment } from \"react\";\nimport CustomizedTables from \"../components/Table\";\nimport { userDetail } from \"./authProvider\";\n\n\nexport async function getTeamStats(\n  id,\n  home,\n  away,\n  homeBTTS,\n  homeOnlyBTTS,\n  awayBTTS,\n  awayOnlyBTTS\n) {\n  let identifier = id;\n  let bestHomeOdds;\n  let bestHomeOddsProvider;\n  let bestAwayOdds;\n  let bestAwayOddsProvider;\n\n  let match = await fetch(\n    `${process.env.REACT_APP_EXPRESS_SERVER}match/${identifier}`\n  );\n  await match.json().then(async (match) => {\n    const matchArr = match.data.h2h.previous_matches_ids;\n    const reducedMatchArr = matchArr.slice(0, 10);\n\n    let oddsComparisonHomeArray = [];\n    let oddsComparisonAwayArray = [];\n\n    if (match.data.odds_comparison) {\n      oddsComparisonHomeArray = match.data.odds_comparison[\"FT Result\"][1];\n      oddsComparisonAwayArray = match.data.odds_comparison[\"FT Result\"][2];\n\n      let sortedHomeOdds = Object.entries(oddsComparisonHomeArray).sort(\n        (a, b) => b[1] - a[1]\n      );\n      let sortedAwayOdds = Object.entries(oddsComparisonAwayArray).sort(\n        (a, b) => b[1] - a[1]\n      );\n\n      bestHomeOddsProvider = sortedHomeOdds[0][0];\n      bestHomeOdds = sortedHomeOdds[0][1];\n      bestAwayOddsProvider = sortedAwayOdds[0][0];\n      bestAwayOdds = sortedAwayOdds[0][1];\n    } else {\n      bestHomeOddsProvider = \"N/A\";\n      bestHomeOdds = \"N/A\";\n      bestAwayOddsProvider = \"N/A\";\n      bestAwayOdds = \"N/A\";\n    }\n\n    async function getBTTSPercentage(\n      homeToal,\n      home,\n      awayTotal,\n      away,\n      fixtureHistory\n    ) {\n      let total = homeToal + home + awayTotal + away + fixtureHistory;\n      return total / 5;\n    }\n\n    async function getFairOdds(impliedProbability) {\n      let impliedProbabilityDivided = impliedProbability / 100;\n      return (1 / impliedProbabilityDivided).toFixed(2);\n    }\n\n    if (match.data.h2h.previous_matches_results.totalMatches > 0) {\n      let homeTeam = match.data.home_name;\n      let awayTeam = match.data.away_name;\n\n      let teamMappings = {\n        [homeTeam]: match.data.homeID,\n        [awayTeam]: match.data.awayID,\n      };\n\n      reducedMatchArr.sort((a, b) => b.date_unix - a.date_unix);\n\n      let date;\n      // await previousMatch.json().then(async (game) => {\n      //   previousMatchDetails = game.data;\n      //   const unixTimestamp = previousMatchDetails.date_unix;\n      //   const milliseconds = unixTimestamp * 1000;\n      //   dateObject = new Date(milliseconds);\n      //   date = `${dateObject.getDate()}/${\n      //     dateObject.getMonth() + 1\n      //   }/${dateObject.getFullYear()}`;\n\n      //   let secondToPreviousMatch;\n      //   let dateObject2;\n\n      //   // if (secondMatchExists !== false) {\n      //   //   secondToPreviousMatch = await fetch(\n      //   //     `${process.env.REACT_APP_EXPRESS_SERVER}match/${secondToLastMatch}`\n      //   //   );\n      //   //   await secondToPreviousMatch.json().then((game) => {\n      //   //     secondToPreviousMatchDetails = game.data;\n      //   //     const unixTimestamp = secondToPreviousMatchDetails.date_unix;\n      //   //     const milliseconds = unixTimestamp * 1000;\n      //   //     dateObject2 = new Date(milliseconds);\n      //   //     date2 = `${dateObject2.getDate()}/${\n      //   //       dateObject2.getMonth() + 1\n      //   //     }/${dateObject2.getFullYear()}`;\n      //   //   });\n      //   // }\n      // });\n\n      const BTTSForecast = await getBTTSPercentage(\n        homeBTTS,\n        homeOnlyBTTS,\n        awayBTTS,\n        awayOnlyBTTS,\n        match.data.h2h.betting_stats.bttsPercentage\n      );\n      const fairOddsBTTSYes = await getFairOdds(BTTSForecast);\n      const fairOddsBTTSNo = await getFairOdds(100 - BTTSForecast);\n      console.log(match.data);\n      function stripLinks(htmlString) {\n        return htmlString.replace(/<a\\b[^>]*>(.*?)<\\/a>/gi, \"$1\");\n      }\n\n      function MatchPreview({ content }) {\n        return (\n          <div\n            className=\"AIOverview\"\n            dangerouslySetInnerHTML={{ __html: content }}\n          />\n        );\n      }\n\n      let paid\n      if (userDetail){\n        paid = userDetail.isPaid\n      } else {\n        paid = false;\n      }\n\n\n      ReactDOM.render(\n        <Fragment>\n          <h2>AI Preview</h2>\n          {paid ? (\n            <MatchPreview content={match.data.gpt_en} />\n          ) : (\n            // Move ':' to be inside the same parenthesis as '?'\n            <div>AI Previews are a paid feature</div>\n          )}\n          <span className=\"AIDisclaimer\">\n            Any predictions made by the AI do not reflect the opinion of\n            XGTipping\n          </span>\n          <HeadToHead\n            className={\"PreviousMatchStats\"}\n            homeTeam={home}\n            awayTeam={away}\n            reducedArr={reducedMatchArr}\n            teamObject={teamMappings}\n            stadium={match.data.stadium_name}\n            matches={match.data.h2h.previous_matches_results.totalMatches}\n            homeWins={match.data.h2h.previous_matches_results.team_a_wins}\n            awayWins={match.data.h2h.previous_matches_results.team_b_wins}\n            draws={match.data.h2h.previous_matches_results.draw}\n            averageGoals={match.data.h2h.betting_stats.avg_goals}\n            bestHomeOdds={`${bestHomeOddsProvider} - ${bestHomeOdds}`}\n            bestAwayOdds={`${bestAwayOddsProvider} - ${bestAwayOdds}`}\n          ></HeadToHead>\n          <CustomizedTables\n            o05Stat={match.data.h2h.betting_stats.over05Percentage}\n            o15Stat={match.data.h2h.betting_stats.over15Percentage}\n            o15Forecast={match.data.o15_potential}\n            o05Odds={match.data.odds_ft_over05}\n            u05Odds={match.data.odds_ft_under05}\n            o15Odds={match.data.odds_ft_over15}\n            u15Odds={match.data.odds_ft_under15}\n            o25Stat={match.data.h2h.betting_stats.over25Percentage}\n            o25Forecast={match.data.o25_potential}\n            o25Odds={match.data.odds_ft_over25}\n            u25Odds={match.data.odds_ft_under25}\n            o35Stat={match.data.h2h.betting_stats.over35Percentage}\n            o35Forecast={match.data.o35_potential}\n            o35Odds={match.data.odds_ft_over35}\n            u35Odds={match.data.odds_ft_under35}\n            BTTSStat={match.data.h2h.betting_stats.bttsPercentage}\n            BTTSForecast={`${BTTSForecast}%`}\n            BTTSOdds={`${match.data.odds_btts_yes}\\n Fair odds: ${fairOddsBTTSYes}`}\n            BTTSOddsNo={`${match.data.odds_btts_no}\\n Fair odds: ${fairOddsBTTSNo}`}\n            CornersStat={\"–\"}\n            CornersForecast={match.data.corners_potential}\n            CornersOdds={match.data.odds_corners_over_105}\n          />\n        </Fragment>,\n        document.getElementById(`H2HStats${identifier}`)\n      );\n    } else {\n      ReactDOM.render(\n        <div>No fixture history found</div>,\n        document.getElementById(`H2HStats${identifier}`)\n      );\n    }\n  });\n}\n","/Users/gregdorward/Development/football-predictions/src/components/HeadToHead.js",[],"/Users/gregdorward/Development/football-predictions/src/components/BulletList.js",[],["381","382"],"/Users/gregdorward/Development/football-predictions/src/components/Table.js",[],"/Users/gregdorward/Development/football-predictions/src/components/LeagueTable.js",["383"],"import React, { useState } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Collapsable from \"../components/CollapsableElement\";\nimport TeamOfTheWeek from \"../components/TeamOfTheWeek\";\nimport TeamOfTheSeason from \"../components/TeamOfTheSeason\";\n\nexport var toggleState = false;\nexport var setIsOff = false;\n\nconst upArrow = \"\\u{25B2}\";\n\nconst StyledTableCell2 = withStyles((theme) => ({\n  head: {\n    backgroundColor: \"rgba(226, 226, 226, 1)\",\n    color: \"white\",\n    padding: \"0.35em\",\n    paddingTop: \"0.75em\",\n    paddingBottom: \"0.75em\",\n    textAlign: \"left\",\n    fontSize: \"1.9em\",\n    fontFamily: \"inherit\",\n    // border: \"none\",\n    margin: \"none\",\n  },\n  body: {\n    fontSize: \"1.9em\",\n    textAlign: \"left\",\n    fontFamily: \"inherit\",\n    padding: \"0.5em\",\n    paddingTop: \"0.75em\",\n    paddingBottom: \"0.75em\",\n    // border: \"none\",\n    margin: \"none\",\n    color: \"#030061\",\n  },\n}))(TableCell);\n\nconst StyledTableCell = withStyles((theme) => ({\n  head: {\n    backgroundColor: \"white\",\n    color: \"#030061\",\n    padding: \"0.5em\",\n    paddingTop: \"1em\",\n    paddingBottom: \"1em\",\n    textAlign: \"center\",\n    fontSize: \"1.9em\",\n    fontFamily: \"inherit\",\n    // border: \"none\",\n    margin: \"none\",\n  },\n  body: {\n    // backgroundColor: \"#030061\",\n    fontSize: \"1.9em\",\n    textAlign: \"center\",\n    fontFamily: \"inherit\",\n    padding: \"0.35em\",\n    paddingTop: \"1em\",\n    paddingBottom: \"1em\",\n    // border: \"none\",\n    margin: \"none\",\n    color: \"#030061\",\n  },\n}))(TableCell);\n\nconst StyledTableRow = withStyles((theme) => ({\n  root: {\n    \"&:nth-of-type(odd)\": {\n      backgroundColor: \"#rgba(226, 226, 226, 0.424)\",\n      textAlign: \"center\",\n    },\n    \"&:nth-of-type(even)\": {\n      backgroundColor: \"#rgba(226, 226, 226, 1)\",\n      textAlign: \"center\",\n    },\n  },\n}))(TableRow);\n\nfunction styleForm(formIndicator) {\n  let className;\n  if (formIndicator === \"W\") {\n    className = \"winLeague\";\n  } else if (formIndicator === \"D\") {\n    className = \"drawLeague\";\n  } else if (formIndicator === \"L\") {\n    className = \"lossLeague\";\n  }\n  return className;\n}\n\nexport default function LeagueTable(props) {\n  [toggleState, setIsOff] = useState(false);\n\n  let rows = props.Teams.map((team, i) => (\n    <StyledTableRow key={`${props.Key}row${i}`}>\n      <StyledTableCell component=\"th\" scope=\"row\">\n        {`${i + 1}`}\n      </StyledTableCell>\n      <StyledTableCell2 component=\"th\" scope=\"row\" style={{ width: \"15em\" }}>\n        {`${team.Name}`}\n      </StyledTableCell2>\n      <StyledTableCell component=\"th\" scope=\"row\">\n        {`${team.Played}`}\n      </StyledTableCell>\n      <StyledTableCell component=\"th\" scope=\"row\">\n        {`${team.Wins}`}\n      </StyledTableCell>\n      <StyledTableCell component=\"th\" scope=\"row\">\n        {`${team.Draws}`}\n      </StyledTableCell>\n      <StyledTableCell component=\"th\" scope=\"row\">\n        {`${team.Losses}`}\n      </StyledTableCell>\n      <StyledTableCell component=\"th\" scope=\"row\">\n        {`${team.For}`}\n      </StyledTableCell>\n      <StyledTableCell component=\"th\" scope=\"row\">\n        {`${team.Against}`}\n      </StyledTableCell>\n      <StyledTableCell component=\"th\" scope=\"row\">\n        {`${team.GoalDifference}`}\n      </StyledTableCell>\n      <StyledTableCell component=\"th\" scope=\"row\">\n        {`${team.Points}`}\n      </StyledTableCell>\n      <StyledTableCell\n        component=\"th\"\n        scope=\"row\"\n        style={{ textAlign: \"center\" }}\n      >\n        <span className={styleForm(team.Form[0])}>\n          {team.Form[0] !== undefined ? team.Form[0] : \"\"}\n        </span>\n        <span className={styleForm(team.Form[1])}>\n          {team.Form[1] !== undefined ? team.Form[1] : \"\"}\n        </span>\n        <span className={styleForm(team.Form[2])}>\n          {team.Form[2] !== undefined ? team.Form[2] : \"\"}\n        </span>\n        <span className={styleForm(team.Form[3])}>\n          {team.Form[3] !== undefined ? team.Form[3] : \"\"}\n        </span>\n        <span className={styleForm(team.Form[4])}>\n          {team.Form[4] !== undefined ? team.Form[4] : \"\"}\n        </span>\n      </StyledTableCell>\n    </StyledTableRow>\n  ));\n\n  const leagueResults = [];\n  let singleResult;\n  if (props.Results) {\n    props.Results.forEach((result) => {\n      singleResult = (\n        <div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.team_a_xg}</span>\n            <span className=\"column\">XG</span>\n            <span className=\"column\">{result.team_b_xg}</span>\n          </div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.team_a_shots}</span>\n            <span className=\"column\">Shots</span>\n            <span className=\"column\">{result.team_b_shots}</span>\n          </div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.team_a_shotsOnTarget}</span>\n            <span className=\"column\">SOT</span>\n            <span className=\"column\">{result.team_b_shotsOnTarget}</span>\n          </div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.team_a_dangerous_attacks}</span>\n            <span className=\"column\">Dangerous Attacks</span>\n            <span className=\"column\">{result.team_b_dangerous_attacks}</span>\n          </div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.team_a_possession}%</span>\n            <span className=\"column\">Possession</span>\n            <span className=\"column\">{result.team_b_possession}%</span>\n          </div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.team_a_red_cards}</span>\n            <span className=\"column\">Red cards</span>\n            <span className=\"column\">{result.team_b_red_cards}</span>\n          </div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.odds_ft_1}</span>\n            <span className=\"column\">Odds (pre-match)</span>\n            <span className=\"column\">{result.odds_ft_2}</span>\n          </div>\n        </div>\n      );\n\n      leagueResults.push(\n        <Collapsable\n          classNameButton=\"ResultButton\"\n          buttonText={\n            <div className=\"ResultRowOverview\">\n              <div className=\"columnOverviewHome\">{result.home_name}</div>\n              <span className=\"columnOverviewScore\">\n                {result.homeGoalCount} : {result.awayGoalCount}\n              </span>\n              <div className=\"columnOverviewAway\">{result.away_name}</div>\n            </div>\n          }\n          element={singleResult}\n        />\n      );\n    });\n  }\n\n  const leagueResultsOlder = [];\n  if (props.LastWeeksResults) {\n    props.LastWeeksResults.forEach((result) => {\n      singleResult = (\n        <div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.team_a_xg}</span>\n            <span className=\"column\">XG</span>\n            <span className=\"column\">{result.team_b_xg}</span>\n          </div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.team_a_shots}</span>\n            <span className=\"column\">Shots</span>\n            <span className=\"column\">{result.team_b_shots}</span>\n          </div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.team_a_shotsOnTarget}</span>\n            <span className=\"column\">SOT</span>\n            <span className=\"column\">{result.team_b_shotsOnTarget}</span>\n          </div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.team_a_dangerous_attacks}</span>\n            <span className=\"column\">Dangerous Attacks</span>\n            <span className=\"column\">{result.team_b_dangerous_attacks}</span>\n          </div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.team_a_possession}</span>\n            <span className=\"column\">Possession</span>\n            <span className=\"column\">{result.team_b_possession}</span>\n          </div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.team_a_red_cards}</span>\n            <span className=\"column\">Red cards</span>\n            <span className=\"column\">{result.team_b_red_cards}</span>\n          </div>\n          <div className=\"ResultRow\">\n            <span className=\"column\">{result.odds_ft_1}</span>\n            <span className=\"column\">Odds (pre-match)</span>\n            <span className=\"column\">{result.odds_ft_2}</span>\n          </div>\n        </div>\n      );\n\n      leagueResultsOlder.push(\n        <Collapsable\n          classNameButton=\"ResultButton\"\n          buttonText={\n            <div className=\"ResultRowOverview\">\n              <div className=\"columnOverviewHome\">{result.home_name}</div>\n              <span className=\"columnOverviewScore\">\n                {result.homeGoalCount} : {result.awayGoalCount}\n              </span>\n              <div className=\"columnOverviewAway\">{result.away_name}</div>\n            </div>\n          }\n          element={singleResult}\n        />\n      );\n    });\n  }\n\n  function getTopScorersTeam(id) {\n    let found = props.Teams.find((team) => team.ID === id);\n    return found.Name;\n  }\n\n  async function sorted(league, value, order) {\n    console.log(league)\n    console.log(value)\n    console.log(order)\n\n    let sortedByForm;\n    if (order === \"desc\") {\n      sortedByForm = league.sort((a, b) => b[value] - a[value]);\n    } else {\n      sortedByForm = league.sort((a, b) => a[value] - b[value]);\n    }\n    setIsOff(!toggleState);\n    console.log(sortedByForm)\n    return sortedByForm;\n  }\n\n  if (\n    // props.GamesPlayed > 3 &&\n    props.Teams[0].LeagueID !== 13973 && //MLS\n    props.Teams[0].LeagueID !== 12933 && //UKNorth&South\n    props.Teams[0].LeagueID !== 12327 && //Europa\n    props.Teams[0].LeagueID !== 12321 //ChampionsLeague\n  ) {\n    for (let i = 0; i < props.Teams.length; i++) {\n      return (\n        <TableContainer component={Paper} className=\"StatsTable\">\n          <Table\n            className=\"Table\"\n            aria-label=\"customized table\"\n            key={props.Key}\n            style={{ marginTop: \"2em\", marginBottom: \"1em\" }}\n          >\n            <TableHead>\n              <TableRow>\n                <StyledTableCell></StyledTableCell>\n                <StyledTableCell></StyledTableCell>\n                <StyledTableCell>Pld</StyledTableCell>\n                <StyledTableCell>W</StyledTableCell>\n                <StyledTableCell>D</StyledTableCell>\n                <StyledTableCell>L</StyledTableCell>\n                <StyledTableCell>GF</StyledTableCell>\n                <StyledTableCell>GA</StyledTableCell>\n                <StyledTableCell>GD</StyledTableCell>\n                <td>\n                  <button\n                    className=\"SortedColumn\"\n                    style={{ textAlign: \"center\" }}\n                    onClick={() => sorted(props.Teams, \"Points\", \"desc\")}\n                  >\n                    Pts {upArrow}\n                  </button>\n                </td>\n                <td>\n                  <button\n                    className=\"SortedColumn\"\n                    style={{ textAlign: \"center\" }}\n                    onClick={() => sorted(props.Teams, \"LastXPoints\", \"desc\")}\n                  >\n                    Last 5 {upArrow}\n                  </button>\n                </td>\n              </TableRow>\n            </TableHead>\n            <TableBody>{rows}</TableBody>\n          </Table>\n          <h5>{`Results from last 2 weeks`}</h5>\n          <div className=\"ResultsList\" id=\"ResultsList\">\n            <ul>{leagueResults}</ul>\n          </div>\n          {props.Teams[0].LeagueID === 12325 && <TeamOfTheSeason />}{\" \"}\n          {/* Conditional render */}\n          <div className=\"LeagueStatisticsHeader\">League Statistics</div>\n          <div className=\"LeagueStatistics\">\n            <ul className=\"LeagueStatsColumn\">\n              <li>Average home goals: {props.Stats.seasonAVG_home}</li>\n              <li>Average away goals: {props.Stats.seasonAVG_away}</li>\n              <li>BTTS: {props.Stats.seasonBTTSPercentage}%</li>\n              <li>\n                Over 0.5 goals: {props.Stats.seasonOver05Percentage_overall}%\n              </li>\n              <li>\n                Over 1.5 goals: {props.Stats.seasonOver15Percentage_overall}%\n              </li>\n              <li>\n                Over 2.5 goals: {props.Stats.seasonOver25Percentage_overall}%\n              </li>\n              <li>\n                Over 3.5 goals: {props.Stats.seasonOver35Percentage_overall}%\n              </li>\n              <li>\n                Over 4.5 goals: {props.Stats.seasonOver45Percentage_overall}%\n              </li>\n            </ul>\n            <ul className=\"LeagueStatsColumn\">\n              <li>\n                Over 7.5 corners: {props.Stats.over75CornersPercentage_overall}%\n              </li>\n              <li>\n                Over 8.5 corners: {props.Stats.over85CornersPercentage_overall}%\n              </li>\n              <li>\n                Over 9.5 corners: {props.Stats.over95CornersPercentage_overall}%\n              </li>\n              <li>\n                Over 10.5 corners:{\" \"}\n                {props.Stats.over105CornersPercentage_overall}%\n              </li>\n              <li>\n                Over 11.5 corners:{\" \"}\n                {props.Stats.over115CornersPercentage_overall}%\n              </li>\n              <li>\n                Over 12.5 corners:{\" \"}\n                {props.Stats.over125CornersPercentage_overall}%\n              </li>\n              <li>Corners average: {props.Stats.cornersAVG_overall}</li>\n              <li>Cards average: {props.Stats.cardsAVG_overall}</li>\n            </ul>\n            <ul className=\"TopScorersColumn\">\n              <h4>Top scorers</h4>\n              <li>\n                {props.Stats.top_scorers[0].known_as} (\n                {getTopScorersTeam(props.Stats.top_scorers[0].club_team_id)}):{\" \"}\n                {props.Stats.top_scorers[0].goals_overall}\n              </li>\n              <li>\n                {props.Stats.top_scorers[1].known_as} (\n                {getTopScorersTeam(props.Stats.top_scorers[1].club_team_id)}):{\" \"}\n                {props.Stats.top_scorers[1].goals_overall}\n              </li>\n              <li>\n                {props.Stats.top_scorers[2].known_as} (\n                {getTopScorersTeam(props.Stats.top_scorers[2].club_team_id)}):{\" \"}\n                {props.Stats.top_scorers[2].goals_overall}\n              </li>\n              <li>\n                {props.Stats.top_scorers[3].known_as} (\n                {getTopScorersTeam(props.Stats.top_scorers[3].club_team_id)}):{\" \"}\n                {props.Stats.top_scorers[3].goals_overall}\n              </li>\n              <li>\n                {props.Stats.top_scorers[4].known_as} (\n                {getTopScorersTeam(props.Stats.top_scorers[4].club_team_id)}):{\" \"}\n                {props.Stats.top_scorers[4].goals_overall}\n              </li>\n              <li>\n                {props.Stats.top_scorers[5].known_as} (\n                {getTopScorersTeam(props.Stats.top_scorers[5].club_team_id)}):{\" \"}\n                {props.Stats.top_scorers[5].goals_overall}\n              </li>\n              <li>\n                {props.Stats.top_scorers[6].known_as} (\n                {getTopScorersTeam(props.Stats.top_scorers[6].club_team_id)}):{\" \"}\n                {props.Stats.top_scorers[6].goals_overall}\n              </li>\n              <li>\n                {props.Stats.top_scorers[7].known_as} (\n                {getTopScorersTeam(props.Stats.top_scorers[7].club_team_id)}):{\" \"}\n                {props.Stats.top_scorers[7].goals_overall}\n              </li>\n              <li>\n                {props.Stats.top_scorers[8].known_as} (\n                {getTopScorersTeam(props.Stats.top_scorers[8].club_team_id)}):{\" \"}\n                {props.Stats.top_scorers[8].goals_overall}\n              </li>\n              <li>\n                {props.Stats.top_scorers[9].known_as} (\n                {getTopScorersTeam(props.Stats.top_scorers[9].club_team_id)}):{\" \"}\n                {props.Stats.top_scorers[9].goals_overall}\n              </li>\n            </ul>\n          </div>\n        </TableContainer>\n      );\n    }\n  } else if (props.Teams[0].LeagueID === 4340) {\n    return null;\n  } else if (\n    props.Teams[0].LeagueID === 13973 || //MLS\n    props.Teams[0].LeagueID === 12933 || //UKNorth&South\n    props.Teams[0].LeagueID === 12327 || //Europa\n    props.Teams[0].LeagueID === 12321 //ChampionsLeague\n  ) {\n\n    for (let i = 0; i < props.Teams.length; i++) {\n      return (\n        <>\n          <h2 className=\"DivisionName\">{props.Division}</h2>\n          <TableContainer component={Paper} className=\"StatsTable\">\n            <Table\n              className=\"Table\"\n              aria-label=\"customized table\"\n              key={props.Key}\n              style={{ marginTop: \"2em\", marginBottom: \"1em\" }}\n            >\n              <TableHead>\n                <TableRow>\n                  <StyledTableCell></StyledTableCell>\n                  <StyledTableCell></StyledTableCell>\n                  <StyledTableCell>Pld</StyledTableCell>\n                  <StyledTableCell>W</StyledTableCell>\n                  <StyledTableCell>D</StyledTableCell>\n                  <StyledTableCell>L</StyledTableCell>\n                  <StyledTableCell>GF</StyledTableCell>\n                  <StyledTableCell>GA</StyledTableCell>\n                  <StyledTableCell>GD</StyledTableCell>\n                  <td>\n                  <button\n                    className=\"SortedColumn\"\n                    style={{ textAlign: \"center\" }}\n                    onClick={() => sorted(props.Teams, \"Points\", \"desc\")}\n                  >\n                    Pts {upArrow}\n                  </button>\n                </td>\n                <td>\n                  <button\n                    className=\"SortedColumn\"\n                    style={{ textAlign: \"center\" }}\n                    onClick={() => sorted(props.Teams, \"LastXPoints\", \"desc\")}\n                  >\n                    Last 5 {upArrow}\n                  </button>\n                </td>\n                </TableRow>\n              </TableHead>\n              <TableBody>{rows}</TableBody>\n            </Table>\n          </TableContainer>\n        </>\n      );\n    }\n  }\n}\n","/Users/gregdorward/Development/football-predictions/src/components/Fixture.js",["384","385","386","387","388"],"import React, { Fragment, useState } from \"react\";\nimport { CreateBadge } from \"./createBadge\";\nimport { createStatsDiv } from \"../logic/getStats\";\nimport { renderTable } from \"../logic/getFixtures\";\nimport { allLeagueResultsArrayOfObjects } from \"../logic/getFixtures\";\nimport { useDispatch } from \"react-redux\";\nimport { setData } from \"../logic/dataSlice\";\nimport { Provider } from \"react-redux\";\nimport store from \"../logic/store\"; // Import your Redux store\nimport { formObjectHome } from \"../logic/getScorePredictions\";\nimport { clicked } from \"../logic/getScorePredictions\";\nimport { userDetail } from \"../logic/authProvider\";\nimport { checkUserPaidStatus } from \"../logic/hasUserPaid\";\nimport GameStats from \"./GameStats\";\nimport { userTips } from \"./GameStats\";\nimport { dynamicDate } from \"../logic/getFixtures\";\n\nlet resultValue;\nlet paid;\nvar count;\nlet mockValue;\nvar setCount;\nfunction toggle(bool) {\n  count = !bool;\n  return count;\n}\n\nfunction GetDivider(fixture, mock) {\n  const matchStatus = fixture.status;\n  let isPrediction = resultValue;\n\n  if (fixture.fixture.omit === true && matchStatus !== \"complete\") {\n    isPrediction = true;\n    return (\n      <Fragment>\n        <div className=\"KOTime\">{`${fixture.fixture.time}`}</div>\n        <div\n          className=\"Omitted\"\n          key={fixture.fixture.awayTeam}\n        >{`${fixture.fixture.goalsA} - ${fixture.fixture.goalsB}`}</div>\n      </Fragment>\n    );\n  } else if (mockValue === true && matchStatus === \"complete\") {\n    isPrediction = false;\n    return (\n      <Fragment>\n        <div className=\"Result\">{`${fixture.fixture.homeGoals} - ${fixture.fixture.awayGoals}`}</div>\n        <div\n          className=\"CorrectScore\"\n          key={fixture.fixture.homeTeam}\n          data-cy={\"score-\" + fixture.fixture.id}\n        >{`${fixture.fixture.goalsA} - ${fixture.fixture.goalsB}`}</div>\n      </Fragment>\n    );\n  } else if (mockValue === true && matchStatus !== \"complete\") {\n    isPrediction = true;\n    return (\n      <Fragment>\n        <div className=\"KOTime\">{`${fixture.fixture.time}`}</div>\n        <div\n          className=\"score\"\n          key={fixture.fixture.awayTeam}\n        >{`${fixture.fixture.goalsA} - ${fixture.fixture.goalsB}`}</div>\n      </Fragment>\n    );\n  } else if (isPrediction === false && matchStatus !== \"complete\") {\n    return (\n      <div className=\"divider\" data-cy={\"divider-\" + fixture.fixture.id}>\n        {\"V\"}\n      </div>\n    );\n  } else if (isPrediction === false && matchStatus === \"complete\") {\n    return (\n      <div\n        className=\"Result\"\n        data-cy={\"result-\" + fixture.fixture.id}\n      >{`${fixture.fixture.homeGoals} - ${fixture.fixture.awayGoals}`}</div>\n    );\n  } else if (isPrediction === true && matchStatus === \"complete\") {\n    let outcome;\n    let prediction;\n\n    switch (true) {\n      case fixture.fixture.homeGoals > fixture.fixture.awayGoals:\n        outcome = 0;\n        fixture.fixture.winner = fixture.fixture.homeTeam;\n        fixture.fixture.outcome = \"homeWin\";\n        break;\n      case fixture.fixture.homeGoals === fixture.fixture.awayGoals:\n        outcome = 1;\n        fixture.fixture.winner = \"draw\";\n        fixture.fixture.outcome = \"draw\";\n\n        break;\n      case fixture.fixture.homeGoals < fixture.fixture.awayGoals:\n        outcome = 2;\n        fixture.fixture.winner = fixture.fixture.awayTeam;\n        fixture.fixture.outcome = \"awayWin\";\n\n        break;\n      default:\n        break;\n    }\n\n    switch (true) {\n      case fixture.fixture.goalsA > fixture.fixture.goalsB:\n        prediction = 0;\n        break;\n      case fixture.fixture.goalsA === fixture.fixture.goalsB:\n        prediction = 1;\n        break;\n      case fixture.fixture.goalsA < fixture.fixture.goalsB:\n        prediction = 2;\n        break;\n      default:\n        break;\n    }\n\n    if (fixture.fixture.omit === true) {\n      return (\n        <Fragment>\n          <div className=\"Result\">{`${fixture.fixture.homeGoals} - ${fixture.fixture.awayGoals}`}</div>\n          <div\n            className=\"Omitted\"\n            key={fixture.fixture.homeTeam}\n            data-cy={\"score-\" + fixture.fixture.id}\n          >{`${fixture.fixture.goalsA} - ${fixture.fixture.goalsB}`}</div>\n        </Fragment>\n      );\n    } else if (outcome === prediction) {\n      if (fixture.fixture.homeOdds !== 0) {\n        switch (true) {\n          case outcome === 0:\n            fixture.fixture.profit = fixture.fixture.homeOdds;\n            break;\n          case outcome === 1:\n            fixture.fixture.profit = fixture.fixture.drawOdds;\n            break;\n          case outcome === 2:\n            fixture.fixture.profit = fixture.fixture.awayOdds;\n            break;\n          default:\n            break;\n        }\n      } else fixture.fixture.profit = 1;\n\n      if (\n        fixture.fixture.goalsA === fixture.fixture.homeGoals &&\n        fixture.fixture.goalsB === fixture.fixture.awayGoals\n      ) {\n        fixture.fixture.exactScore = true;\n        return (\n          <Fragment>\n            <div className=\"Result\">{`${fixture.fixture.homeGoals} - ${fixture.fixture.awayGoals}`}</div>\n            <div\n              className=\"ExactScore\"\n              key={fixture.fixture.homeTeam}\n              data-cy={\"score-\" + fixture.fixture.id}\n            >{`${fixture.fixture.goalsA} - ${fixture.fixture.goalsB}`}</div>\n          </Fragment>\n        );\n      } else {\n        fixture.fixture.exactScore = false;\n        return (\n          <Fragment>\n            <div className=\"Result\">{`${fixture.fixture.homeGoals} - ${fixture.fixture.awayGoals}`}</div>\n            <div\n              className=\"CorrectScore\"\n              key={fixture.fixture.homeTeam}\n              data-cy={\"score-\" + fixture.fixture.id}\n            >{`${fixture.fixture.goalsA} - ${fixture.fixture.goalsB}`}</div>\n          </Fragment>\n        );\n      }\n    } else if (outcome !== prediction) {\n      if (fixture.fixture.homeOdds !== 0) {\n        fixture.fixture.profit = 0;\n      } else {\n        fixture.fixture.profit = 1;\n      }\n      fixture.fixture.exactScore = false;\n      return (\n        <Fragment>\n          <div className=\"Result\">{`${fixture.fixture.homeGoals} - ${fixture.fixture.awayGoals}`}</div>\n          <div\n            className=\"IncorrectScore\"\n            key={fixture.fixture.awayTeam}\n          >{`${fixture.fixture.goalsA} - ${fixture.fixture.goalsB}`}</div>\n        </Fragment>\n      );\n    }\n  } else {\n    return (\n      <Fragment>\n        <div className=\"KOTime\">{`${fixture.fixture.time}`}</div>\n        <div\n          className=\"score\"\n          key={fixture.fixture.awayTeam}\n        >{`${fixture.fixture.goalsA} - ${fixture.fixture.goalsB}`}</div>\n      </Fragment>\n    );\n  }\n}\n\nfunction renderLeagueName(fixture, mock, showShortlist) {\n  mockValue = mock;\n\n  let name = fixture.leagueName;\n  let id =\n    allLeagueResultsArrayOfObjects.length > 0\n      ? allLeagueResultsArrayOfObjects[fixture.leagueIndex].id\n      : null;\n  if (showShortlist === true) {\n    return (\n      <div>\n        <div\n          className=\"leagueName\"\n          id={`league${id}`}\n          key={`leagueName${id}div`}\n          onClick={() =>\n            renderTable(\n              fixture.leagueIndex,\n              allLeagueResultsArrayOfObjects[fixture.leagueIndex],\n              id\n            )\n          }\n        >\n          {fixture.leagueDesc} &#9776;\n        </div>\n        <div\n          className=\"LeagueTable\"\n          key={`leagueName${id}`}\n          id={`leagueName${id}`}\n        ></div>\n      </div>\n    );\n  } else if (name === null || mock === true) {\n    return <div></div>;\n  } else {\n    return (\n      <div>\n        <div\n          className=\"leagueName\"\n          id={`league${id}`}\n          key={`leagueName${id}div`}\n          onClick={() =>\n            renderTable(\n              fixture.leagueIndex,\n              allLeagueResultsArrayOfObjects[fixture.leagueIndex],\n              id\n            )\n          }\n        >\n          {fixture.leagueName} &#9776;\n        </div>\n        <div\n          className=\"LeagueTable\"\n          key={`leagueName${id}`}\n          id={`leagueName${id}`}\n        ></div>\n      </div>\n    );\n  }\n}\n\nconst downArrow = \"\\u{2195}\";\nconst rightArrow = \"\\u{29C9}\";\n\nexport let testing;\n\nfunction SingleFixture({\n  fixture,\n  count,\n  mock,\n  checked,\n  onToggle,\n  showShortlist,\n}) {\n  const dispatch = useDispatch();\n  const [showGameStats, setShowGameStats] = useState(false);\n\n  function StoreData() {\n    const fixtureDetails = {\n      id: fixture.id,\n      homeTeamName: fixture.homeTeam,\n      homeId: fixture.homeId,\n      homeTeamBadge: fixture.homeBadge,\n      awayTeamName: fixture.awayTeam,\n      awayId: fixture.awayId,\n      awayTeamBadge: fixture.awayBadge,\n      stadium: fixture.stadium,\n      time: fixture.time,\n      homeGoals: fixture.goalsA,\n      awayGoals: fixture.goalsB,\n    };\n\n    localStorage.setItem(\"fixtureDetails\", JSON.stringify(fixtureDetails));\n    dispatch(setData({ key1: \"value1\", key2: \"value2\" }));\n  }\n\n  async function handleButtonClick() {\n    if (userDetail) {\n      paid = await checkUserPaidStatus(userDetail.uid);\n      if (clicked === true && paid) {\n        StoreData();\n        window.open(\"/#/fixture\");\n      } else {\n        alert(\"Premium feature only\");\n      }\n    } else {\n      paid = false;\n    }\n  }\n\n  const handleGameStatsClick = () => {\n    if (!clicked) {\n      alert(\"Tap Get Predictions to fetch all game stats first\");\n      return;\n    }\n    StoreData();\n    setShowGameStats(!showGameStats);\n  };\n\n  return (\n    <div key={fixture.game}>\n      {renderLeagueName(fixture, mock, showShortlist)}\n      <div className={`individualFixtureContainer${fixture.omit}`}>\n        <li\n          className={`individualFixture${fixture.omit}`}\n          key={fixture.id}\n          data-cy={fixture.id}\n          // onClick={onToggle} // Toggle checked state on click\n          style={{ display: checked ? \"lightblue\" : \"white\" }} // Change background when checked\n        >\n          <div className=\"HomeOdds\">{fixture.fractionHome}</div>\n          <div className=\"homeTeam\">{fixture.homeTeam}</div>\n          <GetDivider\n            result={resultValue}\n            status={fixture.status}\n            fixture={fixture}\n          />\n          <div className=\"awayTeam\">{fixture.awayTeam}</div>\n          <CreateBadge\n            image={fixture.homeBadge}\n            ClassName=\"HomeBadge\"\n            alt=\"Home team badge\"\n            flexShrink={5}\n          />\n          <CreateBadge\n            image={fixture.awayBadge}\n            ClassName=\"AwayBadge\"\n            alt=\"Away team badge\"\n          />\n          <div className=\"AwayOdds\">{fixture.fractionAway}</div>\n        </li>\n        <button className=\"GameStats\" onClick={handleGameStatsClick}>\n          Game overview {downArrow}\n        </button>\n        <input\n          type=\"checkbox\"\n          checked={checked}\n          onChange={onToggle}\n          className=\"star\"\n          id={`shortlist-${fixture.id}`} // Unique ID for label association\n        />\n        <button className=\"GameStatsTwo\" onClick={handleButtonClick}>\n          More detail {rightArrow}\n        </button>\n        {/* Checkbox for toggling */}\n      </div>\n      {showGameStats && <GameStats game={fixture} displayBool={true} />}\n    </div>\n  );\n}\n\nasync function submitTips() {\n  if (userDetail?.uid && userTips) {\n    await fetch(`${process.env.REACT_APP_EXPRESS_SERVER}tips`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(userTips),\n    });\n    alert('Tips submitted')\n  } else {\n    return;\n  }\n\n  localStorage.removeItem(\"userTips\");\n  userTips.length = 0;\n}\n\nconst List = ({ fixtures, mock }) => {\n  // State to track selected fixtures\n  const [selectedFixtures, setSelectedFixtures] = useState([]);\n  const [showShortlist, setShowShortlist] = useState(false); // Toggle between full list and shortlist\n\n  const handleToggle = (fixture) => {\n\n    setSelectedFixtures((prev) => {\n      const index = prev.findIndex((f) => f.id === fixture.id);\n      if (index !== -1) {\n        // Remove fixture if already selected\n        return prev.filter((_, i) => i !== index);\n      } else {\n        // Add fixture to the end of the array\n        return [...prev, fixture];\n      }\n    });\n  };\n\n  // Convert array into an indexed object\n  const shortlist = Object.fromEntries(\n    selectedFixtures.map((fixture, i) => [i, fixture])\n  );\n\n  return (\n    <>\n      <ShortlistButton\n        toggleShortlist={() => setShowShortlist(!showShortlist)}\n      />\n      <SubmitTipsButton submit={() => submitTips()} />\n      <div>\n        <div id=\"Headers\"></div>\n        <ul className=\"FixtureList\" id=\"FixtureList\">\n          {(showShortlist ? selectedFixtures : fixtures).map((fixture) => (\n            <SingleFixture\n              shortlist={shortlist}\n              showShortlist={showShortlist}\n              fixture={fixture}\n              key={fixture.id}\n              mock={mock}\n              checked={selectedFixtures.some((f) => f.id === fixture.id)}\n              onToggle={() => handleToggle(fixture)}\n            />\n          ))}\n        </ul>\n      </div>\n    </>\n  );\n};\n\nfunction ShortlistButton({ toggleShortlist }) {\n  return <button onClick={toggleShortlist}>Toggle Shortlist &#9733; </button>;\n}\n\nfunction SubmitTipsButton({ submit }) {\n  return (\n    <button\n      onClick={submit}\n      style={{\n        border: \"1px solid #fe8c00\",\n      }}\n    >\n      Submit My Tips\n    </button>\n  );\n}\n\nexport function Fixture(props) {\n  [count, setCount] = useState(false);\n  resultValue = props.result;\n  return (\n    <Provider store={store}>\n      <List\n        fixtures={props.fixtures}\n        result={resultValue}\n        count={count}\n        mock={props.mock}\n      />\n      {!props.paid && props.capped === true && (\n        <div>\n          {props.originalLength} games have been capped at 15 for free users\n          with full stats available for those returned - sign up for access to\n          40+ leagues and cups\n        </div>\n      )}{\" \"}\n    </Provider>\n  );\n}\n","/Users/gregdorward/Development/football-predictions/src/components/KofiButton.js",[],["389","390"],"/Users/gregdorward/Development/football-predictions/src/components/Chart.js",["391","392"],"// import { light } from \"@material-ui/core/styles/createPalette\";\n// import { toBePartiallyChecked } from \"@testing-library/jest-dom/dist/matchers\";\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  RadialLinearScale,\n  PointElement,\n  ArcElement,\n  LineElement,\n  Filler,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  SubTitle,\n} from \"chart.js\";\nimport { Line, Radar, Bar, Doughnut } from \"react-chartjs-2\";\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  RadialLinearScale,\n  PointElement,\n  ArcElement,\n  Filler,\n  BarElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  SubTitle\n);\n\nexport function Chart(props) {\n  let length;\n  let depth;\n\n  if (props.type === \"Points over time\") {\n    length = props.data1.length * 3;\n    depth = 0;\n  } else if (props.type === \"Rolling average points over last 10\") {\n    length = Math.abs(props.height);\n    depth = 0;\n  } else if (Math.abs(props.height) > Math.abs(props.depth)) {\n    length = Math.abs(props.height);\n    depth = -Math.abs(props.height);\n  } else if (Math.abs(props.height) < Math.abs(props.depth)) {\n    length = Math.abs(props.depth);\n    depth = -Math.abs(props.depth);\n  } else {\n    length = Math.abs(props.depth);\n    depth = -Math.abs(props.depth);\n  }\n\n  const options = {\n    color: \"#030061\",\n    responsive: true,\n    aspectRatio: 1.2,\n    maintainAspectRatio: true,\n    layout: {\n      padding: 3,\n    },\n    elements: {\n      point: {\n        radius: 0,\n      },\n    },\n    scales: {\n      y: {\n        suggestedMin: depth,\n        suggestedMax: length,\n        // suggestedMax: Math.max(...props.data1) > 3 ? Math.max(...props.data1) : 3,\n        grid: {\n          borderWidth: 1,\n          borderColor: \"black\",\n        },\n        ticks: {\n          font: {\n            size: 12,\n          },\n        },\n      },\n      x: {\n        title: {\n          display: false,\n          text: \"Last X Games\",\n          font: {\n            size: 14,\n          },\n        },\n        grid: {\n          borderWidth: 1,\n          borderColor: \"black\",\n        },\n        ticks: {\n          display: false,\n          font: {\n            size: 14,\n          },\n        },\n      },\n    },\n    plugins: {\n      legend: {\n        position: \"top\",\n\n        labels: {\n          boxHeight: 5,\n        },\n      },\n      title: {\n        display: true,\n        text: props.type,\n        color: \"#030061\",\n        font: {\n          size: 14,\n        },\n      },\n    },\n  };\n\n  const labels = Array.from(props.data1.keys());\n\n  let data = {\n    labels,\n    datasets: [\n      {\n        label: props.team1,\n        font: {\n          color: \"black\",\n        },\n        data: props.data1,\n        borderColor: \"#030061\",\n        borderWidth: 3,\n        backgroundColor: \"#030061\",\n        tension: props.tension,\n      },\n      {\n        label: props.team2,\n        data: props.data2,\n        borderColor: \"#970d00\",\n        borderWidth: 3,\n        backgroundColor: \"#970d00\",\n        tension: props.tension,\n      }\n    ],\n  };\n\n  return <Line options={options} data={data} />;\n}\n\nexport function MultilineChart(props) {\n  let length;\n  let depth;\n\n  if (props.type === \"Points over time\") {\n    length = props.data1.length * 3;\n    depth = 0;\n  } else if (props.type === \"Rolling average points over last 10\") {\n    length = Math.abs(props.height);\n    depth = 0;\n  } else if (Math.abs(props.height) > Math.abs(props.depth)) {\n    length = Math.abs(props.height);\n    depth = -Math.abs(props.height);\n  } else if (Math.abs(props.height) < Math.abs(props.depth)) {\n    length = Math.abs(props.depth);\n    depth = -Math.abs(props.depth);\n  } else {\n    length = Math.abs(props.depth);\n    depth = -Math.abs(props.depth);\n  }\n\n  const options = {\n    color: \"#030061\",\n    responsive: true,\n    aspectRatio: 1.2,\n    maintainAspectRatio: true,\n    layout: {\n      padding: 3,\n    },\n    elements: {\n      point: {\n        radius: 0,\n      },\n    },\n    scales: {\n      y: {\n        suggestedMin: depth,\n        suggestedMax: length,\n        // suggestedMax: Math.max(...props.data1) > 3 ? Math.max(...props.data1) : 3,\n        grid: {\n          borderWidth: 1,\n          borderColor: \"black\",\n        },\n        ticks: {\n          font: {\n            size: 12,\n          },\n        },\n      },\n      x: {\n        title: {\n          display: false,\n          text: \"Last X Games\",\n          font: {\n            size: 14,\n          },\n        },\n        grid: {\n          borderWidth: 1,\n          borderColor: \"black\",\n        },\n        ticks: {\n          display: false,\n          font: {\n            size: 14,\n          },\n        },\n      },\n    },\n    plugins: {\n      legend: {\n        position: \"top\",\n\n        labels: {\n          boxHeight: 5,\n        },\n      },\n      title: {\n        display: true,\n        text: props.type,\n        color: \"#030061\",\n        font: {\n          size: 14,\n        },\n      },\n    },\n  };\n\n  const labels = Array.from(props.data1.keys());\n\n  let data = {\n    labels,\n    datasets: [\n      {\n        label: props.team1,\n        font: {\n          color: \"black\",\n        },\n        data: props.data1,\n        borderColor: \"#030061\",\n        borderWidth: 3,\n        backgroundColor: \"#030061\",\n        tension: props.tension,\n      },\n      {\n        label: props.team2,\n        data: props.data2,\n        borderColor: \"#970d00\",\n        borderWidth: 3,\n        backgroundColor: \"#970d00\",\n        tension: props.tension,\n      },\n      {\n        label: `${props.team1} XG Diff`,\n        font: {\n          color: \"black\",\n        },\n        data: props.data3,\n        borderColor: \"#0600d6\",\n        borderWidth: 3,\n        backgroundColor: \"#0600d6\",\n        tension: props.tension,\n        hidden: true,\n      },\n      {\n        label: `${props.team2} XG Diff`,\n        font: {\n          color: \"black\",\n        },\n        data: props.data4,\n        borderColor: \"#be1000\",\n        borderWidth: 3,\n        backgroundColor: \"#be1000\",\n        tension: props.tension,\n        hidden: true,\n      },\n    ],\n  };\n\n  return <Line options={options} data={data} />;\n}\n\n\nexport function DoughnutChart(props) {\n  const options = {\n    color: \"#030061\",\n\n    plugins: {\n      legend: {\n        position: \"top\",\n\n        labels: {\n          boxHeight: 10,\n          color: \"#030061\",\n        },\n      },\n      title: {\n        display: true,\n        text: \"XG Tipping Form Comparison\",\n        color: \"#030061\",\n        font: {\n          size: 14,\n        },\n      },\n    },\n  };\n\n  const data = {\n    labels: [props.homeTeam, props.awayTeam],\n    datasets: [\n      {\n        data: props.data,\n        backgroundColor: [\"#030061\", \"#970d00\"],\n        rotation: 270,\n        hoverOffset: 4,\n        cutout: \"75%\",\n        circumference: 180,\n      },\n    ],\n  };\n\n  const config = {\n    type: \"doughnut\",\n    data: data,\n  };\n\n  return <Doughnut options={options} data={data} />;\n}\n\nexport function RadarChart(props) {\n  const options = {\n    color: \"#030061\",\n    scales: {\n      r: {\n        angleLines: {\n          display: false,\n        },\n        suggestedMin: 0,\n        suggestedMax: 1,\n        ticks: {\n          precision: 0,\n          display: false,\n        },\n        // grid: {\n        //     circular: true,\n        //   }\n      },\n    },\n    plugins: {\n      legend: {\n        position: \"top\",\n\n        labels: {\n          boxHeight: 10,\n          color: \"#030061\",\n        },\n      },\n      title: {\n        display: true,\n        text: props.title,\n        color: \"#030061\",\n        font: {\n          size: 14,\n        },\n      },\n    },\n  };\n\n  let data = {\n    labels: [\n      \"Attack rating\",\n      \"Defence rating\",\n      \"Ball retention\",\n      \"XG For\",\n      \"XG Against\",\n      \"Directness\",\n      \"Attacking precision\",\n    ],\n    datasets: [\n      {\n        label: props.team1,\n        data: props.data,\n        fill: true,\n        backgroundColor: \"rgba(54, 162, 235, 0.2)\",\n        borderColor: \"#030061\",\n        pointBackgroundColor: \"#030061\",\n        pointBorderColor: \"#fff\",\n        pointHoverBackgroundColor: \"#fff\",\n        pointHoverBorderColor: \"rgb(255, 99, 132)\",\n        borderWidth: 2,\n      },\n      {\n        label: props.team2,\n        data: props.data2,\n        fill: true,\n        backgroundColor: \"rgba(255, 99, 132, 0.2)\",\n        borderColor: \"#970d00\",\n        pointBackgroundColor: \"#970d00\",\n        pointBorderColor: \"#fff\",\n        pointHoverBackgroundColor: \"#fff\",\n        pointHoverBorderColor: \"rgb(54, 162, 235)\",\n        borderWidth: 2,\n      },\n    ],\n  };\n\n  return <Radar options={options} data={data} />;\n}\n\nexport function BarChart(props) {\n  const datasetOne = props.data1;\n  const datasetTwo = props.data2;\n  const sum = datasetTwo.map(function (num, idx) {\n    return num - datasetOne[idx];\n  });\n\n  const max = Math.max(...sum);\n  const min = Math.min(...sum);\n\n  const largest = findLargestNum(max, min);\n\n  function findLargestNum(numOne, numTwo) {\n    const tempArr = [];\n    const firstNum = Math.abs(numOne);\n    const secondNum = Math.abs(numTwo);\n    tempArr.push(firstNum, secondNum);\n\n    return Math.max(...tempArr) + 1;\n  }\n\n  const options = {\n    color: \"#030061\",\n    indexAxis: \"y\",\n    // Elements options apply to all of the options unless overridden in a dataset\n    // In this case, we are setting the border of each horizontal bar to be 2px wide\n    aspectRatio: 1.3,\n    elements: {\n      bar: {\n        borderWidth: 2,\n      },\n    },\n    scales: {\n      x: {\n        min: -8,\n        max: 8,\n        ticks: {\n          display: false,\n        },\n      },\n      y: {\n        ticks: {\n          font: {\n            size: 10,\n          },\n        },\n      },\n    },\n    responsive: true,\n    plugins: {\n      legend: {\n        display: false,\n      },\n      tooltip: {\n        enabled: false,\n      },\n      title: {\n        display: true,\n        text: props.text,\n        color: \"#030061\",\n        font: {\n          size: 14,\n        },\n      },\n    },\n  };\n\n  const labels = [\n    \"Highest Goals\",\n    \"Fewest Conceeded\",\n    \"PPG\",\n    \"Highest XG\",\n    \"Fewest XG Conceeded\",\n    \"Shots On Target\",\n    \"Dangerous Attacks\",\n    \"Av. Possession\",\n    \"Home/Away Goal Diff\",\n    \"Corners\",\n  ];\n\n  const data = {\n    labels,\n    datasets: [\n      {\n        // label: 'Dataset 1',\n        legend: {\n          display: false,\n        },\n        data: sum,\n        backgroundColor(context) {\n          const index = context.dataIndex;\n          const value = context.dataset.data[index];\n          return value < 0 ? \"#030061\" : \"#970d00\";\n        },\n      },\n    ],\n  };\n\n  return <Bar options={options} data={data} />;\n}\n\nexport function BarChartTwo(props) {\n  const dataset = [props.data1, props.data2]\n\n  const options = {\n    color: \"#030061\",\n    indexAxis: \"x\",\n    // Elements options apply to all of the options unless overridden in a dataset\n    // In this case, we are setting the border of each horizontal bar to be 2px wide\n    aspectRatio: 1.3,\n    elements: {\n      bar: {\n        borderWidth: 2,\n      },\n    },\n    scales: {\n      y: {\n        min: -0.8,\n        max: 0.8,\n        ticks: {\n          display: true,\n          font: {\n            size: 10,\n          },\n        },\n      },\n      // y: {\n      //   suggestedMin: -0.8,\n      //   suggestedMax: 0.8,\n      //   ticks: {\n      //     font: {\n      //       size: 10,\n      //     },\n      //   },\n      // },\n    },\n    responsive: true,\n    plugins: {\n      legend: {\n        display: false,\n      },\n      tooltip: {\n        enabled: true,\n      },\n      title: {\n        display: true,\n        text: [props.text],\n        color: \"#030061\",\n        font: {\n          size: 14,\n        },\n      },\n      subtitle: {\n        display: true,\n        text: \"Green - Improving | Red - Worsening\",\n        color: \"#030061\",\n        font: {\n          size: 12,\n        },\n        padding: {\n          bottom: 10,\n        },\n      },\n    },\n  };\n\n  const labels = [\n    props.homeTeam,\n    props.awayTeam,\n  ];\n\n  const data = {\n    labels: labels,\n    datasets: [\n      {\n        legend: {\n          display: false,\n        },\n        // label: \"XG Recent Swing\",\n        data: dataset,\n        ticks: {\n          font: {\n            size: 14,\n          },\n        },\n        barThickness: 120,\n        backgroundColor(context) {\n          const index = context.dataIndex;\n          const value = context.dataset.data[index];\n          return value < 0 ? \"#730a00\" : \"#016001\";\n        },\n      },\n    ],\n  };\n\n  return <Bar options={options} data={data} />;\n}\n","/Users/gregdorward/Development/football-predictions/src/logic/compareFormTrend.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Toggle.js",[],["393","394"],"/Users/gregdorward/Development/football-predictions/src/components/Carousel.js",[],"/Users/gregdorward/Development/football-predictions/src/components/DayPicker.js",[],["395","396"],"/Users/gregdorward/Development/football-predictions/src/components/DateForm.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/dataSlice.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/store.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Team.js",["397","398","399"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { CreateBadge } from \"./createBadge\";\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\nimport { Bar } from \"react-chartjs-2\";\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nfunction TeamPage() {\n  const [dataState, setData] = useState([]);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      const responseHome = await fetch(\n        `${process.env.REACT_APP_EXPRESS_SERVER}team/${storedFixtureDetailsJson.homeId}`\n      );\n      const resultHome = await responseHome.json();\n\n      const responseAway = await fetch(\n        `${process.env.REACT_APP_EXPRESS_SERVER}team/${storedFixtureDetailsJson.awayId}`\n      );\n      const resultAway = await responseAway.json();\n      // setData(result.data.stadium_name);\n\n      let indexHome = resultHome.data.findIndex(\n        (x) => x.season_format === \"Domestic League\"\n      );\n      let indexAway = resultAway.data.findIndex(\n        (x) => x.season_format === \"Domestic League\"\n      );\n\n      if (resultHome.data[indexHome].stats.seasonScoredNum_overall) {\n        setData((test) => ({\n          ...test,\n          scoredOverallHome:\n            resultHome.data[indexHome].stats.seasonScoredNum_overall,\n          playedHomeOnly:\n            resultHome.data[indexHome].stats.seasonMatchesPlayed_home,\n          scoredOverallHomeOnly:\n            resultHome.data[indexHome].stats.seasonScoredNum_home,\n          conceededOverallHome:\n            resultHome.data[indexHome].stats.seasonConcededNum_overall,\n          conceededOverallHomeOnly:\n            resultHome.data[indexHome].stats.seasonConcededNum_home,\n\n          PPGOverallHome: resultHome.data[indexHome].stats.seasonPPG_overall,\n          PPGOverallHomeOnly: resultHome.data[indexHome].stats.seasonPPG_home,\n          leaguePosition_overallHome:\n            resultHome.data[indexHome].stats.leaguePosition_overall,\n          leaguePosition_HomeOnly:\n            resultHome.data[indexHome].stats.leaguePosition_home,\n          averageAttendance:\n            resultHome.data[indexHome].stats.average_attendance_home,\n          BTTSPercentage_overallHome:\n            resultHome.data[indexHome].stats.seasonBTTSPercentage_overall,\n          BTTSAndWinPercentage_Home:\n            resultHome.data[indexHome].stats.BTTS_and_win_percentage_overall,\n          BTTSAndLosePercentage_Home:\n            resultHome.data[indexHome].stats.BTTS_and_lose_percentage_overall,\n          BTTSBothHalvesHome:\n            resultHome.data[indexHome].stats\n              .BTTS_both_halves_percentage_overall,\n          GoalDifferenceHT_overall_Home:\n            resultHome.data[indexHome].stats.GoalDifferenceHT_overall,\n          GD_2hg_overall_Home: resultHome.data[indexHome].stats.gd_2hg_overall,\n          leadingAtHTPercentage_overallHome:\n            resultHome.data[indexHome].stats.leadingAtHTPercentage_overall,\n          seasonOver15Percentage_overallHome:\n            resultHome.data[indexHome].stats.seasonOver15Percentage_overall,\n          seasonOver25Percentage_overallHome:\n            resultHome.data[indexHome].stats.seasonOver25Percentage_overall,\n          seasonOver35Percentage_overallHome:\n            resultHome.data[indexHome].stats.seasonOver35Percentage_overall,\n          seasonOver45Percentage_overallHome:\n            resultHome.data[indexHome].stats.seasonOver45Percentage_overall,\n          scoredBothHalvesPercentage_overallHome:\n            resultHome.data[indexHome].stats.scoredBothHalvesPercentage_overall,\n          shots_on_target_per_goals_scored_overallHome:\n            resultHome.data[indexHome].stats.additional_info\n              .shots_on_target_per_goals_scored_overall,\n          cornersTotalAVG_overallHome:\n            resultHome.data[indexHome].stats.cornersTotalAVG_overall,\n          cardsAVG_overallHome:\n            resultHome.data[indexHome].stats.cardsAVG_overall,\n          foulsAVG_overallHome:\n            resultHome.data[indexHome].stats.foulsAVG_overall,\n          penalties_won_per_match_overallHome:\n            resultHome.data[indexHome].stats.additional_info\n              .penalties_won_per_match_overall,\n          penalty_in_a_match_percentage_overallHome:\n            resultHome.data[indexHome].stats.additional_info\n              .penalty_in_a_match_percentage_overall,\n\n          scoredOverallAway:\n            resultAway.data[indexAway].stats.seasonScoredNum_overall,\n          playedAwayOnly:\n            resultAway.data[indexAway].stats.seasonMatchesPlayed_away,\n          scoredOverallAwayOnly:\n            resultAway.data[indexAway].stats.seasonScoredNum_away,\n          conceededOverallAway:\n            resultAway.data[indexAway].stats.seasonConcededNum_overall,\n          conceededOverallAwayOnly:\n            resultAway.data[indexAway].stats.seasonConcededNum_away,\n\n          PPGOverallAway: resultAway.data[indexAway].stats.seasonPPG_overall,\n          PPGOverallAwayOnly: resultAway.data[indexAway].stats.seasonPPG_away,\n          leaguePosition_overallAway:\n            resultAway.data[indexAway].stats.leaguePosition_overall,\n          leaguePosition_AwayOnly:\n            resultAway.data[indexAway].stats.leaguePosition_away,\n          BTTSPercentage_overallAway:\n            resultAway.data[indexAway].stats.seasonBTTSPercentage_overall,\n          BTTSAndWinPercentage_Away:\n            resultAway.data[indexAway].stats.BTTS_and_win_percentage_overall,\n          BTTSAndLosePercentage_Away:\n            resultAway.data[indexAway].stats.BTTS_and_lose_percentage_overall,\n          BTTSBothHalvesAway:\n            resultAway.data[indexAway].stats\n              .BTTS_both_halves_percentage_overall,\n          GoalDifferenceHT_overall_Away:\n            resultAway.data[indexAway].stats.GoalDifferenceHT_overall,\n          GD_2hg_overall_Away: resultAway.data[indexAway].stats.gd_2hg_overall,\n          leadingAtHTPercentage_overallAway:\n            resultAway.data[indexAway].stats.leadingAtHTPercentage_overall,\n          seasonOver15Percentage_overallAway:\n            resultAway.data[indexAway].stats.seasonOver15Percentage_overall,\n          seasonOver25Percentage_overallAway:\n            resultAway.data[indexAway].stats.seasonOver25Percentage_overall,\n          seasonOver35Percentage_overallAway:\n            resultAway.data[indexAway].stats.seasonOver35Percentage_overall,\n          seasonOver45Percentage_overallAway:\n            resultAway.data[indexAway].stats.seasonOver45Percentage_overall,\n          scoredBothHalvesPercentage_overallAway:\n            resultAway.data[indexAway].stats.scoredBothHalvesPercentage_overall,\n          shots_on_target_per_goals_scored_overallAway:\n            resultAway.data[indexAway].stats.additional_info\n              .shots_on_target_per_goals_scored_overall,\n\n          cornersTotalAVG_overallAway:\n            resultAway.data[indexAway].stats.cornersTotalAVG_overall,\n          cardsAVG_overallAway:\n            resultAway.data[indexAway].stats.cardsAVG_overall,\n          foulsAVG_overallAway:\n            resultAway.data[indexAway].stats.foulsAVG_overall,\n          penalties_won_per_match_overallAway:\n            resultAway.data[indexAway].stats.additional_info\n              .penalties_won_per_match_overall,\n          penalty_in_a_match_percentage_overallAway:\n            resultAway.data[indexAway].stats.additional_info\n              .penalty_in_a_match_percentage_overall,\n        }));\n      }\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n\n  const storedDataHome = useSelector((state) => state.data.dataHome);\n  const jsonDataHome = JSON.parse(storedDataHome);\n  const propertyNamesHome = Object.entries(jsonDataHome);\n\n  const storedDataHomeDef = useSelector((state) => state.data.dataHomeDef);\n  const jsonDataHomeDef = JSON.parse(storedDataHomeDef);\n  const propertyNamesHomeDef = Object.entries(jsonDataHomeDef);\n\n  const storedDataallTeamResultsHome = useSelector(\n    (state) => state.data.allTeamResultsHome\n  );\n  const jsonDataallTeamResultsHome = JSON.parse(storedDataallTeamResultsHome);\n  const propertyNamesallTeamResultsHome = Object.values(\n    jsonDataallTeamResultsHome\n  );\n\n  const homeDetails = useSelector((state) => state.data.homeDetails);\n  const jsonHomeDetails = JSON.parse(homeDetails);\n\n  const storedDataAway = useSelector((state) => state.data.dataAway);\n  const jsonDataAway = JSON.parse(storedDataAway);\n  const propertyNamesAway = Object.entries(jsonDataAway);\n\n  const storedDataAwayDef = useSelector((state) => state.data.dataAwayDef);\n  const jsonDataAwayDef = JSON.parse(storedDataAwayDef);\n  const propertyNamesAwayDef = Object.entries(jsonDataAwayDef);\n\n  const storedDataallTeamResultsAway = useSelector(\n    (state) => state.data.allTeamResultsAway\n  );\n  const jsonDataallTeamResultsAway = JSON.parse(storedDataallTeamResultsAway);\n  const propertyNamesallTeamResultsAway = Object.values(\n    jsonDataallTeamResultsAway\n  );\n\n  const awayDetails = useSelector((state) => state.data.awayDetails);\n  const jsonAwayDetails = JSON.parse(awayDetails);\n\n  const storedFixtureDetails = useSelector(\n    (state) => state.data.fixtureDetails\n  );\n  const storedFixtureDetailsJson = JSON.parse(storedFixtureDetails);\n\n  const options = {\n    plugins: {\n      title: {\n        display: true,\n        text: \"Team comparison\",\n      },\n    },\n    aspectRatio: 0.5,\n    maintainAspectRatio: true,\n    responsive: true,\n    scales: {\n      x: {\n        stacked: true,\n      },\n      y: {\n        stacked: true,\n        display: false,\n      },\n    },\n  };\n  const labels = [\n    storedFixtureDetailsJson.homeTeamName,\n    storedFixtureDetailsJson.awayTeamName,\n  ];\n\n  const data = {\n    labels,\n    datasets: [\n      {\n        data: [\n          jsonHomeDetails[\"Attacking Strength\"],\n          jsonAwayDetails[\"Attacking Strength\"],\n        ],\n        label: \"Attacking Strength\",\n        backgroundColor: \"#030061\",\n      },\n      {\n        data: [\n          jsonHomeDetails[\"Defensive Strength\"],\n          jsonAwayDetails[\"Defensive Strength\"],\n        ],\n        label: \"Defensive Strength\",\n        backgroundColor: \"#CC3314\",\n      },\n    ],\n  };\n\n  return (\n    <div className=\"TeamStatsContainer\">\n      <div className=\"FixtureHeadingContiner\">\n        <CreateBadge\n          image={storedFixtureDetailsJson.homeTeamBadge}\n          ClassName=\"HomeTeamBadge\"\n          alt=\"Home team badge\"\n        ></CreateBadge>\n        {`${storedFixtureDetailsJson.homeTeamName} v ${storedFixtureDetailsJson.awayTeamName}`}\n        <CreateBadge\n          image={storedFixtureDetailsJson.awayTeamBadge}\n          ClassName=\"AwayTeamBadge\"\n          alt=\"Away team badge\"\n        ></CreateBadge>\n      </div>\n      <h3>\n        {storedFixtureDetailsJson.stadium} KO: {storedFixtureDetailsJson.time} |\n        Average Attendance: {dataState.averageAttendance}\n      </h3>\n      <h3>\n        XGTipping Prediction: {storedFixtureDetailsJson.homeGoals} -{\" \"}\n        {storedFixtureDetailsJson.awayGoals}\n      </h3>\n      <div className=\"TeamStats\">\n        <ul className=\"HomeTeamStats\">\n          <iframe\n            src={`https://footystats.org/api/club?id=${storedFixtureDetailsJson.homeId}`}\n            height=\"100%\"\n            width=\"100%\"\n            style={{\n              height: \"420px\",\n              width: \"100%\",\n              border: \"0.1em solid #030061\",\n            }}\n          ></iframe>\n          <h3>{storedFixtureDetailsJson.homeTeamName}</h3>\n          {propertyNamesHome.map(([key, value], index) => (\n            <li key={index}>\n              <strong>{key}:</strong>{\" \"}\n              {typeof value === \"object\" ? JSON.stringify(value) : value}\n            </li>\n          ))}\n          <ul className=\"HomeTeamStats\">\n            {propertyNamesHomeDef.map(([key, value], index) => (\n              <li key={index}>\n                <strong>{key}:</strong>{\" \"}\n                {typeof value === \"object\" ? JSON.stringify(value) : value}\n              </li>\n            ))}\n          </ul>\n          <li>Scored overall: {dataState.scoredOverallHome}</li>\n          <li>Conceeded overall: {dataState.conceededOverallHome}</li>\n          <li>\n            Average scored home only:{\" \"}\n            {(\n              dataState.scoredOverallHomeOnly / dataState.playedHomeOnly\n            ).toFixed(2)}\n          </li>\n          <li>\n            Average conceeded home only:{\" \"}\n            {(\n              dataState.conceededOverallHomeOnly / dataState.playedHomeOnly\n            ).toFixed(2)}\n          </li>\n          <li>PPG overall: {dataState.PPGOverallHome}</li>\n          <li>PPG home only: {dataState.PPGOverallHomeOnly}</li>\n          <li>League position: {dataState.leaguePosition_overallHome}</li>\n          <li>\n            League position home only: {dataState.leaguePosition_HomeOnly}\n          </li>\n          <li>BTTS {dataState.BTTSPercentage_overallHome}%</li>\n          <li>BTTS and win: {dataState.BTTSAndWinPercentage_Home}%</li>\n          <li>BTTS and lose: {dataState.BTTSAndLosePercentage_Home}%</li>\n          <li>BTTS both halves: {dataState.BTTSBothHalvesHome}%</li>\n          <li>\n            Goal diff 1st half only: {dataState.GoalDifferenceHT_overall_Home}\n          </li>\n          <li>Goal diff 2nd half only: {dataState.GD_2hg_overall_Home}</li>\n          <li>\n            Leading at half time: {dataState.leadingAtHTPercentage_overallHome}%\n          </li>\n          <li>\n            Over 1.5 goals in games:{\" \"}\n            {dataState.seasonOver15Percentage_overallHome}%\n          </li>\n          <li>\n            Over 2.5 goals in games:{\" \"}\n            {dataState.seasonOver25Percentage_overallHome}%\n          </li>\n          <li>\n            Over 3.5 goals in games:{\" \"}\n            {dataState.seasonOver35Percentage_overallHome}%\n          </li>\n          <li>\n            Over 4.5 goals in games:{\" \"}\n            {dataState.seasonOver45Percentage_overallHome}%\n          </li>\n          <li>\n            Scored both halves:{\" \"}\n            {dataState.scoredBothHalvesPercentage_overallHome}%\n          </li>\n          <li>\n            SOTs per goal:{\" \"}\n            {dataState.shots_on_target_per_goals_scored_overallHome}\n          </li>\n          <li>Corners in game avg: {dataState.cornersTotalAVG_overallHome}</li>\n          <li>Cards avg: {dataState.cardsAVG_overallHome}</li>\n          <li>Fouls against avg: {dataState.foulsAVG_overallHome}</li>\n          <li>\n            Penalties won avg: {dataState.penalties_won_per_match_overallHome}\n          </li>\n          <li>\n            Penalties in match:{\" \"}\n            {dataState.penalty_in_a_match_percentage_overallHome}%\n          </li>\n        </ul>\n        <ul className=\"AwayTeamStats\">\n          <iframe\n            src={`https://footystats.org/api/club?id=${storedFixtureDetailsJson.awayId}`}\n            height=\"100%\"\n            width=\"100%\"\n            style={{\n              height: \"420px\",\n              width: \"100%\",\n              color: \"#030061\",\n              border: \"0.1em solid #030061\",\n            }}\n          ></iframe>\n          <h3>{storedFixtureDetailsJson.awayTeamName}</h3>\n          {propertyNamesAway.map(([key, value], index) => (\n            <li key={index}>\n              <strong>{key}:</strong>{\" \"}\n              {typeof value === \"object\" ? JSON.stringify(value) : value}\n            </li>\n          ))}\n          <ul className=\"AwayTeamStats\">\n            {propertyNamesAwayDef.map(([key, value], index) => (\n              <li key={index}>\n                <strong>{key}:</strong>{\" \"}\n                {typeof value === \"object\" ? JSON.stringify(value) : value}\n              </li>\n            ))}\n          </ul>\n          <li>Scored overall: {dataState.scoredOverallAway}</li>\n          <li>Conceeded overall: {dataState.conceededOverallAway}</li>\n          <li>\n            Average scored away only:{\" \"}\n            {(\n              dataState.scoredOverallAwayOnly / dataState.playedAwayOnly\n            ).toFixed(2)}\n          </li>\n          <li>\n            Average conceeded away only:{\" \"}\n            {(\n              dataState.conceededOverallAwayOnly / dataState.playedAwayOnly\n            ).toFixed(2)}\n          </li>\n          <li>PPG overall: {dataState.PPGOverallAway}</li>\n          <li>PPG away only: {dataState.PPGOverallAwayOnly}</li>\n          <li>League position: {dataState.leaguePosition_overallAway}</li>\n          <li>\n            League position away only: {dataState.leaguePosition_AwayOnly}\n          </li>\n          <li>BTTS: {dataState.BTTSPercentage_overallAway}%</li>\n          <li>BTTS and win: {dataState.BTTSAndWinPercentage_Away}%</li>\n          <li>BTTS and lose: {dataState.BTTSAndLosePercentage_Away}%</li>\n          <li>BTTS both halves: {dataState.BTTSBothHalvesAway}%</li>\n          <li>\n            Goal diff 1st half only: {dataState.GoalDifferenceHT_overall_Away}\n          </li>\n          <li>Goal diff 2nd half only: {dataState.GD_2hg_overall_Away}</li>\n          <li>\n            Leading at half time: {dataState.leadingAtHTPercentage_overallAway}%\n          </li>\n          <li>\n            Over 1.5 goals in games:{\" \"}\n            {dataState.seasonOver15Percentage_overallAway}%\n          </li>\n          <li>\n            Over 2.5 goals in games:{\" \"}\n            {dataState.seasonOver25Percentage_overallAway}%\n          </li>\n          <li>\n            Over 3.5 goals in games:{\" \"}\n            {dataState.seasonOver35Percentage_overallAway}%\n          </li>\n          <li>\n            Over 4.5 goals in games:{\" \"}\n            {dataState.seasonOver45Percentage_overallAway}%\n          </li>\n          <li>\n            Scored both halves:{\" \"}\n            {dataState.scoredBothHalvesPercentage_overallAway}%\n          </li>\n          <li>\n            SOTs per goal:{\" \"}\n            {dataState.shots_on_target_per_goals_scored_overallAway}\n          </li>\n          <li>Corners in game avg: {dataState.cornersTotalAVG_overallAway}</li>\n          <li>Cards avg: {dataState.cardsAVG_overallAway}</li>\n          <li>Fouls against avg: {dataState.foulsAVG_overallAway}</li>\n          <li>\n            Penalties won avg: {dataState.penalties_won_per_match_overallAway}\n          </li>\n          <li>\n            Penalties in match:{\" \"}\n            {dataState.penalty_in_a_match_percentage_overallAway}%\n          </li>\n        </ul>\n        <div className=\"ChartContainer\">\n          <span className=\"Spacer\"></span>\n          <Bar options={options} data={data} className=\"ComparisonBar\" />\n          <span className=\"Spacer\"></span>\n        </div>\n        <ul className=\"HomeTeamResults\">\n          {propertyNamesallTeamResultsHome.map((match, index) => (\n            <>\n              <div className=\"MatchDate\">{match.date}</div>\n              <div className=\"ResultRowOverviewSmall\">\n                <div className=\"columnOverviewHomeSmall\">{match.homeTeam}</div>\n                <span className=\"columnOverviewScoreSmall\">\n                  {match.homeGoals} : {match.awayGoals}\n                </span>\n                <div className=\"columnOverviewAwaySmall\">{match.awayTeam}</div>\n              </div>\n            </>\n          ))}\n        </ul>\n        <ul className=\"AwayTeamResults\">\n          {propertyNamesallTeamResultsAway.map((match, index) => (\n            <>\n              <div className=\"MatchDate\">{match.date}</div>\n              <div className=\"ResultRowOverviewSmall\">\n                <div className=\"columnOverviewHomeSmall\">{match.homeTeam}</div>\n                <span className=\"columnOverviewScoreSmall\">\n                  {match.homeGoals} : {match.awayGoals}\n                </span>\n                <div className=\"columnOverviewAwaySmall\">{match.awayTeam}</div>\n              </div>\n            </>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default TeamPage;\n","/Users/gregdorward/Development/football-predictions/src/components/Checkbox.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Slider.js",[],"/Users/gregdorward/Development/football-predictions/src/components/SliderDiff.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Switch.js",[],"/Users/gregdorward/Development/football-predictions/src/components/SofaScore.js",["400"],"import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst SofaLineupsWidget = ({ id, team1, team2, time, homeGoals, awayGoals }) => {\n  const iframeSrc = `https://widgets.sofascore.com/embed/lineups?id=${id}&widgetTheme=light`;\n\n  let differenceInSeconds, minutes\n  const currentTime = new Date().getTime() / 1000;\n  // Calculate the difference in seconds\n    if(time > 0){\n        differenceInSeconds = time - currentTime;\n        minutes = Math.floor(differenceInSeconds / 60);\n    } else {\n        minutes = -99999999\n    }\n\n\n\n  if(team1 === \"N/A\") {\n    return <h6>No lineups available for this match yet</h6>\n  } else if (minutes > 60) {\n    return (\n      <div>\n        <h6>Predicted lineups</h6>\n        <iframe\n          id={`sofa-lineups-embed-${id}`}\n          src={iframeSrc}\n          style={{\n            height: \"786px\",\n            maxWidth: \"800px\",\n            width: \"100%\",\n            border: \"0\",\n          }}\n          scrolling=\"no\"\n          title=\"SofaScore Lineups\"\n        ></iframe>\n        <div\n          style={{ fontSize: \"12px\", fontFamily: \"Open Sans, sans-serif\" }}\n        ></div>\n      </div>\n    );\n  } else if (minutes < 60 && minutes > 0) {\n    return (\n      <div>\n        <h6>Lineups</h6>\n        <iframe\n          id={`sofa-lineups-embed-${id}`}\n          src={iframeSrc}\n          style={{\n            height: \"786px\",\n            maxWidth: \"800px\",\n            width: \"100%\",\n            border: \"0\",\n          }}\n          scrolling=\"no\"\n          title=\"SofaScore Lineups\"\n        ></iframe>\n        <div\n          style={{ fontSize: \"12px\", fontFamily: \"Open Sans, sans-serif\" }}\n        ></div>\n      </div>\n    );\n  } else if (minutes < 0) {\n    return (\n      <div>\n        <div className=\"CurrentScore\">Score: {`${team1}: ${homeGoals} - ${team2}: ${awayGoals}`}</div>\n        <span>Score not live updated</span>\n        <h6 className=\"AttackingMomentum\">Live attacking momentum and goals</h6>\n        <iframe\n          width=\"100%\"\n          height=\"286\"\n          src={`https://widgets.sofascore.com/embed/attackMomentum?id=${id}&widgetTheme=light`}\n          frameborder=\"0\"\n          scrolling=\"no\"\n        ></iframe>\n        <div\n          style={{ fontSize: \"12px\", fontFamily: \"Open Sans, sans-serif\" }}\n        ></div>\n        <h6>Lineups and in-play ratings</h6>\n        <iframe\n          id={`sofa-lineups-embed-${id}`}\n          src={iframeSrc}\n          style={{\n            height: \"786px\",\n            maxWidth: \"800px\",\n            width: \"100%\",\n            border: \"0\",\n          }}\n          scrolling=\"no\"\n          title=\"SofaScore Lineups\"\n        ></iframe>\n        <div\n          style={{ fontSize: \"12px\", fontFamily: \"Open Sans, sans-serif\" }}\n        ></div>\n      </div>\n    );\n  }\n  else {\n    return <h6>{`Lineups coming in approximately ${minutes - 60} minutes`}</h6>;\n  }\n};\n\n\nSofaLineupsWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  team1: PropTypes.string.isRequired,\n  team2: PropTypes.string.isRequired,\n};\n\nexport default SofaLineupsWidget;\n","/Users/gregdorward/Development/football-predictions/src/components/TeamOfTheWeek.js",[],"/Users/gregdorward/Development/football-predictions/src/components/TeamOfTheSeason.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Logo.js",[],"/Users/gregdorward/Development/football-predictions/src/components/PreviousGames.js",[],"/Users/gregdorward/Development/football-predictions/src/components/CollapsableStats.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Contact.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Success.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Cancel.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/authProvider.js",[],"/Users/gregdorward/Development/football-predictions/src/firebase.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Login.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/hasUserPaid.js",[],"/Users/gregdorward/Development/football-predictions/src/components/ProtectedContent.js",[],"/Users/gregdorward/Development/football-predictions/src/components/ResetPasswordPage.js",[],"/Users/gregdorward/Development/football-predictions/src/components/PasswordReset.js",[],"/Users/gregdorward/Development/football-predictions/src/components/CancelSubscription.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Under25.js",[],"/Users/gregdorward/Development/football-predictions/src/components/Over25.js",[],"/Users/gregdorward/Development/football-predictions/src/logic/getStatsInsights.js",[],"/Users/gregdorward/Development/football-predictions/src/components/HighestScoringTeams.js",[],"/Users/gregdorward/Development/football-predictions/src/components/HighestScoringFixtures.js",[],"/Users/gregdorward/Development/football-predictions/src/components/BTTSFixtures.js",[],"/Users/gregdorward/Development/football-predictions/src/components/BTTSTeams.js",[],"/Users/gregdorward/Development/football-predictions/src/components/GameStats.js",["401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453"],"import React, {\n  useState,\n  useEffect,\n  Fragment,\n  useCallback,\n  useMemo,\n} from \"react\";\n// import ReactDOM from \"react-dom\";\nimport { Button } from \"./Button\";\nimport SofaLineupsWidget from \"./SofaScore\";\nimport Div from \"./Div\";\nimport {\n  Chart,\n  MultilineChart,\n  RadarChart,\n  BarChart,\n  BarChartTwo,\n  DoughnutChart,\n} from \"./Chart\";\nimport MultiTypeChart from \"./MultitypeChart\"; // Adjust the path if necessary\nimport { Slider } from \"../components/CarouselXGChart\";\nimport Collapsable from \"../components/CollapsableElement\";\nimport Stats from \"../components/createStatsDiv\";\nimport { allLeagueResultsArrayOfObjects } from \"../logic/getFixtures\";\nimport { userDetail } from \"../logic/authProvider\";\nimport { clicked, getPointsFromLastX } from \"../logic/getScorePredictions\";\nimport { arrayOfGames } from \"../logic/getFixtures\";\nimport GenerateFormSummary from \"../logic/compareFormTrend\";\n\nimport { getTeamStats } from \"../logic/getTeamStats\";\nimport { checkUserPaidStatus } from \"../logic/hasUserPaid\";\nimport { getPointAverage } from \"../logic/getStats\";\nimport { allForm } from \"../logic/getFixtures\";\n\nimport {\n  calculateAttackingStrength,\n  calculateDefensiveStrength,\n  calculateMetricStrength,\n} from \"../logic/getStats\";\nimport finalPropsSelectorFactory from \"react-redux/es/connect/selectorFactory\";\nimport { dynamicDate } from \"../logic/getFixtures\";\nexport let userTips;\nlet setUserTips;\n// let id, team1, team2, timestamp, homeGoals, awayGoals;\n\nfunction GameStats({ game, displayBool }) {\n  function styling(testBool) {\n    let bool = testBool;\n    if (bool === true && clicked === true) {\n      // set stats element to display flex\n      return { display: \"block\" };\n    } else {\n      // set stats element to display none\n      return { display: \"none\" };\n    }\n  }\n  let style = styling(displayBool);\n\n  // State Variables\n  [userTips, setUserTips] = useState(() => {\n    const savedTips = localStorage.getItem(\"userTips\");\n    return savedTips ? JSON.parse(savedTips) : [];\n  });\n  // Save to localStorage whenever userTips changes\n  useEffect(() => {\n    localStorage.setItem(\"userTips\", JSON.stringify(userTips));\n  }, [userTips]);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [aiMatchPreview, setAiMatchPreview] = useState(null);\n  const [paid, setPaid] = useState(false);\n  const [hasCompleteData, setHasCompleteData] = useState(false);\n  //   const [homeForm, setHomeForm] = useState(null);\n  //   const [awayForm, setAwayForm] = useState(null);\n  let gameStats = allForm.find((match) => match.id === game.id);\n  const homeForm = gameStats?.home[2];\n  const awayForm = gameStats?.away[2];\n\n  //   const [id, setId] = useState(\"0\");\n  //   const [team1, setTeam1] = useState(\"N/A\");\n  //   const [team2, setTeam2] = useState(\"N/A\");\n  //   const [time, setTime] = useState(1);\n  //   const [timestamp, setTimestamp] = useState(1);\n  //   const [homeGoals, setHomeGoals] = useState(\"-\");\n  //   const [awayGoals, setAwayGoals] = useState(\"-\");\n  //   const [rollingGoalDiffTotalHome, setRollingGoalDiffTotalHome] = useState([]);\n  //   const [rollingGoalDiffTotalAway, setRollingGoalDiffTotalAway] = useState([]);\n  //   const [rollingXGDiffTotalHome, setRollingXGDiffTotalHome] = useState([]);\n  //   const [rollingXGDiffTotalAway, setRollingXGDiffTotalAway] = useState([]);\n\n  // These need to be declared *outside* the `if` block\n  //   const [formDataHome, setFormDataHome] = useState([]);\n  //   const [formDataAway, setFormDataAway] = useState([]);\n  const [matchingGame, setMatchingGame] = useState(null); // State for the game\n  const [formSummaries, setFormSummary] = useState([]);\n  const [id, setId] = useState(\"0\");\n  const [team1, setTeam1] = useState(\"N/A\");\n  const [team2, setTeam2] = useState(\"N/A\");\n  const [timestamp, setTimestamp] = useState(1);\n  const [homeGoals, setHomeGoals] = useState(\"-\");\n  const [awayGoals, setAwayGoals] = useState(\"-\");\n  const [homeXGRating, setHomeXGRating] = useState(0);\n  const [awayXGRating, setAwayXGRating] = useState(0);\n  const [homeAttackStrength, setHomeAttackStrength] = useState(0);\n  const [homeDefenceStrength, setHomeDefenceStrength] = useState(0);\n  const [homePossessionStrength, setHomePossessionStrength] = useState(0);\n  const [homeXGForStrength, setHomeXGForStrength] = useState(0);\n  const [homeXGAgainstStrength, setHomeXGAgainstStrength] = useState(0);\n  const [homeDirectnessStrength, setHomeDirectnessStrength] = useState(0);\n  const [homeAccuracyOverallStrength, setHomeAccuracyOverallStrength] =\n    useState(0);\n  const [awayAttackStrength, setAwayAttackStrength] = useState(0);\n  const [awayDefenceStrength, setAwayDefenceStrength] = useState(0);\n  const [awayPossessionStrength, setAwayPossessionStrength] = useState(0);\n  const [awayXGForStrength, setAwayXGForStrength] = useState(0);\n  const [awayXGAgainstStrength, setAwayXGAgainstStrength] = useState(0);\n  const [awayDirectnessStrength, setAwayDirectnessStrength] = useState(0);\n  const [awayAccuracyOverallStrength, setAwayAccuracyOverallStrength] =\n    useState(0);\n  //   const [formArrayHome, setFormArrayHome] = useState([]);\n  //   const [formArrayAway, setFormArrayAway] = useState([]);\n  //   const [chartType, setChartType] = useState(\"\");\n  const [rollingSOTDiffTotalHome, setRollingSOTDiffTotalHome] = useState([]);\n  const [similarGamesHome, setSimilarGamesHome] = useState([]);\n  const [similarGamesAway, setSimilarGamesAway] = useState([]);\n\n  const [homeFiveGameAverage, setHomeFiveGameAverage] = useState(0);\n  const [homeSixGameAverage, setHomeSixGameAverage] = useState(0);\n  const [homeTenGameAverage, setHomeTenGameAverage] = useState(0);\n  const [awayFiveGameAverage, setAwayFiveGameAverage] = useState(0);\n  const [awaySixGameAverage, setAwaySixGameAverage] = useState(0);\n  const [awayTenGameAverage, setAwayTenGameAverage] = useState(0);\n  const [homeAttackStrengthLast5, setHomeAttackStrengthLast5] = useState(\n    homeForm?.attackingStrengthLast5 || null\n  );\n  const [homeOnlyAttackStrength, setHomeOnlyAttackStrength] = useState(\n    homeForm?.attackingStrengthHomeOnly || null\n  );\n  const [homeDefenceStrengthLast5, setHomeDefenceStrengthLast5] = useState(\n    homeForm?.defensiveStrengthLast5 || null\n  );\n  const [homeOnlyDefenceStrength, setHomeOnlyDefenceStrength] = useState(\n    homeForm?.defensiveStrengthHomeOnly || null\n  );\n  const [homePossessionStrengthLast5, setHomePossessionStrengthLast5] =\n    useState(homeForm?.possessionStrengthLast5 || null);\n  const [homeOnlyPossessionStrength, setHomeOnlyPossessionStrength] = useState(\n    homeForm?.possessionStrengthHomeOnly || null\n  );\n  const [homeXGForStrengthLast5, setHomeXGForStrengthLast5] = useState(\n    homeForm?.xgForStrengthLast5 || null\n  );\n  const [homeOnlyXGForStrength, setHomeOnlyXGForStrength] = useState(\n    homeForm?.xgForStrengthHomeOnly || null\n  );\n  const [homeXGAgainstStrengthLast5, setHomeXGAgainstStrengthLast5] = useState(\n    homeForm?.xgAgainstStrengthLast5 || null\n  );\n  const [homeOnlyXGAgainstStrength, setHomeOnlyXGAgainstStrength] = useState(\n    homeForm?.xgAgainstStrengthHomeOnly || null\n  );\n  const [homeDirectnessStrengthLast5, setHomeDirectnessStrengthLast5] =\n    useState(homeForm?.directnessOverallStrengthLast5 || null);\n  const [homeOnlyDirectnessStrength, setHomeOnlyDirectnessStrength] = useState(\n    homeForm?.directnessHomeStrength || null\n  );\n  const [\n    homeAccuracyOverallStrengthLast5,\n    setHomeAccuracyOverallStrengthLast5,\n  ] = useState(homeForm?.accuracyOverallStrengthLast5 || null);\n  const [homeOnlyAccuracyOverallStrength, setHomeOnlyAccuracyOverallStrength] =\n    useState(homeForm?.accuracyHomeStrength || null);\n  const [awayAttackStrengthLast5, setAwayAttackStrengthLast5] = useState(\n    awayForm?.attackingStrengthLast5 || null\n  );\n  const [awayOnlyAttackStrength, setAwayOnlyAttackStrength] = useState(\n    awayForm?.attackingStrengthAwayOnly || null\n  );\n  const [awayDefenceStrengthLast5, setAwayDefenceStrengthLast5] = useState(\n    awayForm?.defensiveStrengthLast5 || null\n  );\n  const [awayOnlyDefenceStrength, setAwayOnlyDefenceStrength] = useState(\n    awayForm?.defensiveStrengthAwayOnly || null\n  );\n  const [awayPossessionStrengthLast5, setAwayPossessionStrengthLast5] =\n    useState(awayForm?.possessionStrengthLast5 || null);\n  const [awayOnlyPossessionStrength, setAwayOnlyPossessionStrength] = useState(\n    awayForm?.possessionStrengthAwayOnly || null\n  );\n  const [awayXGForStrengthLast5, setAwayXGForStrengthLast5] = useState(\n    awayForm?.xgForStrengthLast5 || null\n  );\n  const [awayOnlyXGForStrength, setAwayOnlyXGForStrength] = useState(\n    awayForm?.xgForStrengthAwayOnly || null\n  );\n  const [awayXGAgainstStrengthLast5, setAwayXGAgainstStrengthLast5] = useState(\n    awayForm?.xgAgainstStrengthLast5 || null\n  );\n  const [awayOnlyXGAgainstStrength, setAwayOnlyXGAgainstStrength] = useState(\n    awayForm?.xgAgainstStrengthAwayOnly || null\n  );\n  const [awayDirectnessStrengthLast5, setAwayDirectnessStrengthLast5] =\n    useState(awayForm?.directnessOverallStrengthLast5 || null);\n  const [awayOnlyDirectnessStrength, setAwayOnlyDirectnessStrength] = useState(\n    awayForm?.directnessAwayStrength || null\n  );\n  const [\n    awayAccuracyOverallStrengthLast5,\n    setAwayAccuracyOverallStrengthLast5,\n  ] = useState(awayForm?.accuracyOverallStrengthLast5 || null);\n  const [awayOnlyAccuracyOverallStrength, setAwayOnlyAccuracyOverallStrength] =\n    useState(awayForm?.accuracyAwayStrength || null);\n\n  const [gameArrayHomeTeamHomeGames, setGameArrayHomeTeamHomeGames] = useState(\n    []\n  );\n  const [gameArrayAwayTeamAwayGames, setGameArrayAwayTeamAwayGames] = useState(\n    []\n  );\n\n  const allResultsHome = useMemo(() => {\n    return [...homeForm.allTeamResults].sort((b, a) => b.dateRaw - a.dateRaw);\n  }, [homeForm.allTeamResults]); // Only re-sort if homeForm.allTeamResults changes\n\n  const homeResults = useMemo(() => {\n    return [...homeForm.homeResults].sort((b, a) => b.dateRaw - a.dateRaw);\n  }, [homeForm.homeResults]); // Only re-sort if homeForm.homeResults changes\n\n  const allResultsAway = useMemo(() => {\n    // Assuming awayForm.allTeamResults is an array\n    return [...awayForm.allTeamResults].sort((b, a) => b.dateRaw - a.dateRaw);\n  }, [awayForm.allTeamResults]);\n\n  const awayResults = useMemo(() => {\n    return [...awayForm.awayResults].sort((b, a) => b.dateRaw - a.dateRaw);\n  }, [awayForm.awayResults]); // Only re-sort if awayForm.awayResults changes\n\n  // Memoize the derived arrays\n  const goalDiffArrayHome = useMemo(() => {\n    return allResultsHome.map((a) => a.scored - a.conceeded);\n  }, [allResultsHome]);\n\n  const xgDiffArrayHome = allResultsHome.map((a) => a.XG - a.XGAgainst);\n  const xgDiffArrayAway = allResultsAway.map((a) => a.XG - a.XGAgainst);\n\n  const rollingGoalDiffTotalHome = useMemo(() => {\n    return goalDiffArrayHome.map(\n      (\n        (sum) => (value) =>\n          (sum += value)\n      )(0)\n    );\n  }, [goalDiffArrayHome]);\n\n  const rollingXGDiffTotalHome = xgDiffArrayHome.map(\n    (\n      (sum) => (value) =>\n        (sum += value)\n    )(0)\n  );\n\n  const goalDiffArrayHomeOnly = useMemo(() => {\n    return homeResults.map((a) => a.scored - a.conceeded);\n  }, [homeResults]);\n\n  const goalDiffArrayAwayOnly = useMemo(() => {\n    return awayResults.map((a) => a.scored - a.conceeded);\n  }, [awayResults]);\n\n  const xgDiffArrayHomeOnly = useMemo(() => {\n    return homeResults.map((a) => a.XG - a.XGAgainst);\n  }, [homeResults]);\n\n  const xgDiffArrayAwayOnly = useMemo(() => {\n    return awayResults.map((a) => a.XG - a.XGAgainst);\n  }, [awayResults]);\n\n  const rollingGoalDiffTotalHomeOnly = useMemo(() => {\n    return goalDiffArrayHomeOnly.map(\n      (\n        (sum) => (value) =>\n          (sum += value)\n      )(0)\n    );\n  }, [goalDiffArrayHomeOnly]);\n\n  const rollingXGDiffTotalHomeOnly = useMemo(() => {\n    return xgDiffArrayHomeOnly.map(\n      (\n        (sum) => (value) =>\n          (sum += value)\n      )(0)\n    );\n  }, [xgDiffArrayHomeOnly]);\n\n  const goalDiffArrayAway = useMemo(() => {\n    return allResultsAway.map((a) => a.scored - a.conceeded);\n  }, [allResultsAway]);\n\n  const rollingGoalDiffTotalAway = goalDiffArrayAway.map(\n    (\n      (sum) => (value) =>\n        (sum += value)\n    )(0)\n  );\n\n  const rollingXGDiffTotalAway = xgDiffArrayAway.map(\n    (\n      (sum) => (value) =>\n        (sum += value)\n    )(0)\n  );\n\n  const rollingGoalDiffTotalAwayOnly = useMemo(() => {\n    return goalDiffArrayAwayOnly.map(\n      (\n        (sum) => (value) =>\n          (sum += value)\n      )(0)\n    );\n  }, [goalDiffArrayAwayOnly]);\n\n  const rollingXGDiffTotalAwayOnly = useMemo(() => {\n    return xgDiffArrayAwayOnly.map(\n      (\n        (sum) => (value) =>\n          (sum += value)\n      )(0)\n    );\n  }, [xgDiffArrayAwayOnly]);\n\n  //It is unlikely that slice will be an array without useMemo, so you need to ensure it works for all relevant ones.\n  const rollingGoalDiffTotalHomeLast5 = useMemo(() => {\n    return goalDiffArrayHome\n      .slice(Math.max(goalDiffArrayHome.length - 5, 0))\n      .map(\n        (\n          (sum) => (value) =>\n            (sum += value)\n        )(0)\n      );\n  }, [goalDiffArrayHome]);\n\n  const rollingXGDiffTotalHomeLast5 = useMemo(() => {\n    return xgDiffArrayHome.slice(Math.max(xgDiffArrayHome.length - 5, 0)).map(\n      (\n        (sum) => (value) =>\n          (sum += value)\n      )(0)\n    );\n  }, [xgDiffArrayHome]);\n\n  const rollingGoalDiffTotalAwayLast5 = useMemo(() => {\n    return goalDiffArrayAway\n      .slice(Math.max(goalDiffArrayAway.length - 5, 0))\n      .map(\n        (\n          (sum) => (value) =>\n            (sum += value)\n        )(0)\n      );\n  }, [goalDiffArrayAway]);\n\n  const rollingXGDiffTotalAwayLast5 = useMemo(() => {\n    return xgDiffArrayAway.slice(Math.max(xgDiffArrayAway.length - 5, 0)).map(\n      (\n        (sum) => (value) =>\n          (sum += value)\n      )(0)\n    );\n  }, [xgDiffArrayAway]);\n\n  const [firstRenderDone, setFirstRenderDone] = useState(false);\n  const [divider, setDivider] = useState(0);\n  const gameArrayHome = [];\n  const gameArrayAway = [];\n  // const allResultsHome = homeForm.allTeamResults.sort((b, a) => b.dateRaw - a.dateRaw);\n  // const homeResults = homeForm.homeResults.sort((b, a) => b.dateRaw - a.dateRaw);\n  // const allResultsAway = awayForm.allTeamResults.sort((b, a) => a.dateRaw - b.dateRaw);\n  // const awayResults = awayForm.awayResults.sort((b, a) => b.dateRaw - a.dateRaw);\n  let ref;\n\n  const pos = allLeagueResultsArrayOfObjects\n    .map((i) => i.id)\n    .indexOf(gameStats.leagueId);\n  let matches = allLeagueResultsArrayOfObjects[pos];\n  const resultHome = matches.fixtures.filter(\n    (game) =>\n      game.home_name === gameStats.home.teamName ||\n      game.away_name === gameStats.home.teamName\n  );\n\n  const resultHomeOnly = matches.fixtures.filter(\n    (game) => game.home_name === gameStats.home.teamName\n  );\n\n  resultHome.sort((a, b) => b.date_unix - a.date_unix);\n  resultHomeOnly.sort((a, b) => b.date_unix - a.date_unix);\n\n  const resultAway = matches.fixtures.filter(\n    (game) =>\n      game.away_name === gameStats.away.teamName ||\n      game.home_name === gameStats.away.teamName\n  );\n\n  const resultAwayOnly = matches.fixtures.filter(\n    (game) => game.away_name === gameStats.away.teamName\n  );\n\n  // let formTextStringHome\n  // let formTextStringAway\n\n  resultAway.sort((a, b) => b.date_unix - a.date_unix);\n  resultAwayOnly.sort((a, b) => b.date_unix - a.date_unix);\n\n  for (let i = 0; i < resultHome.length; i++) {\n    let unixTimestamp = resultHome[i].date_unix;\n    let milliseconds = unixTimestamp * 1000;\n    let dateObject = new Date(milliseconds).toLocaleString(\"en-GB\", {\n      timeZone: \"UTC\",\n    });\n\n    let won;\n    let goalsScored;\n    let goalsConceeded;\n\n    switch (true) {\n      case resultHome[i].home_name === gameStats.home.teamName:\n        switch (true) {\n          case resultHome[i].homeGoalCount > resultHome[i].awayGoalCount:\n            won = \"W\";\n            goalsScored = resultHome[i].homeGoalCount;\n            goalsConceeded = resultHome[i].awayGoalCount;\n            break;\n          case resultHome[i].homeGoalCount === resultHome[i].awayGoalCount:\n            won = \"D\";\n            goalsScored = resultHome[i].homeGoalCount;\n            goalsConceeded = resultHome[i].awayGoalCount;\n            break;\n          case resultHome[i].homeGoalCount < resultHome[i].awayGoalCount:\n            won = \"L\";\n            goalsScored = resultHome[i].homeGoalCount;\n            goalsConceeded = resultHome[i].awayGoalCount;\n            break;\n          default:\n            break;\n        }\n        break;\n      case resultHome[i].away_name === gameStats.home.teamName:\n        switch (true) {\n          case resultHome[i].homeGoalCount > resultHome[i].awayGoalCount:\n            won = \"L\";\n            goalsScored = resultHome[i].homeGoalCount;\n            goalsConceeded = resultHome[i].awayGoalCount;\n            break;\n          case resultHome[i].homeGoalCount === resultHome[i].awayGoalCount:\n            won = \"D\";\n            goalsScored = resultHome[i].homeGoalCount;\n            goalsConceeded = resultHome[i].awayGoalCount;\n            break;\n          case resultHome[i].homeGoalCount < resultHome[i].awayGoalCount:\n            won = \"W\";\n            goalsScored = resultHome[i].homeGoalCount;\n            goalsConceeded = resultHome[i].awayGoalCount;\n            break;\n          default:\n            break;\n        }\n        break;\n      default:\n        break;\n    }\n\n    gameArrayHome.push({\n      id: resultHome[i].id,\n      date: dateObject,\n      homeTeam: resultHome[i].home_name,\n      homeGoals: resultHome[i].homeGoalCount,\n      homeXG: resultHome[i].team_a_xg,\n      homeOdds: resultHome[i].odds_ft_1,\n      awayTeam: resultHome[i].away_name,\n      awayGoals: resultHome[i].awayGoalCount,\n      awayXG: resultHome[i].team_b_xg,\n      awayOdds: resultHome[i].odds_ft_2,\n      won: won,\n      homeShots: resultHome[i].team_a_shots,\n      awayShots: resultHome[i].team_b_shots,\n      homeSot: resultHome[i].team_a_shotsOnTarget,\n      awaySot: resultHome[i].team_b_shotsOnTarget,\n      homeRed: resultHome[i].team_a_red_cards,\n      awayRed: resultHome[i].team_b_red_cards,\n      homePossession: resultHome[i].team_a_possession,\n      awayPossession: resultHome[i].team_b_possession,\n      homeDangerousAttacks: resultHome[i].team_a_dangerous_attacks,\n      awayDangerousAttacks: resultHome[i].team_b_dangerous_attacks,\n      homePPG: resultHome[i].pre_match_teamA_overall_ppg,\n      awayPPG: resultHome[i].pre_match_teamB_overall_ppg,\n      unixTimestamp: resultHome[i].date_unix,\n      goalsFor: goalsScored,\n      goalsAgainst: goalsConceeded,\n      btts:\n        resultHome[i].homeGoalCount > 0 && resultHome[i].awayGoalCount > 0\n          ? \"\\u2714\"\n          : \"\\u2718\",\n    });\n  }\n\n  for (let i = 0; i < resultHomeOnly.length; i++) {\n    let wonHomeOrAwayOnly;\n\n    switch (true) {\n      case resultHomeOnly[i].home_name === gameStats.home.teamName:\n        switch (true) {\n          case resultHomeOnly[i].homeGoalCount >\n            resultHomeOnly[i].awayGoalCount:\n            wonHomeOrAwayOnly = \"W\";\n            gameArrayHomeTeamHomeGames.push(wonHomeOrAwayOnly);\n            break;\n          case resultHomeOnly[i].homeGoalCount ===\n            resultHomeOnly[i].awayGoalCount:\n            wonHomeOrAwayOnly = \"D\";\n            gameArrayHomeTeamHomeGames.push(wonHomeOrAwayOnly);\n            break;\n          case resultHomeOnly[i].homeGoalCount <\n            resultHomeOnly[i].awayGoalCount:\n            wonHomeOrAwayOnly = \"L\";\n            gameArrayHomeTeamHomeGames.push(wonHomeOrAwayOnly);\n            break;\n          default:\n            break;\n        }\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  for (let i = 0; i < resultAway.length; i++) {\n    let unixTimestamp = resultAway[i].date_unix;\n    let milliseconds = unixTimestamp * 1000;\n    let dateObject = new Date(milliseconds).toLocaleString(\"en-GB\", {\n      timeZone: \"UTC\",\n    });\n\n    let won;\n    let goalsScored;\n    let goalsConceeded;\n\n    switch (true) {\n      case resultAway[i].home_name === gameStats.away.teamName:\n        switch (true) {\n          case resultAway[i].homeGoalCount > resultAway[i].awayGoalCount:\n            won = \"W\";\n            goalsScored = resultAway[i].awayGoalCount;\n            goalsConceeded = resultAway[i].homeGoalCount;\n            break;\n          case resultAway[i].awayGoalCount === resultAway[i].homeGoalCount:\n            won = \"D\";\n            goalsScored = resultAway[i].awayGoalCount;\n            goalsConceeded = resultAway[i].homeGoalCount;\n            break;\n          case resultAway[i].homeGoalCount < resultAway[i].awayGoalCount:\n            won = \"L\";\n            goalsScored = resultAway[i].awayGoalCount;\n            goalsConceeded = resultAway[i].homeGoalCount;\n            break;\n          default:\n            break;\n        }\n        break;\n\n      case resultAway[i].away_name === gameStats.away.teamName:\n        switch (true) {\n          case resultAway[i].homeGoalCount > resultAway[i].awayGoalCount:\n            won = \"L\";\n            goalsScored = resultAway[i].awayGoalCount;\n            goalsConceeded = resultAway[i].homeGoalCount;\n            break;\n          case resultAway[i].homeGoalCount === resultAway[i].awayGoalCount:\n            won = \"D\";\n            goalsScored = resultAway[i].awayGoalCount;\n            goalsConceeded = resultAway[i].homeGoalCount;\n            break;\n          case resultAway[i].homeGoalCount < resultAway[i].awayGoalCount:\n            won = \"W\";\n            goalsScored = resultAway[i].awayGoalCount;\n            goalsConceeded = resultAway[i].homeGoalCount;\n            break;\n          default:\n            break;\n        }\n        break;\n      default:\n        break;\n    }\n\n    gameArrayAway.push({\n      id: resultAway[i].id,\n      date: dateObject,\n      homeTeam: resultAway[i].home_name,\n      homeGoals: resultAway[i].homeGoalCount,\n      homeXG: resultAway[i].team_a_xg,\n      homeOdds: resultAway[i].odds_ft_1,\n      awayTeam: resultAway[i].away_name,\n      awayGoals: resultAway[i].awayGoalCount,\n      awayXG: resultAway[i].team_b_xg,\n      awayOdds: resultAway[i].odds_ft_2,\n      won: won,\n      homeShots: resultAway[i].team_a_shots,\n      awayShots: resultAway[i].team_b_shots,\n      homeSot: resultAway[i].team_a_shotsOnTarget,\n      awaySot: resultAway[i].team_b_shotsOnTarget,\n      homeRed: resultAway[i].team_a_red_cards,\n      awayRed: resultAway[i].team_b_red_cards,\n      homePossession: resultAway[i].team_a_possession,\n      awayPossession: resultAway[i].team_b_possession,\n      homeDangerousAttacks: resultAway[i].team_a_dangerous_attacks,\n      awayDangerousAttacks: resultAway[i].team_b_dangerous_attacks,\n      homePPG: resultAway[i].pre_match_teamA_overall_ppg,\n      awayPPG: resultAway[i].pre_match_teamB_overall_ppg,\n      unixTimestamp: resultAway[i].date_unix,\n      goalsFor: goalsScored,\n      goalsAgainst: goalsConceeded,\n      btts:\n        resultAway[i].homeGoalCount > 0 && resultAway[i].awayGoalCount > 0\n          ? \"\\u2714\"\n          : \"\\u2718\",\n    });\n  }\n\n  for (let i = 0; i < resultAwayOnly.length; i++) {\n    let wonAwayOrAwayOnly;\n\n    switch (true) {\n      case resultAwayOnly[i].away_name === gameStats.away.teamName:\n        switch (true) {\n          case resultAwayOnly[i].awayGoalCount >\n            resultAwayOnly[i].homeGoalCount:\n            wonAwayOrAwayOnly = \"W\";\n            gameArrayAwayTeamAwayGames.push(wonAwayOrAwayOnly);\n            break;\n          case resultAwayOnly[i].awayGoalCount ===\n            resultAwayOnly[i].homeGoalCount:\n            wonAwayOrAwayOnly = \"D\";\n            gameArrayAwayTeamAwayGames.push(wonAwayOrAwayOnly);\n            break;\n          case resultAwayOnly[i].awayGoalCount <\n            resultAwayOnly[i].homeGoalCount:\n            wonAwayOrAwayOnly = \"L\";\n            gameArrayAwayTeamAwayGames.push(wonAwayOrAwayOnly);\n            break;\n          default:\n            break;\n        }\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  // goalDiffArrayHome = allResultsHome.map(\n  //   (a) => a.scored - a.conceeded\n  // );\n  // xgDiffArrayHome = allResultsHome.map((a) => a.XG - a.XGAgainst);\n  // console.log(xgDiffArrayHome)\n\n  // goalDiffArrayHomeOnly = homeResults.map(\n  //   (a) => a.scored - a.conceeded\n  // );\n  // xgDiffArrayHomeOnly = homeResults.map((a) => a.XG - a.XGAgainst);\n\n  // rollingGoalDiffTotalHome = goalDiffArrayHome.map(\n  //   (\n  //     (sum) => (value) =>\n  //       (sum += value)\n  //   )(0)\n  // );\n\n  // rollingGoalDiffTotalHomeLast5 = goalDiffArrayHome.slice(0,5).map(\n  //     (\n  //       (sum) => (value) =>\n  //         (sum += value)\n  //     )(0)\n  //   );\n\n  // rollingXGDiffTotalHome = xgDiffArrayHome.slice(0,5).map(\n  //   (\n  //     (sum) => (value) =>\n  //       (sum += value)\n  //   )(0)\n  // );\n\n  // rollingXGDiffTotalHomeLast5 = xgDiffArrayHome.slice(0,5)\n  //   .map(\n  //     (\n  //       (sum) => (value) =>\n  //         (sum += value)\n  //     )(0)\n  //   );\n\n  //   console.log(xgDiffArrayHome)\n  //   console.log(rollingXGDiffTotalHomeLast5)\n\n  // goalDiffArrayAway = allResultsAway.map(\n  //   (a) => a.scored - a.conceeded\n  // );\n\n  // rollingGoalDiffTotalHomeOnly = goalDiffArrayHomeOnly.map(\n  //   (\n  //     (sum) => (value) =>\n  //       (sum += value)\n  //   )(0)\n  // );\n  // rollingXGDiffTotalHomeOnly = xgDiffArrayHomeOnly.map(\n  //   (\n  //     (sum) => (value) =>\n  //       (sum += value)\n  //   )(0)\n  // );\n\n  // xgDiffArrayAway = allResultsAway.map((a) => a.XG - a.XGAgainst);\n\n  // goalDiffArrayAwayOnly = awayResults.map(\n  //   (a) => a.scored - a.conceeded\n  // );\n  // xgDiffArrayAwayOnly = awayResults.map((a) => a.XG - a.XGAgainst);\n\n  // rollingGoalDiffTotalAway = goalDiffArrayAway.map(\n  //   (\n  //     (sum) => (value) =>\n  //       (sum += value)\n  //   )(0)\n  // );\n\n  // console.log(xgDiffArrayAway)\n\n  // rollingGoalDiffTotalAwayLast5 = goalDiffArrayAway\n  //   .slice(0, 5)\n  //   .map(\n  //     (\n  //       (sum) => (value) =>\n  //         (sum += value)\n  //     )(0)\n  //   );\n\n  // rollingXGDiffTotalAway = xgDiffArrayAway.map(\n  //   (\n  //     (sum) => (value) =>\n  //       (sum += value)\n  //   )(0)\n  // );\n\n  // rollingXGDiffTotalAwayLast5 = xgDiffArrayAway\n  //   .slice(0, 5)\n  //   .map(\n  //     (\n  //       (sum) => (value) =>\n  //         (sum += value)\n  //     )(0)\n  //   );\n\n  // rollingGoalDiffTotalAwayOnly = goalDiffArrayAwayOnly.map(\n  //   (\n  //     (sum) => (value) =>\n  //       (sum += value)\n  //   )(0)\n  // );\n  // rollingXGDiffTotalAwayOnly = xgDiffArrayAwayOnly.map(\n  //   (\n  //     (sum) => (value) =>\n  //       (sum += value)\n  //   )(0)\n  // );\n\n  async function getGameIdByHomeTeam(games, homeTeamName) {\n    const matchingGames = games.filter((game) =>\n      game.homeTeam.includes(homeTeamName)\n    );\n    if (matchingGames.length > 0) {\n      return matchingGames[0];\n    } else {\n      return null; // or any other value you prefer to return if no match is found\n    }\n  }\n\n  function isBeforeTimestamp(targetTimestamp) {\n    const currentTimestamp = Math.floor(Date.now() / 1000); // Get current time in seconds\n    return currentTimestamp < targetTimestamp;\n  }\n\n  async function getRefStats(refId, compId) {\n    try {\n      const response = await fetch(\n        `${process.env.REACT_APP_EXPRESS_SERVER}referee/${refId}`\n      );\n\n      if (!response.ok) {\n        // Handle HTTP errors (e.g., 404, 500)\n        console.error(`HTTP error! Status: ${response.status}`);\n        return null; // Or throw an error to be caught later\n      }\n\n      const refData = await response.json(); // Parse the JSON response\n\n      // Access the array within the 'data' property\n      const dataArray = refData.data;\n\n      if (!Array.isArray(dataArray)) {\n        console.error(\"Error: Expected 'data' property to be an array.\");\n        return null;\n      }\n\n      // Find the object with the matching competition_id\n      const filteredObject = dataArray.find(\n        (item) => item.competition_id === compId\n      );\n\n      const distilledRefData = {\n        appearances_overall: filteredObject.appearances_overall,\n        full_name: filteredObject.full_name,\n        cards_per_match_overall: filteredObject.cards_per_match_overall,\n        goals_per_match_overall: filteredObject.goals_per_match_overall,\n        min_per_card_overall: filteredObject.min_per_card_overall,\n        nationality: filteredObject.nationality,\n        over25_cards_percentage_overall:\n          filteredObject.over25_cards_percentage_overall,\n        over35_cards_percentage_overall:\n          filteredObject.over35_cards_percentage_overall,\n        penalties_given_per_match_overall:\n          filteredObject.penalties_given_per_match_overall,\n        red_cards_overall: filteredObject.red_cards_overall,\n      };\n\n      return distilledRefData; // Returns the found object, or undefined if not found\n    } catch (error) {\n      console.error(\"Error fetching or processing data:\", error);\n      return null; // Or handle the error as appropriate for your application (e.g., display an error message to the user)\n    }\n  }\n\n  useEffect(() => {\n    async function fetchMatchingGame() {\n      try {\n        const gameInfo = await getGameIdByHomeTeam(arrayOfGames, game.homeTeam);\n        setMatchingGame(gameInfo);\n      } catch (error) {\n        console.error(\"Error fetching game info:\", error);\n      }\n    }\n\n    fetchMatchingGame();\n  }, [game.homeTeam]);\n\n  useEffect(() => {\n    if (matchingGame) {\n      setId(matchingGame.id.toString());\n      setTeam1(matchingGame.homeTeam);\n      setTeam2(matchingGame.awayTeam);\n      setTimestamp(matchingGame.time);\n      setHomeGoals(matchingGame.homeGoals);\n      setAwayGoals(matchingGame.awayGoals);\n    } else {\n      setId(\"0\");\n      setTeam1(\"N/A\");\n      setTeam2(\"N/A\");\n      setTimestamp(1);\n      setHomeGoals(\"-\");\n      setAwayGoals(\"-\");\n    }\n  }, [matchingGame]); //This useEffect hook runs whenever matchingGame changes.\n\n  function singleResult(game) {\n    return (\n      <div>\n        <div className=\"ResultRowSmall\">\n          <span className=\"column\">{game.homeXG}</span>\n          <span className=\"column\">XG</span>\n          <span className=\"column\">{game.awayXG}</span>\n        </div>\n        <div className=\"ResultRowSmall\">\n          <span className=\"column\">{game.homeShots}</span>\n          <span className=\"column\">Shots</span>\n          <span className=\"column\">{game.awayShots}</span>\n        </div>\n        <div className=\"ResultRowSmall\">\n          <span className=\"column\">{game.homeSot}</span>\n          <span className=\"column\">SOT</span>\n          <span className=\"column\">{game.awaySot}</span>\n        </div>\n        <div className=\"ResultRowSmall\">\n          <span className=\"column\">{game.homeDangerousAttacks}</span>\n          <span className=\"column\">Dangerous Attacks</span>\n          <span className=\"column\">{game.awayDangerousAttacks}</span>\n        </div>\n        <div className=\"ResultRowSmall\">\n          <span className=\"column\">{game.homePossession}%</span>\n          <span className=\"column\">Possession</span>\n          <span className=\"column\">{game.awayPossession}%</span>\n        </div>\n        <div className=\"ResultRowSmall\">\n          <span className=\"column\">{game.homeRed}</span>\n          <span className=\"column\">Red cards</span>\n          <span className=\"column\">{game.awayRed}</span>\n        </div>\n        <div className=\"ResultRowSmall\">\n          <span className=\"column\">{game.homePPG}</span>\n          <span className=\"column\">PPG (pre-match)</span>\n          <span className=\"column\">{game.awayPPG}</span>\n        </div>\n      </div>\n    );\n  }\n\n  function StatsHomeComponent() {\n    if (!homeForm) return null;\n    return (\n      <div className=\"flex-childOne\">\n        <ul style={style}>\n          <Stats\n            games={\"all\"}\n            style={style}\n            homeOrAway=\"Home\"\n            gameCount={divider}\n            key={formDataHome[0].name}\n            last5={formDataHome[0].Last5}\n            // homeOrAwayResults={gameArrayHomeTeamHomeGames}\n            LeagueOrAll={formDataHome[0].LeagueOrAll}\n            className={\"KeyStatsHome\"}\n            name={formDataHome[0].name}\n            goals={homeForm.avgScored}\n            conceeded={homeForm.avgConceeded}\n            XG={homeForm.XGOverall.toFixed(2)}\n            XGConceded={homeForm.XGAgainstAvgOverall.toFixed(2)}\n            XGSwing={homeForm.XGChangeRecently}\n            possession={homeForm.AveragePossessionOverall.toFixed(2)}\n            shots={homeForm.avgShots.toFixed(2)}\n            sot={homeForm.AverageShotsOnTargetOverall.toFixed(2)}\n            dangerousAttacks={\n              homeForm.AverageDangerousAttacksOverall !== 0\n                ? homeForm.AverageDangerousAttacksOverall.toFixed(2)\n                : homeForm.AverageDangerousAttacks\n            }\n            leaguePosition={\n              homeForm.LeaguePosition !== undefined &&\n              homeForm.LeaguePosition !== \"undefined\"\n                ? formDataHome[0].leaguePosition\n                : 0\n            }\n            rawPosition={\n              game.homeRawPosition !== undefined &&\n              game.homeRawPosition !== \"undefined\"\n                ? game.homeRawPosition\n                : 0\n            }\n            homeOrAwayLeaguePosition={\n              homeForm.homePositionHomeOnly !== undefined &&\n              homeForm.homePositionHomeOnly !== \"undefined\"\n                ? homeForm.homePositionHomeOnly\n                : 0\n            }\n            winPercentage={homeForm.homePPGAv ? homeForm.homePPGAv : \"N/A\"}\n            lossPercentage={\n              game.homeTeamLossPercentage ? game.homeTeamLossPercentage : \"N/A\"\n            }\n            drawPercentage={\n              game.homeTeamDrawPercentage ? game.homeTeamDrawPercentage : \"N/A\"\n            }\n            ppg={homeForm.avPointsAll.toFixed(2)}\n            formTrend={[\n              homeTenGameAverage.toFixed(2),\n              homeSixGameAverage.toFixed(2),\n              homeFiveGameAverage.toFixed(2),\n            ]}\n            formRun={homeForm.resultsAll}\n            goalDifference={formDataHome[0].goalDifference}\n            goalDifferenceHomeOrAway={formDataHome[0].goalDifferenceHomeOrAway}\n            BttsPercentage={formDataHome[0].BttsPercentage}\n            BttsPercentageHomeOrAway={formDataHome[0].BttsPercentageHomeOrAway}\n            BTTSArray={formDataHome[0].BTTSArray}\n            Results={formDataHome[0].Results}\n            ResultsHorA={formDataHome[0].ResultsHorA}\n            CardsTotal={formDataHome[0].CardsTotal}\n            CornersAverage={homeForm.AverageCorners}\n            ScoredBothHalvesPercentage={\n              formDataHome[0].ScoredBothHalvesPercentage\n            }\n            FormTextString={formDataHome[0].FormTextStringHome}\n            FavouriteRecord={formDataHome[0].FavouriteRecord}\n            StyleOfPlay={formDataHome[0].styleOfPlayOverall}\n            StyleOfPlayHomeOrAway={formDataHome[0].styleOfPlayHome}\n          />\n        </ul>\n      </div>\n    );\n  }\n\n  // Component: StatsAway (Render Away Team Stats)\n  function StatsAwayComponent() {\n    if (!awayForm) return null;\n    return (\n      <div className=\"flex-childTwo\">\n        <ul style={style}>\n          <Stats\n            games={\"all\"}\n            style={style}\n            homeOrAway=\"Away\"\n            gameCount={divider}\n            key={formDataAway[0].name}\n            last5={formDataAway[0].Last5}\n            // homeOrAwayResults={gameArrayAwayTeamAwayGames}\n            LeagueOrAll={formDataAway[0].LeagueOrAll}\n            className={\"KeyStatsAway\"}\n            classNameTwo={\"FormStatsAway\"}\n            name={formDataAway[0].name}\n            goals={awayForm.avgScored}\n            conceeded={awayForm.avgConceeded}\n            XG={awayForm.XGOverall.toFixed(2)}\n            XGConceded={awayForm.XGAgainstAvgOverall.toFixed(2)}\n            XGSwing={awayForm.XGChangeRecently}\n            //todo add goal diff and btts percentages\n            possession={awayForm.AveragePossessionOverall.toFixed(2)}\n            rawPosition={game.awayRawPosition ? game.awayRawPosition : 0}\n            sot={awayForm.AverageShotsOnTargetOverall.toFixed(2)}\n            shots={awayForm.avgShots.toFixed(2)}\n            dangerousAttacks={\n              awayForm.AverageDangerousAttacksOverall !== 0\n                ? awayForm.AverageDangerousAttacksOverall.toFixed(2)\n                : awayForm.AverageDangerousAttacks\n            }\n            leaguePosition={\n              awayForm.LeaguePosition !== undefined &&\n              awayForm.LeaguePosition !== \"undefined\"\n                ? formDataAway[0].leaguePosition\n                : 0\n            }\n            homeOrAwayLeaguePosition={\n              awayForm.awayPositionAwayOnly !== undefined &&\n              awayForm.awayPositionAwayOnly !== \"undefinedundefined\"\n                ? awayForm.awayPositionAwayOnly\n                : 0\n            }\n            winPercentage={awayForm.awayPPGAv ? awayForm.awayPPGAv : \"N/A\"}\n            lossPercentage={\n              game.awayTeamLossPercentage ? game.awayTeamLossPercentage : \"N/A\"\n            }\n            drawPercentage={\n              game.awayTeamDrawPercentage ? game.awayTeamDrawPercentage : \"N/A\"\n            }\n            ppg={awayForm.avPointsAll.toFixed(2)}\n            formTrend={[\n              awayTenGameAverage.toFixed(2),\n              awaySixGameAverage.toFixed(2),\n              awayFiveGameAverage.toFixed(2),\n            ]}\n            formRun={awayForm.resultsAll}\n            goalDifference={formDataAway[0].goalDifference}\n            goalDifferenceHomeOrAway={formDataAway[0].goalDifferenceHomeOrAway}\n            BttsPercentage={formDataAway[0].BttsPercentage}\n            BttsPercentageHomeOrAway={formDataAway[0].BttsPercentageHomeOrAway}\n            BTTSArray={formDataAway[0].BTTSArray}\n            Results={formDataAway[0].Results}\n            ResultsHorA={formDataAway[0].ResultsHorA}\n            CardsTotal={formDataAway[0].CardsTotal}\n            CornersAverage={awayForm.AverageCorners}\n            ScoredBothHalvesPercentage={\n              formDataAway[0].ScoredBothHalvesPercentage\n            }\n            FormTextString={formDataAway[0].FormTextStringAway}\n            FavouriteRecord={formDataAway[0].FavouriteRecord}\n            StyleOfPlay={formDataAway[0].styleOfPlayOverall}\n            StyleOfPlayHomeOrAway={formDataAway[0].styleOfPlayAway}\n          />\n        </ul>\n      </div>\n    );\n  }\n\n  function StatsHomeLast5Component() {\n    if (!homeForm) return null;\n    return (\n      <div className=\"flex-childOne\">\n        <ul style={style}>\n          <Stats\n            games={\"last5\"}\n            style={style}\n            homeOrAway=\"Home\"\n            gameCount={divider}\n            key={formDataHome[0].name}\n            last5={formDataHome[0].Last5}\n            // homeOrAwayResults={gameArrayHomeTeamHomeGames}\n            LeagueOrAll={formDataHome[0].LeagueOrAll}\n            className={\"KeyStatsHome\"}\n            name={formDataHome[0].name}\n            goals={homeForm.last5Goals}\n            conceeded={homeForm.last5GoalsConceeded}\n            XG={homeForm.avXGLast5.toFixed(2)}\n            XGConceded={homeForm.avXGAgainstLast5.toFixed(2)}\n            possession={homeForm.avPosessionLast5.toFixed(2)}\n            shots={homeForm.avShotsLast5.toFixed(2)}\n            sot={homeForm.avSOTLast5.toFixed(2)}\n            dangerousAttacks={\n              homeForm.avDALast5 !== 0\n                ? homeForm.avDALast5.toFixed(2)\n                : homeForm.AverageDangerousAttacks\n            }\n            leaguePosition={\n              homeForm.LeaguePosition !== undefined &&\n              homeForm.LeaguePosition !== \"undefined\"\n                ? formDataHome[0].leaguePosition\n                : 0\n            }\n            rawPosition={\n              game.homeRawPosition !== undefined &&\n              game.homeRawPosition !== \"undefined\"\n                ? game.homeRawPosition\n                : 0\n            }\n            homeOrAwayLeaguePosition={\n              homeForm.homePositionHomeOnly !== undefined &&\n              homeForm.homePositionHomeOnly !== \"undefined\"\n                ? homeForm.homePositionHomeOnly\n                : 0\n            }\n            winPercentage={homeForm.homePPGAv ? homeForm.homePPGAv : \"N/A\"}\n            lossPercentage={\n              game.homeTeamLossPercentage ? game.homeTeamLossPercentage : \"N/A\"\n            }\n            drawPercentage={\n              game.homeTeamDrawPercentage ? game.homeTeamDrawPercentage : \"N/A\"\n            }\n            ppg={homeForm.avPoints5.toFixed(2)}\n            formTrend={[\n              homeTenGameAverage.toFixed(2),\n              homeSixGameAverage.toFixed(2),\n              homeFiveGameAverage.toFixed(2),\n            ]}\n            formRun={homeForm.resultsAll}\n            goalDifference={homeForm.last5GoalDiff}\n            BttsPercentage={homeForm.bttsLast5Percentage}\n            BTTSArray={formDataHome[0].BTTSArray}\n            Results={formDataHome[0].Results}\n            ResultsHorA={formDataHome[0].ResultsHorA}\n            CornersAverage={homeForm.last5Corners}\n            FormTextString={formDataHome[0].FormTextStringHome}\n          />\n        </ul>\n      </div>\n    );\n  }\n\n  // Component: StatsAway (Render Away Team Stats)\n  function StatsAwayLast5Component() {\n    if (!awayForm) return null;\n    return (\n      <div className=\"flex-childTwo\">\n        <ul style={style}>\n          <Stats\n            games={\"last5\"}\n            style={style}\n            homeOrAway=\"Away\"\n            gameCount={divider}\n            key={formDataAway[0].name}\n            last5={formDataAway[0].Last5}\n            // homeOrAwayResults={gameArrayAwayTeamAwayGames}\n            LeagueOrAll={formDataAway[0].LeagueOrAll}\n            className={\"KeyStatsAway\"}\n            classNameTwo={\"FormStatsAway\"}\n            name={formDataAway[0].name}\n            goals={awayForm.last5Goals}\n            conceeded={awayForm.last5GoalsConceeded}\n            XG={awayForm.avXGLast5.toFixed(2)}\n            XGConceded={awayForm.avXGAgainstLast5.toFixed(2)}\n            //todo add goal diff and btts percentages\n            possession={awayForm.avPosessionLast5.toFixed(2)}\n            rawPosition={game.awayRawPosition ? game.awayRawPosition : 0}\n            sot={awayForm.avSOTLast5.toFixed(2)}\n            shots={awayForm.avShotsLast5.toFixed(2)}\n            dangerousAttacks={\n              awayForm.avDALast5 !== 0\n                ? awayForm.avDALast5.toFixed(2)\n                : awayForm.AverageDangerousAttacks\n            }\n            leaguePosition={\n              awayForm.LeaguePosition !== undefined &&\n              awayForm.LeaguePosition !== \"undefined\"\n                ? formDataAway[0].leaguePosition\n                : 0\n            }\n            homeOrAwayLeaguePosition={\n              awayForm.awayPositionAwayOnly !== undefined &&\n              awayForm.awayPositionAwayOnly !== \"undefinedundefined\"\n                ? awayForm.awayPositionAwayOnly\n                : 0\n            }\n            winPercentage={awayForm.awayPPGAv ? awayForm.awayPPGAv : \"N/A\"}\n            lossPercentage={\n              game.awayTeamLossPercentage ? game.awayTeamLossPercentage : \"N/A\"\n            }\n            drawPercentage={\n              game.awayTeamDrawPercentage ? game.awayTeamDrawPercentage : \"N/A\"\n            }\n            ppg={awayForm.avPoints5.toFixed(2)}\n            formTrend={[\n              awayTenGameAverage.toFixed(2),\n              awaySixGameAverage.toFixed(2),\n              awayFiveGameAverage.toFixed(2),\n            ]}\n            formRun={awayForm.resultsAll}\n            goalDifference={awayForm.last5GoalDiff}\n            BttsPercentage={awayForm.bttsLast5Percentage}\n            BTTSArray={formDataAway[0].BTTSArray}\n            Results={formDataAway[0].Results}\n            ResultsHorA={formDataAway[0].ResultsHorA}\n            CornersAverage={awayForm.last5Corners}\n          />\n        </ul>\n      </div>\n    );\n  }\n\n  function StatsHomeOnlyComponent() {\n    if (!homeForm) return null;\n    return (\n      <div className=\"flex-childOne\">\n        <ul style={style}>\n          <Stats\n            games={\"hOrA\"}\n            style={style}\n            homeOrAway=\"Home\"\n            gameCount={divider}\n            key={formDataHome[0].name}\n            last5={formDataHome[0].Last5}\n            // homeOrAwayResults={gameArrayHomeTeamHomeGames}\n            LeagueOrAll={formDataHome[0].LeagueOrAll}\n            className={\"KeyStatsHome\"}\n            name={formDataHome[0].name}\n            goals={homeForm.avgScoredHome}\n            conceeded={homeForm.teamConceededAvgHomeOnly.toFixed(2)}\n            XG={homeForm.avgXGScoredHome.toFixed(2)}\n            XGConceded={homeForm.avgXGConceededHome.toFixed(2)}\n            possession={homeForm.avgPossessionHome.toFixed(2)}\n            sot={homeForm.avgShotsOnTargetHome.toFixed(2)}\n            shots={homeForm.avgShotsHome.toFixed(2)}\n            dangerousAttacks={\n              homeForm.avgDangerousAttacksHome !== 0\n                ? homeForm.avgDangerousAttacksHome.toFixed(2)\n                : homeForm.AverageDangerousAttacks\n            }\n            leaguePosition={\n              homeForm.homePositionHomeOnly !== undefined &&\n              homeForm.homePositionHomeOnly !== \"undefined\"\n                ? formDataHome[0].leaguePosition\n                : 0\n            }\n            rawPosition={\n              game.homeRawPosition !== undefined &&\n              game.homeRawPosition !== \"undefined\"\n                ? game.homeRawPosition\n                : 0\n            }\n            homeOrAwayLeaguePosition={\n              homeForm.homePositionHomeOnly !== undefined &&\n              homeForm.homePositionHomeOnly !== \"undefined\"\n                ? homeForm.homePositionHomeOnly\n                : 0\n            }\n            winPercentage={homeForm.homePPGAv ? homeForm.homePPGAv : \"N/A\"}\n            formTrend={[\n              homeTenGameAverage.toFixed(2),\n              homeSixGameAverage.toFixed(2),\n              homeFiveGameAverage.toFixed(2),\n            ]}\n            formRun={homeForm.resultsAll}\n            goalDifference={formDataHome[0].goalDifference}\n            goalDifferenceHomeOrAway={formDataHome[0].goalDifferenceHomeOrAway}\n            BttsPercentage={homeForm.bttsHomePercentage}\n            BTTSArray={formDataHome[0].BTTSArray}\n            // Results={formDataHome[0].Results}\n            ResultsHorA={formDataHome[0].ResultsHorA}\n            CardsTotal={formDataHome[0].CardsTotal}\n            CornersAverage={homeForm.cornersAvHome.toFixed()}\n            ScoredBothHalvesPercentage={\n              formDataHome[0].ScoredBothHalvesPercentage\n            }\n            FormTextString={formDataHome[0].FormTextStringHome}\n            FavouriteRecord={formDataHome[0].FavouriteRecord}\n            StyleOfPlay={formDataHome[0].styleOfPlayOverall}\n            StyleOfPlayHomeOrAway={formDataHome[0].styleOfPlayHome}\n          />\n        </ul>\n      </div>\n    );\n  }\n\n  // Component: StatsAway (Render Away Team Stats)\n  function StatsAwayOnlyComponent() {\n    if (!awayForm) return null;\n    return (\n      <div className=\"flex-childTwo\">\n        <ul style={style}>\n          <Stats\n            games={\"hOrA\"}\n            style={style}\n            homeOrAway=\"Away\"\n            gameCount={divider}\n            key={formDataAway[0].name}\n            last5={formDataAway[0].Last5}\n            // homeOrAwayResults={gameArrayAwayTeamAwayGames}\n            LeagueOrAll={formDataAway[0].LeagueOrAll}\n            className={\"KeyStatsAway\"}\n            classNameTwo={\"FormStatsAway\"}\n            name={formDataAway[0].name}\n            goals={awayForm.avgScoredAway}\n            conceeded={awayForm.teamConceededAvgAwayOnly.toFixed(2)}\n            XG={awayForm.avgXGScoredAway.toFixed(2)}\n            XGConceded={awayForm.avgXGConceededAway.toFixed(2)}\n            //todo add goal diff and btts percentages\n            possession={awayForm.avgPossessionAway.toFixed(2)}\n            rawPosition={game.awayRawPosition ? game.awayRawPosition : 0}\n            sot={awayForm.avgShotsOnTargetAway.toFixed(2)}\n            shots={awayForm.avgShotsAway.toFixed(2)}\n            dangerousAttacks={\n              awayForm.avgDangerousAttacksAway !== 0\n                ? awayForm.avgDangerousAttacksAway.toFixed(2)\n                : awayForm.AverageDangerousAttacks\n            }\n            leaguePosition={\n              awayForm.awayPosition !== undefined &&\n              awayForm.awayPosition !== \"undefined\"\n                ? formDataAway[0].leaguePosition\n                : 0\n            }\n            homeOrAwayLeaguePosition={\n              awayForm.awayPositionAwayOnly !== undefined &&\n              awayForm.awayPositionAwayOnly !== \"undefinedundefined\"\n                ? awayForm.awayPositionAwayOnly\n                : 0\n            }\n            winPercentage={awayForm.awayPPGAv ? awayForm.awayPPGAv : \"N/A\"}\n            formTrend={[\n              awayTenGameAverage.toFixed(2),\n              awaySixGameAverage.toFixed(2),\n              awayFiveGameAverage.toFixed(2),\n            ]}\n            formRun={awayForm.resultsAll}\n            goalDifference={formDataAway[0].goalDifference}\n            goalDifferenceHomeOrAway={formDataAway[0].goalDifferenceHomeOrAway}\n            BttsPercentage={awayForm.bttsHomePercentage}\n            BTTSArray={formDataAway[0].BTTSArray}\n            // Results={formDataAway[0].Results}\n            ResultsHorA={formDataAway[0].ResultsHorA}\n            CardsTotal={formDataAway[0].CardsTotal}\n            CornersAverage={awayForm.cornersAvAway.toFixed()}\n            ScoredBothHalvesPercentage={\n              formDataAway[0].ScoredBothHalvesPercentage\n            }\n            FormTextString={formDataAway[0].FormTextStringAway}\n            FavouriteRecord={formDataAway[0].FavouriteRecord}\n            StyleOfPlay={formDataAway[0].styleOfPlayOverall}\n            StyleOfPlayHomeOrAway={formDataAway[0].styleOfPlayAway}\n          />\n        </ul>\n      </div>\n    );\n  }\n\n  function handleSetUserTips(gameId, game, tipString, tip, date, uid) {\n    setUserTips((prevTips) => {\n      // Check if the tip for this gameId already exists\n      const existingTipIndex = prevTips.findIndex(\n        (tip) => tip.gameId === gameId\n      );\n\n      if (existingTipIndex !== -1) {\n        // If the tip already exists, update it\n        const updatedTips = [...prevTips];\n        updatedTips[existingTipIndex] = {\n          gameId,\n          game,\n          tipString,\n          tip,\n          date,\n          uid,\n        };\n        return updatedTips; // Return the updated list\n      } else {\n        // If the tip doesn't exist, add a new one\n        return [...prevTips, { gameId, game, tipString, tip, date, uid }];\n      }\n    });\n  }\n\n  gameArrayHome.sort((a, b) => b.unixTimestamp - a.unixTimestamp);\n  gameArrayAway.sort((a, b) => b.unixTimestamp - a.unixTimestamp);\n\n  const bttsArrayHome = Array.from(gameArrayHome, (x) => x.btts);\n  const bttsArrayAway = Array.from(gameArrayAway, (x) => x.btts);\n\n  const overviewHome = gameArrayHome.slice(0, 10).map((game) => (\n    <div>\n      <Collapsable\n        classNameButton=\"ResultButton\"\n        buttonText={\n          <div className=\"ResultRowOverviewSmall\">\n            <div className=\"columnOverviewHomeSmall\">{game.homeTeam}</div>\n            <span className=\"columnOverviewScoreSmall\">\n              {game.homeGoals} : {game.awayGoals}\n            </span>\n            <div className=\"columnOverviewAwaySmall\">{game.awayTeam}</div>\n          </div>\n        }\n        element={singleResult(game)}\n      />\n    </div>\n  ));\n\n  const overviewAway = gameArrayAway.slice(0, 10).map((game) => (\n    <div>\n      <Collapsable\n        classNameButton=\"ResultButton\"\n        buttonText={\n          <div className=\"ResultRowOverviewSmall\">\n            <div className=\"columnOverviewHomeSmall\">{game.homeTeam}</div>\n            <span className=\"columnOverviewScoreSmall\">\n              {game.homeGoals} : {game.awayGoals}\n            </span>\n            <div className=\"columnOverviewAwaySmall\">{game.awayTeam}</div>\n          </div>\n        }\n        element={singleResult(game)}\n      />\n    </div>\n  ));\n\n  const formDataMatch = [];\n\n  formDataMatch.push({\n    btts: game.btts_potential,\n  });\n\n  const formDataHome = [];\n\n  function getPointsFromGames(formArr) {\n    const pairings = {\n      W: 3,\n      D: 1,\n      L: 0,\n    };\n    let newArr = [];\n    let arrayOfIndividualPoints = [];\n    let sum = 0;\n\n    for (let i = 0; i < formArr.length; i++) {\n      sum = sum + pairings[formArr[i]];\n      newArr.push(sum);\n      arrayOfIndividualPoints.push(pairings[formArr[i]]);\n    }\n    return [newArr, arrayOfIndividualPoints];\n  }\n\n  let time = game.time;\n\n  if (homeForm.last3Points === undefined) {\n    homeForm.last3Points = getPointsFromLastX(homeForm.lastThreeForm);\n\n    homeForm.last5Points = getPointsFromLastX(homeForm.LastFiveForm);\n\n    homeForm.last6Points = getPointsFromLastX(homeForm.LastSixForm);\n\n    homeForm.last10Points = getPointsFromLastX(homeForm.LastTenForm);\n\n    homeForm.homePPGame = getPointsFromLastX(homeForm.resultsHome);\n\n    awayForm.last3Points = getPointsFromLastX(awayForm.lastThreeForm);\n\n    awayForm.last5Points = getPointsFromLastX(awayForm.LastFiveForm);\n\n    awayForm.last6Points = getPointsFromLastX(awayForm.LastSixForm);\n\n    awayForm.last10Points = getPointsFromLastX(awayForm.LastTenForm);\n\n    awayForm.awayPPGame = getPointsFromLastX(awayForm.resultsAway);\n  }\n\n  const [showAIInsights, setShowAIInsights] = useState(false);\n\n  let formArrayHome;\n  let formArrayAway;\n  let chartType;\n\n  // Side Effect: Initialize component\n  useEffect(() => {\n    async function checkPaymentStatus() {\n      if (userDetail?.uid) {\n        try {\n          const paymentStatus = await checkUserPaidStatus(userDetail.uid);\n          setPaid(paymentStatus);\n        } catch (error) {\n          console.error(\"Error checking payment status:\", error);\n          setPaid(false); // Set to false in case of an error\n        }\n      } else {\n        setPaid(false); // Set to false if there's no user ID\n      }\n    }\n\n    checkPaymentStatus(); // Call the function\n  }); // Dependency on userDetail\n\n  // Get all necessary data\n\n  useEffect(() => {\n    // useEffect to fetch and process game data based on props\n    async function fetchData() {\n      if (game.status === \"void\") return; // Exit if game is void\n\n      if (!allForm || !allLeagueResultsArrayOfObjects) {\n        // return;\n      }\n\n      let index = 2;\n      let gameStats = allForm.find((match) => match.id === game.id);\n      if (!gameStats) {\n        console.warn(\"No game stats found for game id:\", game.id);\n        // return;\n      }\n\n      try {\n        const pos = allLeagueResultsArrayOfObjects\n          .map((i) => i.id)\n          .indexOf(gameStats.leagueId);\n        let matches = allLeagueResultsArrayOfObjects[pos];\n        const resultHome = matches.fixtures.filter(\n          (game) =>\n            game.home_name === gameStats.home.teamName ||\n            game.away_name === gameStats.home.teamName\n        );\n\n        const resultHomeOnly = matches.fixtures.filter(\n          (game) => game.home_name === gameStats.home.teamName\n        );\n        const resultAway = matches.fixtures.filter(\n          (game) =>\n            game.away_name === gameStats.away.teamName ||\n            game.home_name === gameStats.away.teamName\n        );\n\n        const resultAwayOnly = matches.fixtures.filter(\n          (game) => game.away_name === gameStats.away.teamName\n        );\n\n        const homeForm = gameStats.home[index];\n        const awayForm = gameStats.away[index];\n        let id = game.id;\n\n        const attackingMetricsHome = {\n          \"Average Dangerous Attacks\":\n            gameStats?.home[index]?.AverageDangerousAttacksOverall || 0,\n          \"Average Shots\": gameStats?.home[index]?.AverageShots || 0,\n          \"Average Shots On Target\":\n            gameStats?.home[index]?.AverageShotsOnTargetOverall || 0,\n          \"Average Expected Goals\": gameStats?.home[index]?.XGOverall || 0,\n          \"Recent XG\": gameStats?.home[index]?.XGlast5\n            ? gameStats?.home[index]?.XGlast5\n            : gameStats?.home[index]?.XGOverall || 0,\n          \"Average Goals\":\n            gameStats?.home[index]?.averageScoredLeague !== undefined &&\n            gameStats?.home[index]?.averageScoredLeague !== null\n              ? gameStats?.home[index]?.averageScoredLeague\n              : gameStats?.home[index]?.ScoredOverall / 10,\n        };\n        const attackingMetricsAway = {\n          // averagePossession: awayForm.AveragePossessionOverall,\n          \"Average Dangerous Attacks\":\n            gameStats?.away[index]?.AverageDangerousAttacksOverall || 0,\n          \"Average Shots\": gameStats?.away[index]?.AverageShots || 0,\n          \"Average Shots On Target\":\n            gameStats?.away[index]?.AverageShotsOnTargetOverall || 0,\n          \"Average Expected Goals\": gameStats?.away[index]?.XGOverall || 0,\n          \"Recent XG\": gameStats?.away[index]?.XGlast5\n            ? gameStats?.away[index]?.XGlast5\n            : gameStats?.away[index]?.XGOverall || 0,\n          \"Average Goals\":\n            gameStats?.away[index]?.averageScoredLeague !== undefined &&\n            gameStats?.away[index]?.averageScoredLeague !== null\n              ? gameStats?.away[index]?.averageScoredLeague\n              : gameStats?.away[index]?.ScoredOverall / 10,\n        };\n\n        const defensiveMetricsHome = {\n          \"Clean Sheet Percentage\":\n            100 - gameStats?.home[index]?.CleanSheetPercentage || 0,\n          \"Average XG Against\":\n            gameStats?.home[index]?.XGAgainstAvgOverall || 0,\n          \"Recent XG Against\": gameStats?.home[index]?.XGAgainstlast5\n            ? gameStats?.home[index]?.XGAgainstlast5\n            : gameStats?.home[index]?.XGAgainstAvgOverall || 0,\n          \"Average Goals Against\":\n            gameStats?.home[index]?.averageConceededLeague !== undefined &&\n            gameStats?.home[index]?.averageConceededLeague !== null\n              ? gameStats?.home[index]?.averageConceededLeague\n              : gameStats?.home[index]?.ConcededOverall / 10,\n        };\n\n        const defensiveMetricsAway = {\n          \"Clean Sheet Percentage\":\n            100 - gameStats?.away[index]?.CleanSheetPercentage || 0,\n          \"Average XG Against\":\n            gameStats?.away[index]?.XGAgainstAvgOverall || 0,\n          \"Recent XG Against\": gameStats?.away[index]?.XGAgainstlast5\n            ? gameStats?.away[index]?.XGAgainstlast5\n            : gameStats?.away[index]?.XGAgainstAvgOverall || 0,\n          \"Average Goals Against\":\n            gameStats?.away[index]?.averageConceededLeague !== undefined &&\n            gameStats?.away[index]?.averageConceededLeague !== null\n              ? gameStats?.away[index]?.averageConceededLeague\n              : gameStats?.away[index]?.ConcededOverall / 10,\n        };\n\n        const attackH = await calculateAttackingStrength(attackingMetricsHome);\n\n        setHomeAttackStrength(attackH);\n\n        const defenceH = await calculateDefensiveStrength(defensiveMetricsHome);\n\n        setHomeDefenceStrength(defenceH);\n\n        const attackA = await calculateAttackingStrength(attackingMetricsAway);\n\n        setAwayAttackStrength(attackA);\n\n        const defenceA = await calculateDefensiveStrength(defensiveMetricsAway);\n\n        setAwayDefenceStrength(defenceA);\n\n        const possH = await calculateMetricStrength(\n          \"averagePossession\",\n          homeForm.AveragePossessionOverall\n        );\n\n        setHomePossessionStrength(possH);\n\n        const possA = await calculateMetricStrength(\n          \"averagePossession\",\n          awayForm.AveragePossessionOverall\n        );\n\n        setAwayPossessionStrength(possA);\n\n        // \"Directness\",\n        // \"Attacking precision\",\n        const XGForH = await calculateMetricStrength(\n          \"xgFor\",\n          homeForm.XGOverall\n        );\n\n        setHomeXGForStrength(XGForH);\n\n        const XGForA = await calculateMetricStrength(\n          \"xgFor\",\n          awayForm.XGOverall\n        );\n\n        setAwayXGForStrength(XGForA);\n\n        const XGAgH = await calculateMetricStrength(\n          \"xgAgainst\",\n          3 - homeForm.XGAgainstAvgOverall\n        );\n\n        setHomeXGAgainstStrength(XGAgH);\n\n        const XGAgA = await calculateMetricStrength(\n          \"xgAgainst\",\n          3 - awayForm.XGAgainstAvgOverall\n        );\n\n        setAwayXGAgainstStrength(XGAgA);\n\n        const directnessHome = await calculateMetricStrength(\n          \"directnessOverall\",\n          homeForm.directnessOverall\n        );\n\n        setHomeDirectnessStrength(directnessHome);\n\n        const directnessAway = await calculateMetricStrength(\n          \"directnessOverall\",\n          awayForm.directnessOverall\n        );\n\n        setAwayDirectnessStrength(directnessAway);\n\n        const accuracyHome = await calculateMetricStrength(\n          \"accuracyOverall\",\n          homeForm.avgShotValueChart\n        );\n        setHomeAccuracyOverallStrength(accuracyHome);\n\n        const accuracyHomeOnly = await calculateMetricStrength(\n          \"accuracyOverall\",\n          homeForm.avgShotValueHomeChart\n        );\n        setHomeOnlyAccuracyOverallStrength(accuracyHomeOnly);\n\n        const accuracyAway = await calculateMetricStrength(\n          \"accuracyOverall\",\n          awayForm.avgShotValueChart\n        );\n        setAwayAccuracyOverallStrength(accuracyAway);\n\n        const accuracyAwayOnly = await calculateMetricStrength(\n          \"accuracyOverall\",\n          homeForm.avgShotValueAwayChart\n        );\n        setAwayOnlyAccuracyOverallStrength(accuracyAwayOnly);\n\n        const home5GA = await getPointAverage(homeForm.last5Points, 5);\n        setHomeFiveGameAverage(home5GA);\n\n        const home6GA = await getPointAverage(homeForm.last6Points, 6);\n        setHomeSixGameAverage(home6GA);\n\n        const home10GA = await getPointAverage(homeForm.last10Points, 10);\n        setHomeTenGameAverage(home10GA);\n\n        const away5GA = await getPointAverage(awayForm.last5Points, 5);\n        setAwayFiveGameAverage(away5GA);\n\n        const away6GA = await getPointAverage(awayForm.last6Points, 6);\n        setAwaySixGameAverage(away6GA);\n\n        const away10GA = await getPointAverage(awayForm.last10Points, 10);\n        setAwayTenGameAverage(away10GA);\n\n        homeForm.homePPGAv = await getPointAverage(\n          homeForm.homePPGame,\n          homeForm.resultsHome.length\n        );\n        homeForm.tenGameAv = homeTenGameAverage;\n        homeForm.fiveGameAv = homeFiveGameAverage;\n\n        awayForm.awayPPGAv = await getPointAverage(\n          awayForm.awayPPGame,\n          awayForm.resultsAway.length\n        );\n        awayForm.tenGameAv = awayTenGameAverage;\n        awayForm.fiveGameAv = awayFiveGameAverage;\n\n        if (homeForm.fiveGameAv) {\n          const formTextStringHome = await GenerateFormSummary(\n            homeForm,\n            homeForm.tenGameAv,\n            homeForm.fiveGameAv\n          );\n          const formTextStringAway = await GenerateFormSummary(\n            awayForm,\n            awayForm.tenGameAv,\n            awayForm.fiveGameAv\n          );\n          setFormSummary([formTextStringHome, formTextStringAway]);\n        }\n\n        // const homeTeam = game.homeTeam;\n        // const awayTeam = game.awayTeam;\n        // console.log(homeForm);\n\n        // setTime(game.time);\n        // setTeam1(homeTeam);\n        // setTeam2(awayTeam);\n        // setHomeGoals(game.homeGoals);\n        // setAwayGoals(game.awayGoals);\n\n        if (id === \"1\") {\n        }\n      } catch (e) {\n        console.log(e);\n      } finally {\n        setIsLoading(false);\n        setHasCompleteData(\n          game.completeData === true &&\n            gameStats?.home[index].completeData === true\n        );\n\n        setFirstRenderDone(true);\n      }\n    }\n    if (!firstRenderDone) {\n      fetchData();\n    }\n  }, [\n    awayFiveGameAverage,\n    firstRenderDone,\n    awayTenGameAverage,\n    game.completeData,\n    game.id,\n    game.status,\n    homeFiveGameAverage,\n    homeTenGameAverage,\n  ]); // Dependencies for the useCallback\n\n  formDataHome.push({\n    name: game.homeTeam,\n    Last5: gameStats.home[2].LastFiveForm,\n    LeagueOrAll: gameStats.home[2].LeagueOrAll,\n    AverageGoals: homeForm.ScoredOverall / 10,\n    AverageConceeded: homeForm.ConcededOverall / 10,\n    AverageXG: homeForm.XGOverall,\n    AverageXGConceded: homeForm.XGAgainstAvgOverall,\n    AveragePossession: homeForm.AveragePossessionOverall,\n    AverageShotsOnTarget: homeForm.AverageShotsOnTargetOverall,\n    AverageDangerousAttacks: homeForm.AverageDangerousAttacksOverall,\n    homeOrAway: \"Home\",\n    leaguePosition: homeForm.LeaguePosition,\n    Last5PPG: homeForm.PPG,\n    SeasonPPG: homeForm.SeasonPPG,\n    formRun: homeForm.formRun,\n    goalDifference: homeForm.goalDifference,\n    goalDifferenceHomeOrAway: homeForm.goalDifferenceHomeOrAway,\n    // BttsPercentage: homeForm.BttsPercentage || \"-\",\n    // BttsPercentageHomeOrAway: homeForm.BttsPercentageHomeOrAway || \"-\",\n    CardsTotal: homeForm.CardsTotal || \"-\",\n    CornersAverage: homeForm.AverageCorners || \"-\",\n    FormTextStringHome: formSummaries[0],\n    // FavouriteRecord:\n    //   favouriteRecordHome + `. ${homeForm.reliabilityString}`,\n    BTTSArray: bttsArrayHome,\n    Results: homeForm.resultsAll,\n    ResultsHorA: homeForm.resultsHome,\n    XGSwing: homeForm.XGChangeRecently,\n    styleOfPlayOverall: homeForm.styleOfPlayOverall,\n    styleOfPlayHome: homeForm.styleOfPlayHome,\n    // BTTSAll: homeForm.last10btts,\n    // BTTSHorA: homeForm.last10bttsHome,\n  });\n\n  const formDataAway = [];\n\n  formDataAway.push({\n    name: game.awayTeam,\n    Last5: gameStats.away[2].LastFiveForm,\n    LeagueOrAll: gameStats.away[2].LeagueOrAll,\n    AverageGoals: awayForm.ScoredOverall / 10,\n    AverageConceeded: awayForm.ConcededOverall / 10,\n    AverageXG: awayForm.XGOverall,\n    AverageXGConceded: awayForm.XGAgainstAvgOverall,\n    AveragePossession: awayForm.AveragePossessionOverall,\n    AverageShotsOnTarget: awayForm.AverageShotsOnTargetOverall,\n    AverageDangerousAttacks: awayForm.AverageDangerousAttacksOverall,\n    homeOrAway: \"Away\",\n    leaguePosition: awayForm.LeaguePosition,\n    Last5PPG: awayForm.PPG,\n    SeasonPPG: awayForm.SeasonPPG,\n    formRun: awayForm.formRun,\n    goalDifference: awayForm.goalDifference,\n    goalDifferenceHomeOrAway: awayForm.goalDifferenceHomeOrAway,\n    // BttsPercentage: awayForm.BttsPercentage || \"-\",\n    // BttsPercentageHomeOrAway: awayForm.BttsPercentageHomeOrAway || \"-\",\n    CardsTotal: awayForm.CardsTotal || \"-\",\n    CornersAverage: awayForm.AverageCorners || \"-\",\n    FormTextStringAway: formSummaries[1],\n    // FavouriteRecord:\n    //   favouriteRecordAway + `. ${awayForm.reliabilityString}`,\n    BTTSArray: bttsArrayAway,\n    Results: awayForm.resultsAll,\n    ResultsHorA: awayForm.resultsAway,\n    XGSwing: awayForm.XGChangeRecently,\n    styleOfPlayOverall: awayForm.styleOfPlayOverall,\n    styleOfPlayAway: awayForm.styleOfPlayAway,\n    // BTTSAll: awayForm.last10btts,\n    // BTTSHorA: awayForm.last10bttsAway,\n  });\n\n  // AI Insights Generation\n\n  const generateAIInsights = useCallback(\n    async (gameId) => {\n      setIsLoading(true);\n      try {\n        const AIPayload = {\n          league: game.leagueDesc,\n          gameweek: game.game_week,\n          referee: await getRefStats(game.refereeID, game.competition_id),\n          homeTeam: {\n            homeTeamName: game.homeTeam,\n            homeLeaguePosition: homeForm?.LeaguePosition,\n            homeTeamResults: homeForm?.allTeamResults,\n            homeXGDiffAll: homeForm?.longTermXGDiff,\n            homeXGDiffLast5: homeForm?.shortTermXGDiff,\n            homeAttackingStats: homeForm?.attackingMetrics,\n            homeAttackingStatsLast5: homeForm?.attackingMetricsHomeLast5,\n            homeAttackingStatsHomeOnly: homeForm?.attackingMetricsHomeOnly,\n            homeDefensiveStats: homeForm?.defensiveMetrics,\n            homeDefensiveStatsLast5: homeForm?.defensiveMetricsHomeLast5,\n            homeDefensiveStatsHomeOnly: homeForm?.defensiveMetricsHomeOnly,\n          },\n          awayTeam: {\n            awayTeamName: game.awayTeam,\n            awayLeaguePosition: awayForm?.LeaguePosition,\n            awayTeamResults: awayForm?.allTeamResults,\n            awayXGDiffAll: awayForm?.longTermXGDiff,\n            awayXGDiffLast5: awayForm?.shortTermXGDiff,\n            awayAttackingStats: awayForm?.attackingMetrics,\n            awayAttackingStatsLast5: awayForm?.attackingMetricsAwayLast5,\n            awayAttackingStatsAwayOnly: awayForm?.attackingMetricsAwayOnly,\n            awayDefensiveStats: awayForm?.defensiveMetrics,\n            awayDefensiveStatsLast5: awayForm?.defensiveMetricsAwayLast5,\n            awayDefensiveStatsAwayOnly: awayForm?.defensiveMetricsAwayOnly,\n          },\n        };\n        console.log(AIPayload);\n        const response = await fetch(\n          `${process.env.REACT_APP_EXPRESS_SERVER}gemini/${gameId}`,\n          {\n            method: \"POST\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(AIPayload),\n          }\n        );\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n\n        const jsonData = await response.json();\n        setAiMatchPreview(jsonData);\n      } catch (error) {\n        console.error(\"Fetch error:\", error);\n        // Handle the error\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    [game, homeForm, awayForm]\n  );\n\n  // Function to format the AI Match Preview text with newlines\n  const formatAIPreview = (text) => {\n    if (!text) return \"\";\n    return text.split(\". \").join(\".\\n\");\n  };\n\n  //Render the AI data\n  const AIOutput = useMemo(() => {\n    if (!aiMatchPreview) return null;\n\n    const formattedText = formatAIPreview(aiMatchPreview.matchPreview1);\n    const formattedText2 = formatAIPreview(aiMatchPreview.matchPreview2);\n\n    return (\n      <>\n        <h2>Preview</h2>\n        <div className=\"AIMatchPreview\">{formattedText}</div>\n        <div className=\"AIMatchPreview\">{formattedText2}</div>\n        <h2>AI Prediction</h2>\n        <div className=\"AIMatchPreview\">\n          {aiMatchPreview.prediction}{\" \"}\n          <i>(may not reflect the view of XGTipping)</i>\n        </div>\n        <div className=\"AIMatchPreview\">\n          {aiMatchPreview.opinionOnXGTippingPrediction}{\" \"}\n        </div>\n        <div className=\"AIContainer\">\n          <div className=\"HomeAIInsights\">\n            <div>{aiMatchPreview?.homeTeam?.summary}</div>\n          </div>\n          <div className=\"AwayAIInsights\">\n            <div>{aiMatchPreview?.awayTeam?.summary}</div>\n          </div>\n        </div>\n      </>\n    );\n  }, [aiMatchPreview]);\n\n  let [formPointsHome, testArrayHome] = getPointsFromGames(\n    gameStats.home[2].WDLRecord\n  );\n  let [formPointsAway, testArrayAway] = getPointsFromGames(\n    gameStats.away[2].WDLRecord\n  );\n\n  if (formPointsHome.length > 1) {\n    formArrayHome = formPointsHome;\n    formArrayAway = formPointsAway;\n    chartType = \"Points over time\";\n  } else {\n    formArrayHome = [\n      homeTenGameAverage,\n      homeSixGameAverage,\n      homeFiveGameAverage,\n    ];\n    formArrayAway = [\n      awayTenGameAverage,\n      awaySixGameAverage,\n      awayFiveGameAverage,\n    ];\n    chartType = \"Rolling average points over last 10\";\n  }\n  console.log(game);\n\n  const UserTips = ({\n    game,\n    handleSetUserTips,\n    userDetail,\n    selectedTip,\n    handleTipSelect,\n  }) => {\n    const handleClick = (tipType, label) => {\n      if (selectedTip === tipType) {\n        return; // If the button clicked is already selected, do nothing\n      }\n\n      handleTipSelect(tipType); // Update parent state\n      handleSetUserTips(\n        game.id,\n        game.game,\n        label,\n        tipType,\n        game.date,\n        userDetail.uid\n      );\n    };\n\n    return (\n      <div className=\"UserTips\">\n        <button\n          id=\"TipButtonHome\"\n          className=\"TipButton\"\n          style={{\n            backgroundColor: selectedTip === \"homeTeam\" ? \"#fe8c00\" : \"white\",\n            color: selectedTip === \"homeTeam\" ? \"white\" : \"#030052\",\n            border: `1px solid ${\n              selectedTip === \"homeTeam\" ? \"#fe8c00\" : \"#030052\"\n            }`,\n          }}\n          onClick={() => handleClick(\"homeTeam\", `${game.homeTeam} to win`)}\n        >\n          Home\n        </button>\n\n        <button\n          id=\"TipButtonDraw\"\n          className=\"TipButton\"\n          style={{\n            backgroundColor: selectedTip === \"draw\" ? \"#fe8c00\" : \"white\",\n            color: selectedTip === \"draw\" ? \"white\" : \"#030052\",\n            border: `1px solid ${\n              selectedTip === \"draw\" ? \"#fe8c00\" : \"#030052\"\n            }`,\n          }}\n          onClick={() => handleClick(\"draw\", \"Draw\")}\n        >\n          Draw\n        </button>\n\n        <button\n          id=\"TipButtonAway\"\n          className=\"TipButton\"\n          style={{\n            backgroundColor: selectedTip === \"awayTeam\" ? \"#fe8c00\" : \"white\",\n            color: selectedTip === \"awayTeam\" ? \"white\" : \"#030052\",\n            border: `1px solid ${\n              selectedTip === \"awayTeam\" ? \"#fe8c00\" : \"#030052\"\n            }`,\n          }}\n          onClick={() => handleClick(\"awayTeam\", `${game.awayTeam} to win`)}\n        >\n          Away\n        </button>\n      </div>\n    );\n  };\n\n  const [selectedTip, setSelectedTip] = useState(null);\n\n  const handleTipSelect = (tipType) => {\n    setSelectedTip(tipType);\n  };\n  return (\n    <>\n      {isBeforeTimestamp(game.date) && (\n        <>\n          <h2>Your Prediction</h2>\n          <UserTips\n            game={game}\n            handleSetUserTips={handleSetUserTips}\n            userDetail={userDetail}\n            selectedTip={selectedTip} // Pass selectedTip down\n            handleTipSelect={handleTipSelect} // Pass handler down\n          />\n        </>\n      )}\n      <div style={style}>\n        <Collapsable\n          buttonText={\"Lineups & match action\"}\n          classNameButton=\"Lineups\"\n          element={\n            <>\n              <SofaLineupsWidget\n                id={id}\n                team1={team1}\n                team2={team2}\n                time={timestamp}\n                homeGoals={homeGoals}\n                awayGoals={awayGoals}\n              ></SofaLineupsWidget>\n            </>\n          }\n        />\n        <div style={style}>\n          <Div className=\"MatchTime\" text={`Kick off: ${time} GMT`}></Div>\n        </div>\n        <div id=\"AIInsightsContainer\" className=\"AIInsightsContainer\">\n          {!paid && game.leagueID !== 12325 && <div>Paid feature only</div>}\n          <Button\n            className=\"AIInsights\"\n            onClickEvent={() => {\n              generateAIInsights(game.id);\n              setShowAIInsights(true);\n            }}\n            text={\"XG AI\"}\n            disabled={!paid && game.leagueID !== 12325}\n          ></Button>\n          {showAIInsights && ( // Conditionally Render the AI Insights.\n            <div className=\"AIOutputContainer\">\n              {isLoading ? <p>Loading AI data....</p> : AIOutput}\n            </div>\n          )}\n        </div>\n        <Slider\n          length=\"3\"\n          element1={\n            <>\n              <h2>All games</h2>\n              <div className=\"flex-container\">\n                <StatsHomeComponent />\n                <StatsAwayComponent />\n              </div>\n              <div className=\"Chart\" id={`Chart${game.id}`} style={style}>\n                <RadarChart\n                  style={{ height: \"auto\" }}\n                  title=\"XG Tipping Strength Ratings - All Games\"\n                  data={[\n                    homeAttackStrength,\n                    homeDefenceStrength,\n                    homePossessionStrength,\n                    homeXGForStrength,\n                    homeXGAgainstStrength,\n                    homeDirectnessStrength,\n                    homeAccuracyOverallStrength,\n                  ]}\n                  data2={[\n                    awayAttackStrength,\n                    awayDefenceStrength,\n                    awayPossessionStrength,\n                    awayXGForStrength,\n                    awayXGAgainstStrength,\n                    awayDirectnessStrength,\n                    awayAccuracyOverallStrength,\n                  ]}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                ></RadarChart>\n                <BarChart\n                  text=\"All games - Home Team | Away Team\"\n                  data1={[\n                    homeForm.avgScored * 2,\n                    awayForm.avgConceeded * 2,\n                    homeForm.avPointsAll * 3,\n                    homeForm.XGOverall * 2,\n                    awayForm.XGAgainstAvgOverall * 2,\n                    homeForm.AverageShotsOnTargetOverall,\n                    homeForm.AverageDangerousAttacksOverall !== 0\n                      ? homeForm.AverageDangerousAttacksOverall / 7.5\n                      : homeForm.AverageDangerousAttacks / 7.5,\n                    homeForm.AveragePossessionOverall / 7.5,\n                    homeForm.goalDifference / 10,\n                    homeForm.AverageCorners,\n                  ]}\n                  data2={[\n                    awayForm.avgScored * 2,\n                    homeForm.avgConceeded * 2,\n                    awayForm.avPointsAll * 3,\n                    awayForm.XGOverall * 2,\n                    homeForm.XGAgainstAvgOverall * 2,\n                    awayForm.AverageShotsOnTargetOverall,\n                    awayForm.AverageDangerousAttacksOverall !== 0\n                      ? awayForm.AverageDangerousAttacksOverall / 7.5\n                      : awayForm.AverageDangerousAttacks / 7.5,\n                    awayForm.AveragePossessionOverall / 7.5,\n                    awayForm.goalDifference / 10,\n                    awayForm.AverageCorners,\n                  ]}\n                ></BarChart>\n                <MultiTypeChart\n                  dataArray={homeForm.twoDGoalsArray}\n                  text={homeForm.teamName + \" XG Diff (All)\"}\n                />\n                <MultiTypeChart\n                  dataArray={awayForm.twoDGoalsArray}\n                  text={awayForm.teamName + \" XG Diff (All)\"}\n                />\n                <Chart\n                  height={3}\n                  depth={0}\n                  data1={formArrayHome}\n                  data2={formArrayAway}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                  type={chartType}\n                  tension={0}\n                ></Chart>\n                <MultilineChart\n                  height={\n                    Math.max(\n                      rollingGoalDiffTotalHome[\n                        rollingGoalDiffTotalHome.length - 1\n                      ],\n                      rollingGoalDiffTotalAway[\n                        rollingGoalDiffTotalAway.length - 1\n                      ]\n                    ) > 2\n                      ? Math.max(\n                          rollingGoalDiffTotalHome[\n                            rollingGoalDiffTotalHome.length - 1\n                          ],\n                          rollingGoalDiffTotalAway[\n                            rollingGoalDiffTotalAway.length - 1\n                          ]\n                        )\n                      : 2\n                  }\n                  depth={\n                    Math.min(\n                      rollingGoalDiffTotalHome[\n                        rollingGoalDiffTotalHome.length - 1\n                      ],\n                      rollingGoalDiffTotalAway[\n                        rollingGoalDiffTotalAway.length - 1\n                      ]\n                    ) < -2\n                      ? Math.min(\n                          rollingGoalDiffTotalHome[\n                            rollingGoalDiffTotalHome.length - 1\n                          ],\n                          rollingGoalDiffTotalAway[\n                            rollingGoalDiffTotalAway.length - 1\n                          ]\n                        )\n                      : -2\n                  }\n                  data1={rollingGoalDiffTotalHome}\n                  data2={rollingGoalDiffTotalAway}\n                  data3={rollingXGDiffTotalHome}\n                  data4={rollingXGDiffTotalAway}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                  type={\"Goal/XG difference over time\"}\n                  tension={0.5}\n                ></MultilineChart>\n              </div>\n            </>\n          }\n          element2={\n            <>\n              <h2>Last 5 games only</h2>\n              <div className=\"flex-container\">\n                <StatsHomeLast5Component />\n                <StatsAwayLast5Component />\n              </div>\n              <div className=\"Chart\" id={`Chart${game.id}`} style={style}>\n                <RadarChart\n                  title=\"XG Tipping Strength Ratings - Last 5 Games Only\"\n                  data={[\n                    homeAttackStrengthLast5,\n                    homeDefenceStrengthLast5,\n                    homePossessionStrengthLast5,\n                    homeXGForStrengthLast5,\n                    homeXGAgainstStrengthLast5,\n                    homeDirectnessStrengthLast5,\n                    homeAccuracyOverallStrengthLast5,\n                  ]}\n                  data2={[\n                    awayAttackStrengthLast5,\n                    awayDefenceStrengthLast5,\n                    awayPossessionStrengthLast5,\n                    awayXGForStrengthLast5,\n                    awayXGAgainstStrengthLast5,\n                    awayDirectnessStrengthLast5,\n                    awayAccuracyOverallStrengthLast5,\n                  ]}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                ></RadarChart>\n                <BarChart\n                  text=\"Last 5 only - Home Team | Away Team\"\n                  data1={[\n                    homeForm.last5Goals * 2,\n                    awayForm.last5GoalsConceeded * 2,\n                    homeForm.avPoints5 * 3,\n                    homeForm.avXGLast5 * 2,\n                    awayForm.avXGAgainstLast5 * 2,\n                    homeForm.avSOTLast5,\n                    homeForm.avDALast5 !== 0\n                      ? homeForm.avDALast5 / 7.5\n                      : homeForm.AverageDangerousAttacks / 7.5,\n                    homeForm.avPosessionLast5 / 7.5,\n                    homeForm.last5GoalDiff / 5,\n                    homeForm.last5Corners,\n                  ]}\n                  data2={[\n                    awayForm.last5Goals * 2,\n                    homeForm.last5GoalsConceeded * 2,\n                    awayForm.avPoints5 * 3,\n                    awayForm.avXGLast5 * 2,\n                    homeForm.avXGAgainstLast5 * 2,\n                    awayForm.avSOTLast5,\n                    awayForm.avDALast5 !== 0\n                      ? awayForm.avDALast5 / 7.5\n                      : awayForm.AverageDangerousAttacks / 7.5,\n                    awayForm.avPosessionLast5 / 7.5,\n                    awayForm.last5GoalDiff / 5,\n                    awayForm.last5Corners,\n                  ]}\n                ></BarChart>\n                <MultiTypeChart\n                  dataArray={homeForm.twoDGoalsArray.slice(\n                    Math.max(homeForm.twoDGoalsArray.length - 5, 0)\n                  )}\n                  text={homeForm.teamName + \" XG Diff Last 5\"}\n                />\n                <MultiTypeChart\n                  dataArray={awayForm.twoDGoalsArray.slice(\n                    Math.max(awayForm.twoDGoalsArray.length - 5, 0)\n                  )}\n                  text={awayForm.teamName + \" XG Diff Last 5\"}\n                />\n                <MultilineChart\n                  height={\n                    Math.max(\n                      rollingGoalDiffTotalHomeLast5[\n                        rollingGoalDiffTotalHomeLast5.length - 1\n                      ],\n                      rollingGoalDiffTotalAwayLast5[\n                        rollingGoalDiffTotalAwayLast5.length - 1\n                      ]\n                    ) > 2\n                      ? Math.max(\n                          rollingGoalDiffTotalHomeLast5[\n                            rollingGoalDiffTotalHomeLast5.length - 1\n                          ],\n                          rollingGoalDiffTotalAwayLast5[\n                            rollingGoalDiffTotalAwayLast5.length - 1\n                          ]\n                        )\n                      : 2\n                  }\n                  depth={\n                    Math.min(\n                      rollingGoalDiffTotalHomeLast5[\n                        rollingGoalDiffTotalHomeLast5.length - 1\n                      ],\n                      rollingGoalDiffTotalAwayLast5[\n                        rollingGoalDiffTotalAwayLast5.length - 1\n                      ]\n                    ) < -2\n                      ? Math.min(\n                          rollingGoalDiffTotalHomeLast5[\n                            rollingGoalDiffTotalHomeLast5.length - 1\n                          ],\n                          rollingGoalDiffTotalAwayLast5[\n                            rollingGoalDiffTotalAwayLast5.length - 1\n                          ]\n                        )\n                      : -2\n                  }\n                  data1={rollingGoalDiffTotalHomeLast5}\n                  data2={rollingGoalDiffTotalAwayLast5}\n                  data3={rollingXGDiffTotalHomeLast5}\n                  data4={rollingXGDiffTotalAwayLast5}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                  type={\"Goal/XG difference over last 5\"}\n                  tension={0.5}\n                ></MultilineChart>\n              </div>\n            </>\n          }\n          element3={\n            <>\n              <h2>Home/Away games only</h2>\n              <div className=\"flex-container\">\n                <StatsHomeOnlyComponent />\n                <StatsAwayOnlyComponent />\n              </div>\n              <div className=\"Chart\" id={`Chart${game.id}`} style={style}>\n                <RadarChart\n                  title=\"XG Tipping Strength Ratings - Home/Away Games Only\"\n                  data={[\n                    homeOnlyAttackStrength,\n                    homeOnlyDefenceStrength,\n                    homeOnlyPossessionStrength,\n                    homeOnlyXGForStrength,\n                    homeOnlyXGAgainstStrength,\n                    homeOnlyDirectnessStrength,\n                    homeOnlyAccuracyOverallStrength,\n                  ]}\n                  data2={[\n                    awayOnlyAttackStrength,\n                    awayOnlyDefenceStrength,\n                    awayOnlyPossessionStrength,\n                    awayOnlyXGForStrength,\n                    awayOnlyXGAgainstStrength,\n                    awayOnlyDirectnessStrength,\n                    awayOnlyAccuracyOverallStrength,\n                  ]}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                ></RadarChart>\n                <BarChart\n                  text=\"Home/Away only - Home Team | Away Team\"\n                  data1={[\n                    homeForm.avgScoredHome * 2,\n                    awayForm.teamConceededAvgAwayOnly * 2,\n                    homeForm.homePPGAv * 3,\n                    homeForm.avgXGScoredHome * 2,\n                    awayForm.avgXGConceededHome * 2,\n                    homeForm.avgShotsOnTargetHome,\n                    homeForm.avgDangerousAttacksHome !== 0\n                      ? homeForm.avgDangerousAttacksHome / 7.5\n                      : homeForm.AverageDangerousAttacks / 7.5,\n                    homeForm.avgPossessionHome / 7.5,\n                    homeForm.goalDifferenceHomeOrAway / 10,\n                    homeForm.cornersAvHome,\n                  ]}\n                  data2={[\n                    awayForm.avgScoredAway * 2,\n                    homeForm.teamConceededAvgAwayOnly * 2,\n                    awayForm.awayPPGAv * 3,\n                    awayForm.avgXGScoredAway * 2,\n                    homeForm.avgXGConceededAway * 2,\n                    awayForm.avgShotsOnTargetAway,\n                    awayForm.avgDangerousAttacksAway !== 0\n                      ? awayForm.avgDangerousAttacksAway / 7.5\n                      : awayForm.AverageDangerousAttacks / 7.5,\n                    awayForm.avgPossessionAway / 7.5,\n                    awayForm.goalDifferenceHomeOrAway / 10,\n                    awayForm.cornersAvAway,\n                  ]}\n                ></BarChart>\n                <MultiTypeChart\n                  dataArray={homeForm.twoDGoalsArrayHome}\n                  text={homeForm.teamName + \" XG Diff (Home)\"}\n                />\n                <MultiTypeChart\n                  dataArray={awayForm.twoDGoalsArrayAway}\n                  text={awayForm.teamName + \" XG Diff (Away)\"}\n                />\n                <MultilineChart\n                  height={\n                    Math.max(\n                      rollingGoalDiffTotalHomeOnly[\n                        rollingGoalDiffTotalHomeOnly.length - 1\n                      ],\n                      rollingGoalDiffTotalAwayOnly[\n                        rollingGoalDiffTotalAwayOnly.length - 1\n                      ]\n                    ) > 2\n                      ? Math.max(\n                          rollingGoalDiffTotalHomeOnly[\n                            rollingGoalDiffTotalHomeOnly.length - 1\n                          ],\n                          rollingGoalDiffTotalAwayOnly[\n                            rollingGoalDiffTotalAwayOnly.length - 1\n                          ]\n                        )\n                      : 2\n                  }\n                  depth={\n                    Math.min(\n                      rollingGoalDiffTotalHomeOnly[\n                        rollingGoalDiffTotalHomeOnly.length - 1\n                      ],\n                      rollingGoalDiffTotalAwayOnly[\n                        rollingGoalDiffTotalAwayOnly.length - 1\n                      ]\n                    ) < -2\n                      ? Math.min(\n                          rollingGoalDiffTotalHomeOnly[\n                            rollingGoalDiffTotalHomeOnly.length - 1\n                          ],\n                          rollingGoalDiffTotalAwayOnly[\n                            rollingGoalDiffTotalAwayOnly.length - 1\n                          ]\n                        )\n                      : -2\n                  }\n                  data1={rollingGoalDiffTotalHomeOnly}\n                  data2={rollingGoalDiffTotalAwayOnly}\n                  data3={rollingXGDiffTotalHomeOnly}\n                  data4={rollingXGDiffTotalAwayOnly}\n                  team1={game.homeTeam}\n                  team2={game.awayTeam}\n                  type={\"Home/Away Goal/XG difference over time\"}\n                  tension={0.5}\n                ></MultilineChart>\n              </div>\n            </>\n          }\n        />\n        <div className=\"Chart\" id={`Chart${game.id}`} style={style}></div>\n        <Div\n          text={`Last league games (most recent first)`}\n          className={\"LastGameHeader\"}\n        ></Div>\n        <div className=\"flex-container\">\n          <div className=\"flex-childOneOverviewSmall\">{overviewHome}</div>\n          <div className=\"flex-childTwoOverviewSmall\">{overviewAway}</div>\n        </div>\n        {/* <h2>Results from similar profile games</h2>\n        <span>(Games where each team had similar odds)</span>\n        <h3>Most recent first</h3>\n        <div className=\"flex-container-similar\">\n          <div className=\"flex-childOneOverviewSmall\">{similarGamesHome}</div>\n          <div className=\"flex-childTwoOverviewSmall\">{similarGamesAway}</div>\n        </div>\n        <input type=\"hidden\" name=\"IL_IN_ARTICLE\" />\n        <Button\n          className=\"MoreStats\"\n          onClickEvent={() =>\n            getTeamStats(\n              game.id,\n              game.homeTeam,\n              game.awayTeam,\n              formDataHome[0].BttsPercentage,\n              formDataHome[0].BttsPercentageHomeOrAway,\n              formDataAway[0].BttsPercentage,\n              formDataAway[0].BttsPercentageHomeOrAway\n            )\n          }\n          text={\"Fixture trends + AI Preview\"}\n        ></Button> */}\n      </div>\n    </>\n  );\n}\n\nexport default GameStats;\n","/Users/gregdorward/Development/football-predictions/src/logic/getAIStats.js",["454","455","456","457"],"import React, { useState, useEffect, Fragment, memo } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nasync function addNewlinesAfterPeriods(text) {\n    // This regex handles periods followed by a space and capital letter,\n    // or periods immediately followed by a capital letter.  It also\n    // avoids adding extra newlines.\n    const regex = /\\.(?=[A-Z]|\\s[A-Z])/g;\n  \n    const newText = text.replace(regex, \".\\n\");\n  \n    return newText;\n  }\n\nfunction AIInsights({ game, homeForm, awayForm }) {\n  const [aiMatchPreview, setAiMatchPreview] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchAIInsights = async () => {\n      setIsLoading(true); // Set loading state\n      setError(null); // Clear any previous errors\n\n      const AIPayload = {\n        league: game.leagueDesc,\n        gameweek: game.game_week,\n        homeTeamName: homeForm.teamName,\n        homeLeaguePosition: homeForm.LeaguePosition,\n        homeTeamResults: homeForm.allTeamResults,\n        awayTeamName: awayForm.teamName,\n        awayLeaguePosition: awayForm.LeaguePosition,\n        awayTeamResults: awayForm.allTeamResults,\n      };\n\n      try {\n        const response = await fetch(\n          `${process.env.REACT_APP_EXPRESS_SERVER}gemini/${game}`,\n          {\n            method: \"POST\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(AIPayload),\n          }\n        );\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n\n        const jsonData = await response.json();\n        const formattedText = await addNewlinesAfterPeriods(\n          jsonData.matchPreview\n        );\n        setAiMatchPreview({ ...jsonData, matchPreview: formattedText });\n      } catch (err) {\n        setError(err);\n        console.error(\"Fetch error:\", err);\n      } finally {\n        setIsLoading(false); // Clear loading state\n      }\n    };\n\n    fetchAIInsights();\n  }, [JSON.stringify(game), JSON.stringify(homeForm), JSON.stringify(awayForm)]); // Dependencies: re-fetch when these change. Game and Home Form MUST be added as dependancies.\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>Error: {error.message}</div>;\n  }\n\n  if (!aiMatchPreview) {\n    return null; // Or some placeholder content if no data yet\n  }\n\n//   game.AIHomeGoals = aiMatchPreview.homeGoalsPrediction\n//   game.AIAwayGoals = aiMatchPreview.awayGoalsPrediction\n\n  return (\n    <Fragment>\n      <h2>Preview</h2>\n      <div className=\"AIMatchPreview\">{aiMatchPreview.matchPreview}</div>\n      <h2>AI Prediction</h2>\n      <div className=\"AIMatchPreview\">\n        {aiMatchPreview.prediction} <i>(may not reflect the view of XGTipping)</i>\n      </div>\n      <div className=\"AIContainer\">\n        <div className=\"HomeAIInsights\">\n          <div>{aiMatchPreview.homeTeam.summary}</div>\n        </div>\n        <div className=\"AwayAIInsights\">\n          <div>{aiMatchPreview.awayTeam.summary}</div>\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nconst MemoizedAIInsights = memo(AIInsights);\n\n// Modified generateAIInsights function (now just renders the component)\nexport function generateAIInsights(game, homeForm, awayForm) {\n  ReactDOM.render(\n    <React.StrictMode>\n    <MemoizedAIInsights game={game} homeForm={homeForm} awayForm={awayForm} />\n    </React.StrictMode>,\n    document.getElementById(\"AIInsightsContainer\")\n  );\n}","/Users/gregdorward/Development/football-predictions/src/components/MultitypeChart.js",["458"],"import React from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\nimport { Bar, Line } from 'react-chartjs-2';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nconst MultiTypeChart = ({ dataArray, text }) => {\n  // 1. Process the Data: Calculate the difference and labels\n  const labels = dataArray.map((_, index) => `Game ${index + 1}`); // Create labels like \"Index 1\", \"Index 2\", etc.\n  const barData = dataArray.map(item => item[0] - item[1]); // Calculate the difference\n\n  // Create an array of colors based on the sign of the bar data\n  const backgroundColors = barData.map(value =>\n    value >= 0 ? '#030052' : '#970d00'\n  );\n\n  // 2. Chart Data Structure:\n  const data = {\n    labels: labels,\n    datasets: [\n      {\n        type: 'bar',\n        label: 'XG Difference',\n        data: barData,\n        backgroundColor: backgroundColors, // Use the dynamic colors\n        borderColor: backgroundColors,      // Match the border color\n        borderWidth: 1,\n      },\n      {\n        type: 'line',\n        label: 'Trend Line',\n        data: barData, // Use the same data for the line to create a trend\n        borderColor: 'rgba(255, 99, 132, 1)',   // Red line\n        backgroundColor: 'rgba(255, 99, 132, 0.2)',  // Pinkish fill\n        pointRadius: 3,                             // Make points visible\n        tension: 0.4,                               // Curve the line a bit\n      },\n    ],\n  };\n\n  // 3. Chart Options (customize as needed):\n  const options = {\n    responsive: true,\n    plugins: {\n      title: {\n        display: true,\n        text: text,\n      },\n      legend: { // Add this legend configuration\n        display: false, // Set display to false to hide the legend\n      },\n    },\n    scales: {\n      y: {\n        beginAtZero: true, // Start y-axis at 0\n        suggestedMin: -1.5,\n        suggestedMax: 1.5,\n      },\n    },\n  };\n\n  return <Bar data={data} options={options} className='BarChart'/>;\n};\n\nexport default MultiTypeChart;","/Users/gregdorward/Development/football-predictions/src/components/CarouselXGChart.js",[],{"ruleId":"459","severity":1,"message":"460","line":6,"column":27,"nodeType":"461","messageId":"462","endLine":6,"endColumn":33},{"ruleId":"463","replacedBy":"464"},{"ruleId":"465","replacedBy":"466"},{"ruleId":"459","severity":1,"message":"467","line":3,"column":8,"nodeType":"461","messageId":"462","endLine":3,"endColumn":14},{"ruleId":"459","severity":1,"message":"460","line":33,"column":27,"nodeType":"461","messageId":"462","endLine":33,"endColumn":33},{"ruleId":"459","severity":1,"message":"468","line":33,"column":50,"nodeType":"461","messageId":"462","endLine":33,"endColumn":54},{"ruleId":"459","severity":1,"message":"469","line":35,"column":8,"nodeType":"461","messageId":"462","endLine":35,"endColumn":16},{"ruleId":"459","severity":1,"message":"470","line":103,"column":5,"nodeType":"461","messageId":"462","endLine":103,"endColumn":14},{"ruleId":"459","severity":1,"message":"471","line":104,"column":5,"nodeType":"461","messageId":"462","endLine":104,"endColumn":24},{"ruleId":"459","severity":1,"message":"472","line":105,"column":5,"nodeType":"461","messageId":"462","endLine":105,"endColumn":16},{"ruleId":"459","severity":1,"message":"473","line":109,"column":5,"nodeType":"461","messageId":"462","endLine":109,"endColumn":13},{"ruleId":"459","severity":1,"message":"474","line":110,"column":5,"nodeType":"461","messageId":"462","endLine":110,"endColumn":23},{"ruleId":"459","severity":1,"message":"475","line":111,"column":5,"nodeType":"461","messageId":"462","endLine":111,"endColumn":15},{"ruleId":"459","severity":1,"message":"476","line":176,"column":18,"nodeType":"461","messageId":"462","endLine":176,"endColumn":31},{"ruleId":"459","severity":1,"message":"477","line":471,"column":16,"nodeType":"461","messageId":"462","endLine":471,"endColumn":40},{"ruleId":"459","severity":1,"message":"478","line":500,"column":16,"nodeType":"461","messageId":"462","endLine":500,"endColumn":39},{"ruleId":"463","replacedBy":"479"},{"ruleId":"465","replacedBy":"480"},{"ruleId":"459","severity":1,"message":"481","line":57,"column":5,"nodeType":"461","messageId":"462","endLine":57,"endColumn":9},{"ruleId":"482","severity":1,"message":"483","line":596,"column":38,"nodeType":"484","messageId":"485","endLine":596,"endColumn":40},{"ruleId":"482","severity":1,"message":"483","line":600,"column":38,"nodeType":"484","messageId":"485","endLine":600,"endColumn":40},{"ruleId":"459","severity":1,"message":"486","line":607,"column":13,"nodeType":"461","messageId":"462","endLine":607,"endColumn":29},{"ruleId":"459","severity":1,"message":"487","line":4,"column":7,"nodeType":"461","messageId":"462","endLine":4,"endColumn":17},{"ruleId":"459","severity":1,"message":"488","line":27,"column":10,"nodeType":"461","messageId":"462","endLine":27,"endColumn":21},{"ruleId":"459","severity":1,"message":"489","line":44,"column":5,"nodeType":"461","messageId":"462","endLine":44,"endColumn":22},{"ruleId":"459","severity":1,"message":"490","line":45,"column":5,"nodeType":"461","messageId":"462","endLine":45,"endColumn":22},{"ruleId":"459","severity":1,"message":"491","line":46,"column":5,"nodeType":"461","messageId":"462","endLine":46,"endColumn":22},{"ruleId":"459","severity":1,"message":"492","line":52,"column":5,"nodeType":"461","messageId":"462","endLine":52,"endColumn":16},{"ruleId":"459","severity":1,"message":"493","line":53,"column":5,"nodeType":"461","messageId":"462","endLine":53,"endColumn":17},{"ruleId":"459","severity":1,"message":"494","line":74,"column":5,"nodeType":"461","messageId":"462","endLine":74,"endColumn":15},{"ruleId":"459","severity":1,"message":"495","line":75,"column":5,"nodeType":"461","messageId":"462","endLine":75,"endColumn":22},{"ruleId":"459","severity":1,"message":"496","line":76,"column":5,"nodeType":"461","messageId":"462","endLine":76,"endColumn":18},{"ruleId":"459","severity":1,"message":"497","line":77,"column":5,"nodeType":"461","messageId":"462","endLine":77,"endColumn":16},{"ruleId":"459","severity":1,"message":"498","line":1195,"column":14,"nodeType":"461","messageId":"462","endLine":1195,"endColumn":21},{"ruleId":"459","severity":1,"message":"499","line":1745,"column":16,"nodeType":"461","messageId":"462","endLine":1745,"endColumn":35},{"ruleId":"459","severity":1,"message":"500","line":1782,"column":16,"nodeType":"461","messageId":"462","endLine":1782,"endColumn":28},{"ruleId":"459","severity":1,"message":"501","line":1895,"column":16,"nodeType":"461","messageId":"462","endLine":1895,"endColumn":35},{"ruleId":"459","severity":1,"message":"502","line":1954,"column":9,"nodeType":"461","messageId":"462","endLine":1954,"endColumn":43},{"ruleId":"459","severity":1,"message":"503","line":1959,"column":9,"nodeType":"461","messageId":"462","endLine":1959,"endColumn":43},{"ruleId":"459","severity":1,"message":"504","line":1982,"column":9,"nodeType":"461","messageId":"462","endLine":1982,"endColumn":29},{"ruleId":"459","severity":1,"message":"505","line":1987,"column":9,"nodeType":"461","messageId":"462","endLine":1987,"endColumn":29},{"ruleId":"459","severity":1,"message":"506","line":2021,"column":9,"nodeType":"461","messageId":"462","endLine":2021,"endColumn":36},{"ruleId":"459","severity":1,"message":"507","line":2026,"column":9,"nodeType":"461","messageId":"462","endLine":2026,"endColumn":36},{"ruleId":"459","severity":1,"message":"508","line":2604,"column":5,"nodeType":"461","messageId":"462","endLine":2604,"endColumn":6},{"ruleId":"459","severity":1,"message":"509","line":2754,"column":9,"nodeType":"461","messageId":"462","endLine":2754,"endColumn":23},{"ruleId":"459","severity":1,"message":"510","line":2755,"column":9,"nodeType":"461","messageId":"462","endLine":2755,"endColumn":23},{"ruleId":"459","severity":1,"message":"511","line":3708,"column":7,"nodeType":"461","messageId":"462","endLine":3708,"endColumn":30},{"ruleId":"459","severity":1,"message":"512","line":3709,"column":7,"nodeType":"461","messageId":"462","endLine":3709,"endColumn":30},{"ruleId":"463","replacedBy":"513"},{"ruleId":"465","replacedBy":"514"},{"ruleId":"459","severity":1,"message":"515","line":482,"column":5,"nodeType":"461","messageId":"462","endLine":482,"endColumn":28},{"ruleId":"459","severity":1,"message":"516","line":483,"column":5,"nodeType":"461","messageId":"462","endLine":483,"endColumn":28},{"ruleId":"459","severity":1,"message":"517","line":517,"column":11,"nodeType":"461","messageId":"462","endLine":517,"endColumn":29},{"ruleId":"459","severity":1,"message":"518","line":518,"column":11,"nodeType":"461","messageId":"462","endLine":518,"endColumn":29},{"ruleId":"459","severity":1,"message":"519","line":520,"column":11,"nodeType":"461","messageId":"462","endLine":520,"endColumn":17},{"ruleId":"459","severity":1,"message":"520","line":894,"column":13,"nodeType":"461","messageId":"462","endLine":894,"endColumn":30},{"ruleId":"459","severity":1,"message":"521","line":898,"column":13,"nodeType":"461","messageId":"462","endLine":898,"endColumn":30},{"ruleId":"459","severity":1,"message":"522","line":900,"column":13,"nodeType":"461","messageId":"462","endLine":900,"endColumn":29},{"ruleId":"459","severity":1,"message":"523","line":901,"column":13,"nodeType":"461","messageId":"462","endLine":901,"endColumn":29},{"ruleId":"459","severity":1,"message":"524","line":904,"column":11,"nodeType":"461","messageId":"462","endLine":904,"endColumn":19},{"ruleId":"459","severity":1,"message":"525","line":991,"column":22,"nodeType":"461","messageId":"462","endLine":991,"endColumn":39},{"ruleId":"459","severity":1,"message":"526","line":1009,"column":11,"nodeType":"461","messageId":"462","endLine":1009,"endColumn":24},{"ruleId":"459","severity":1,"message":"527","line":1014,"column":11,"nodeType":"461","messageId":"462","endLine":1014,"endColumn":24},{"ruleId":"459","severity":1,"message":"528","line":1241,"column":9,"nodeType":"461","messageId":"462","endLine":1241,"endColumn":21},{"ruleId":"459","severity":1,"message":"529","line":1242,"column":9,"nodeType":"461","messageId":"462","endLine":1242,"endColumn":21},{"ruleId":"459","severity":1,"message":"530","line":1348,"column":28,"nodeType":"461","messageId":"462","endLine":1348,"endColumn":41},{"ruleId":"459","severity":1,"message":"531","line":1351,"column":28,"nodeType":"461","messageId":"462","endLine":1351,"endColumn":41},{"ruleId":"459","severity":1,"message":"532","line":1355,"column":11,"nodeType":"461","messageId":"462","endLine":1355,"endColumn":30},{"ruleId":"459","severity":1,"message":"533","line":1364,"column":11,"nodeType":"461","messageId":"462","endLine":1364,"endColumn":30},{"ruleId":"463","replacedBy":"534"},{"ruleId":"465","replacedBy":"535"},{"ruleId":"459","severity":1,"message":"536","line":82,"column":11,"nodeType":"461","messageId":"462","endLine":82,"endColumn":15},{"ruleId":"459","severity":1,"message":"537","line":121,"column":16,"nodeType":"461","messageId":"462","endLine":121,"endColumn":26},{"ruleId":"463","replacedBy":"538"},{"ruleId":"465","replacedBy":"539"},{"ruleId":"459","severity":1,"message":"540","line":11,"column":8,"nodeType":"461","messageId":"462","endLine":11,"endColumn":21},{"ruleId":"459","severity":1,"message":"541","line":3,"column":10,"nodeType":"461","messageId":"462","endLine":3,"endColumn":24},{"ruleId":"459","severity":1,"message":"542","line":10,"column":10,"nodeType":"461","messageId":"462","endLine":10,"endColumn":24},{"ruleId":"459","severity":1,"message":"488","line":16,"column":10,"nodeType":"461","messageId":"462","endLine":16,"endColumn":21},{"ruleId":"459","severity":1,"message":"543","line":22,"column":5,"nodeType":"461","messageId":"462","endLine":22,"endColumn":13},{"ruleId":"459","severity":1,"message":"544","line":23,"column":10,"nodeType":"461","messageId":"462","endLine":23,"endColumn":16},{"ruleId":"463","replacedBy":"545"},{"ruleId":"465","replacedBy":"546"},{"ruleId":"459","severity":1,"message":"547","line":334,"column":9,"nodeType":"461","messageId":"462","endLine":334,"endColumn":15},{"ruleId":"459","severity":1,"message":"548","line":432,"column":9,"nodeType":"461","messageId":"462","endLine":432,"endColumn":16},{"ruleId":"463","replacedBy":"549"},{"ruleId":"465","replacedBy":"550"},{"ruleId":"463","replacedBy":"551"},{"ruleId":"465","replacedBy":"552"},{"ruleId":"553","severity":1,"message":"554","line":28,"column":6,"nodeType":"555","endLine":28,"endColumn":8,"suggestions":"556"},{"ruleId":"557","severity":1,"message":"558","line":291,"column":11,"nodeType":"559","endLine":300,"endColumn":12},{"ruleId":"557","severity":1,"message":"558","line":383,"column":11,"nodeType":"559","endLine":393,"endColumn":12},{"ruleId":"557","severity":1,"message":"558","line":69,"column":9,"nodeType":"559","endLine":75,"endColumn":10},{"ruleId":"459","severity":1,"message":"560","line":17,"column":3,"nodeType":"461","messageId":"462","endLine":17,"endColumn":14},{"ruleId":"459","severity":1,"message":"561","line":18,"column":3,"nodeType":"461","messageId":"462","endLine":18,"endColumn":16},{"ruleId":"459","severity":1,"message":"562","line":30,"column":10,"nodeType":"461","messageId":"462","endLine":30,"endColumn":22},{"ruleId":"459","severity":1,"message":"563","line":40,"column":8,"nodeType":"461","messageId":"462","endLine":40,"endColumn":33},{"ruleId":"459","severity":1,"message":"488","line":41,"column":10,"nodeType":"461","messageId":"462","endLine":41,"endColumn":21},{"ruleId":"553","severity":1,"message":"564","line":67,"column":6,"nodeType":"555","endLine":67,"endColumn":16,"suggestions":"565"},{"ruleId":"459","severity":1,"message":"566","line":72,"column":10,"nodeType":"461","messageId":"462","endLine":72,"endColumn":25},{"ruleId":"459","severity":1,"message":"528","line":102,"column":10,"nodeType":"461","messageId":"462","endLine":102,"endColumn":22},{"ruleId":"459","severity":1,"message":"567","line":102,"column":24,"nodeType":"461","messageId":"462","endLine":102,"endColumn":39},{"ruleId":"459","severity":1,"message":"529","line":103,"column":10,"nodeType":"461","messageId":"462","endLine":103,"endColumn":22},{"ruleId":"459","severity":1,"message":"568","line":103,"column":24,"nodeType":"461","messageId":"462","endLine":103,"endColumn":39},{"ruleId":"459","severity":1,"message":"515","line":123,"column":10,"nodeType":"461","messageId":"462","endLine":123,"endColumn":33},{"ruleId":"459","severity":1,"message":"569","line":123,"column":35,"nodeType":"461","messageId":"462","endLine":123,"endColumn":61},{"ruleId":"459","severity":1,"message":"570","line":124,"column":10,"nodeType":"461","messageId":"462","endLine":124,"endColumn":26},{"ruleId":"459","severity":1,"message":"571","line":124,"column":28,"nodeType":"461","messageId":"462","endLine":124,"endColumn":47},{"ruleId":"459","severity":1,"message":"572","line":125,"column":10,"nodeType":"461","messageId":"462","endLine":125,"endColumn":26},{"ruleId":"459","severity":1,"message":"573","line":125,"column":28,"nodeType":"461","messageId":"462","endLine":125,"endColumn":47},{"ruleId":"459","severity":1,"message":"574","line":133,"column":35,"nodeType":"461","messageId":"462","endLine":133,"endColumn":61},{"ruleId":"459","severity":1,"message":"575","line":136,"column":34,"nodeType":"461","messageId":"462","endLine":136,"endColumn":59},{"ruleId":"459","severity":1,"message":"576","line":139,"column":36,"nodeType":"461","messageId":"462","endLine":139,"endColumn":63},{"ruleId":"459","severity":1,"message":"577","line":142,"column":35,"nodeType":"461","messageId":"462","endLine":142,"endColumn":61},{"ruleId":"459","severity":1,"message":"578","line":145,"column":39,"nodeType":"461","messageId":"462","endLine":145,"endColumn":69},{"ruleId":"459","severity":1,"message":"579","line":147,"column":38,"nodeType":"461","messageId":"462","endLine":147,"endColumn":67},{"ruleId":"459","severity":1,"message":"580","line":150,"column":34,"nodeType":"461","messageId":"462","endLine":150,"endColumn":59},{"ruleId":"459","severity":1,"message":"581","line":153,"column":33,"nodeType":"461","messageId":"462","endLine":153,"endColumn":57},{"ruleId":"459","severity":1,"message":"582","line":156,"column":38,"nodeType":"461","messageId":"462","endLine":156,"endColumn":67},{"ruleId":"459","severity":1,"message":"583","line":159,"column":37,"nodeType":"461","messageId":"462","endLine":159,"endColumn":65},{"ruleId":"459","severity":1,"message":"584","line":162,"column":39,"nodeType":"461","messageId":"462","endLine":162,"endColumn":69},{"ruleId":"459","severity":1,"message":"585","line":164,"column":38,"nodeType":"461","messageId":"462","endLine":164,"endColumn":67},{"ruleId":"459","severity":1,"message":"586","line":169,"column":5,"nodeType":"461","messageId":"462","endLine":169,"endColumn":40},{"ruleId":"459","severity":1,"message":"587","line":173,"column":35,"nodeType":"461","messageId":"462","endLine":173,"endColumn":61},{"ruleId":"459","severity":1,"message":"588","line":176,"column":34,"nodeType":"461","messageId":"462","endLine":176,"endColumn":59},{"ruleId":"459","severity":1,"message":"589","line":179,"column":36,"nodeType":"461","messageId":"462","endLine":179,"endColumn":63},{"ruleId":"459","severity":1,"message":"590","line":182,"column":35,"nodeType":"461","messageId":"462","endLine":182,"endColumn":61},{"ruleId":"459","severity":1,"message":"591","line":185,"column":39,"nodeType":"461","messageId":"462","endLine":185,"endColumn":69},{"ruleId":"459","severity":1,"message":"592","line":187,"column":38,"nodeType":"461","messageId":"462","endLine":187,"endColumn":67},{"ruleId":"459","severity":1,"message":"593","line":190,"column":34,"nodeType":"461","messageId":"462","endLine":190,"endColumn":59},{"ruleId":"459","severity":1,"message":"594","line":193,"column":33,"nodeType":"461","messageId":"462","endLine":193,"endColumn":57},{"ruleId":"459","severity":1,"message":"595","line":196,"column":38,"nodeType":"461","messageId":"462","endLine":196,"endColumn":67},{"ruleId":"459","severity":1,"message":"596","line":199,"column":37,"nodeType":"461","messageId":"462","endLine":199,"endColumn":65},{"ruleId":"459","severity":1,"message":"597","line":202,"column":39,"nodeType":"461","messageId":"462","endLine":202,"endColumn":69},{"ruleId":"459","severity":1,"message":"598","line":204,"column":38,"nodeType":"461","messageId":"462","endLine":204,"endColumn":67},{"ruleId":"459","severity":1,"message":"599","line":209,"column":5,"nodeType":"461","messageId":"462","endLine":209,"endColumn":40},{"ruleId":"459","severity":1,"message":"600","line":214,"column":38,"nodeType":"461","messageId":"462","endLine":214,"endColumn":67},{"ruleId":"459","severity":1,"message":"601","line":217,"column":38,"nodeType":"461","messageId":"462","endLine":217,"endColumn":67},{"ruleId":"459","severity":1,"message":"602","line":374,"column":19,"nodeType":"461","messageId":"462","endLine":374,"endColumn":29},{"ruleId":"459","severity":1,"message":"603","line":381,"column":7,"nodeType":"461","messageId":"462","endLine":381,"endColumn":10},{"ruleId":"459","severity":1,"message":"604","line":1535,"column":15,"nodeType":"461","messageId":"462","endLine":1535,"endColumn":25},{"ruleId":"459","severity":1,"message":"605","line":1541,"column":15,"nodeType":"461","messageId":"462","endLine":1541,"endColumn":29},{"ruleId":"459","severity":1,"message":"606","line":1544,"column":15,"nodeType":"461","messageId":"462","endLine":1544,"endColumn":25},{"ruleId":"459","severity":1,"message":"607","line":1550,"column":15,"nodeType":"461","messageId":"462","endLine":1550,"endColumn":29},{"ruleId":"459","severity":1,"message":"530","line":1980,"column":24,"nodeType":"461","messageId":"462","endLine":1980,"endColumn":37},{"ruleId":"459","severity":1,"message":"531","line":1983,"column":24,"nodeType":"461","messageId":"462","endLine":1983,"endColumn":37},{"ruleId":"553","severity":1,"message":"608","line":67,"column":6,"nodeType":"555","endLine":67,"endColumn":80,"suggestions":"609"},{"ruleId":"553","severity":1,"message":"610","line":67,"column":7,"nodeType":"611","endLine":67,"endColumn":27},{"ruleId":"553","severity":1,"message":"610","line":67,"column":29,"nodeType":"611","endLine":67,"endColumn":53},{"ruleId":"553","severity":1,"message":"610","line":67,"column":55,"nodeType":"611","endLine":67,"endColumn":79},{"ruleId":"459","severity":1,"message":"612","line":13,"column":15,"nodeType":"461","messageId":"462","endLine":13,"endColumn":19},"no-unused-vars","'Router' is defined but never used.","Identifier","unusedVar","no-native-reassign",["613"],"no-negated-in-lhs",["614"],"'Header' is defined but never used.","'Link' is defined but never used.","'reactDom' is defined but never used.","'yesterday' is assigned a value but never used.","'yesterdayFootyStats' is assigned a value but never used.","'yesterdaySS' is assigned a value but never used.","'historic' is assigned a value but never used.","'historicFootyStats' is assigned a value but never used.","'historicSS' is assigned a value but never used.","'incrementDate' is defined but never used.","'getHighestScoringLeagues' is defined but never used.","'getLowestScoringLeagues' is defined but never used.",["613"],["614"],"'paid' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'sofaScoreLeagues' is assigned a value but never used.","'shouldOpen' is assigned a value but never used.","'dynamicDate' is defined but never used.","'drawAIPredictions' is assigned a value but never used.","'homeAIPredictions' is assigned a value but never used.","'awayAIPredictions' is assigned a value but never used.","'AIwinAmount' is assigned a value but never used.","'AIlossAmount' is assigned a value but never used.","'totalAIROI' is assigned a value but never used.","'totalAIInvestment' is assigned a value but never used.","'totalAIProfit' is assigned a value but never used.","'userTipList' is defined but never used.","'roundXG' is defined but never used.","'normalizeDifference' is defined but never used.","'predictScore' is defined but never used.","'findClosestProperty' is defined but never used.","'homeOverallVsAwayOverallComparison' is assigned a value but never used.","'awayOverallVsHomeOverallComparison' is assigned a value but never used.","'pointsComparisonHome' is assigned a value but never used.","'pointsComparisonAway' is assigned a value but never used.","'weighedPointsComparisonHome' is assigned a value but never used.","'weighedPointsComparisonAway' is assigned a value but never used.","'i' is assigned a value but never used.","'homeTwoGameAvg' is assigned a value but never used.","'awayTwoGameAvg' is assigned a value but never used.","'homeComparisonWeighting' is assigned a value but never used.","'awayComparisonWeighting' is assigned a value but never used.",["613"],["614"],"'rollingSOTDiffTotalHome' is assigned a value but never used.","'rollingSOTDiffTotalAway' is assigned a value but never used.","'latestHomeGoalDiff' is defined but never used.","'latestAwayGoalDiff' is defined but never used.","'getEMA' is assigned a value but never used.","'bttsArrayHomeOnly' is assigned a value but never used.","'bttsArrayAwayOnly' is assigned a value but never used.","'resultsArrayHome' is assigned a value but never used.","'resultsArrayAway' is assigned a value but never used.","'awayTeam' is assigned a value but never used.","'getLastGameResult' is defined but never used.","'homeFormTrend' is assigned a value but never used.","'awayFormTrend' is assigned a value but never used.","'homeXGRating' is assigned a value but never used.","'awayXGRating' is assigned a value but never used.","'testArrayHome' is assigned a value but never used.","'testArrayAway' is assigned a value but never used.","'rollingGoalDiffHome' is assigned a value but never used.","'rollingGoalDiffAway' is assigned a value but never used.",["613"],["614"],"'date' is defined but never used.","'stripLinks' is defined but never used.",["613"],["614"],"'TeamOfTheWeek' is defined but never used.","'createStatsDiv' is defined but never used.","'formObjectHome' is defined but never used.","'setCount' is assigned a value but never used.","'toggle' is defined but never used.",["613"],["614"],"'config' is assigned a value but never used.","'largest' is assigned a value but never used.",["613"],["614"],["613"],["614"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","ArrayExpression",["615"],"jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","JSXOpeningElement","'BarChartTwo' is defined but never used.","'DoughnutChart' is defined but never used.","'getTeamStats' is defined but never used.","'finalPropsSelectorFactory' is defined but never used.","React Hook useEffect has an unnecessary dependency: 'userTips'. Either exclude it or remove the dependency array. Outer scope values like 'userTips' aren't valid dependencies because mutating them doesn't re-render the component.",["616"],"'hasCompleteData' is assigned a value but never used.","'setHomeXGRating' is assigned a value but never used.","'setAwayXGRating' is assigned a value but never used.","'setRollingSOTDiffTotalHome' is assigned a value but never used.","'similarGamesHome' is assigned a value but never used.","'setSimilarGamesHome' is assigned a value but never used.","'similarGamesAway' is assigned a value but never used.","'setSimilarGamesAway' is assigned a value but never used.","'setHomeAttackStrengthLast5' is assigned a value but never used.","'setHomeOnlyAttackStrength' is assigned a value but never used.","'setHomeDefenceStrengthLast5' is assigned a value but never used.","'setHomeOnlyDefenceStrength' is assigned a value but never used.","'setHomePossessionStrengthLast5' is assigned a value but never used.","'setHomeOnlyPossessionStrength' is assigned a value but never used.","'setHomeXGForStrengthLast5' is assigned a value but never used.","'setHomeOnlyXGForStrength' is assigned a value but never used.","'setHomeXGAgainstStrengthLast5' is assigned a value but never used.","'setHomeOnlyXGAgainstStrength' is assigned a value but never used.","'setHomeDirectnessStrengthLast5' is assigned a value but never used.","'setHomeOnlyDirectnessStrength' is assigned a value but never used.","'setHomeAccuracyOverallStrengthLast5' is assigned a value but never used.","'setAwayAttackStrengthLast5' is assigned a value but never used.","'setAwayOnlyAttackStrength' is assigned a value but never used.","'setAwayDefenceStrengthLast5' is assigned a value but never used.","'setAwayOnlyDefenceStrength' is assigned a value but never used.","'setAwayPossessionStrengthLast5' is assigned a value but never used.","'setAwayOnlyPossessionStrength' is assigned a value but never used.","'setAwayXGForStrengthLast5' is assigned a value but never used.","'setAwayOnlyXGForStrength' is assigned a value but never used.","'setAwayXGAgainstStrengthLast5' is assigned a value but never used.","'setAwayOnlyXGAgainstStrength' is assigned a value but never used.","'setAwayDirectnessStrengthLast5' is assigned a value but never used.","'setAwayOnlyDirectnessStrength' is assigned a value but never used.","'setAwayAccuracyOverallStrengthLast5' is assigned a value but never used.","'setGameArrayHomeTeamHomeGames' is assigned a value but never used.","'setGameArrayAwayTeamAwayGames' is assigned a value but never used.","'setDivider' is assigned a value but never used.","'ref' is defined but never used.","'resultHome' is assigned a value but never used.","'resultHomeOnly' is assigned a value but never used.","'resultAway' is assigned a value but never used.","'resultAwayOnly' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'awayForm.LeaguePosition', 'awayForm.allTeamResults', 'awayForm.teamName', 'game', 'homeForm.LeaguePosition', 'homeForm.allTeamResults', and 'homeForm.teamName'. Either include them or remove the dependency array.",["617"],"React Hook useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","CallExpression","'Line' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"618","fix":"619"},{"desc":"620","fix":"621"},{"desc":"622","fix":"623"},"Update the dependencies array to be: [fetchData]",{"range":"624","text":"625"},"Update the dependencies array to be: []",{"range":"626","text":"627"},"Update the dependencies array to be: [awayForm.LeaguePosition, awayForm.allTeamResults, awayForm.teamName, game, homeForm.LeaguePosition, homeForm.allTeamResults, homeForm.teamName]",{"range":"628","text":"629"},[510,512],"[fetchData]",[2157,2167],"[]",[2107,2181],"[awayForm.LeaguePosition, awayForm.allTeamResults, awayForm.teamName, game, homeForm.LeaguePosition, homeForm.allTeamResults, homeForm.teamName]"]