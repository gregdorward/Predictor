(this["webpackJsonpfootball-predictions"]=this["webpackJsonpfootball-predictions"]||[]).push([[0],{14:function(e,t){},21:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(2),s=a.n(r),c=a(4),o=a.n(c),i=(a(21),a(1)),l=a.n(i),u=a(3);var d=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Predictor"})})},m=a(6),p=a(7),f=a(9),h=a(8),b=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleOptionChange=function(){n.setState({selectedOption:n.props.value})},n.state={selectedOption:n.props.value},n}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsx)("section",{className:"dark",children:Object(n.jsx)("div",{className:this.props.className,children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"radio",name:"lastGames",checked:this.state.checked,onChange:this.handleOptionChange}),Object(n.jsx)("span",{className:"design"}),Object(n.jsxs)("span",{className:"text",children:["Last ",this.props.value," games"]})]})})})}}]),a}(r.Component);function g(e){return Object(n.jsx)("div",{id:"Button",children:Object(n.jsx)("button",{variant:"primary",type:"button",onClick:e.onClickEvent,children:e.text})})}var j,x=a(13),v=a(5),y=(a(14),[]);function O(e,t){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",parseFloat(t-a).toFixed(2));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=!0,e.next=e.t0===t<.49?3:e.t0===(t>=.5&&t<=1)?5:e.t0===(t>=1.01&&t<=1.25)?7:e.t0===(t>=1.26&&t<=1.5)?9:e.t0===(t>=1.51&&t<=2)?11:e.t0===(t>=2.01&&t<=2.5)?13:e.t0===(t>=2.51&&t<=3)?15:17;break;case 3:return a="#CD5C5C",e.abrupt("break",19);case 5:return a="#F08080",e.abrupt("break",19);case 7:return a="#FFA07A",e.abrupt("break",19);case 9:return a="#FFFFE0",e.abrupt("break",19);case 11:return a="#CFDBC5",e.abrupt("break",19);case 13:return a="#8AA37B",e.abrupt("break",19);case 15:return a="#3F6826",e.abrupt("break",19);case 17:return a="white",e.abrupt("break",19);case 19:return e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,a){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(l.a.mark((function e(t,a,n){var r,s,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},5===(s=parseInt(n))?(c=0,j=5):6===s?(c=1,j=6):10===s&&(c=2,j=10),console.log("RADIO VALUE + "+s),console.log("INDEX VALUE = "+c),e.next=7,fetch(se+"https://api.footystats.org/lastx?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&team_id=")+t);case 7:return o=e.sent,e.next=10,o.json().then((function(e){var t;switch(console.log(e),r.averageXGConceded=e.data[c].stats.xg_against_avg_overall,r.name=e.data[c].name,"home"===a?(r.averageXG=e.data[c].stats.xg_for_avg_home,r.averageGoals=e.data[c].stats.seasonScoredAVG_home,r.bttsPercentage=e.data[c].stats.seasonBTTSPercentage_home,r.averageGoalsConceded=e.data[c].stats.seasonConceded_overall/j,t=parseInt(e.data[c].stats.seasonCSPercentage_home)):"away"===a&&(r.averageXG=e.data[c].stats.xg_for_avg_away,r.averageGoals=e.data[c].stats.seasonScoredAVG_away,r.bttsPercentage=e.data[c].stats.seasonBTTSPercentage_away,r.averageGoalsConceded=e.data[c].stats.seasonConceded_overall/j,t=parseInt(e.data[c].stats.seasonCSPercentage_away)),0!=parseFloat(r.averageXG).toFixed(2)?r.finishingScore=parseFloat((r.averageGoals/r.averageXG).toFixed(2)):r.finishingScore=0,0!=parseFloat(r.averageGoalsConceded).toFixed(2)?r.goalieRating=parseFloat((r.averageXGConceded/r.averageGoalsConceded).toFixed(2)):r.goalieRating=2,r.forecastedXG=r.averageXG*r.finishingScore,!0){case t<20:r.defenceRating=0;break;case t>=20&&t<40:r.defenceRating=.2;break;case t>=40&&t<60:r.defenceRating=.4;break;case t>=60&&t<80:r.defenceRating=.8;break;case t>=80:r.defenceRating=1}}));case 10:return e.t0=parseFloat,e.next=13,O(r.finishingScore,1);case 13:return e.t1=e.sent,r.finalFinishingScore=(0,e.t0)(e.t1),e.t2=parseFloat,e.next=18,O(r.goalieRating,1);case 18:return e.t3=e.sent,r.finalGoalieRating=(0,e.t2)(e.t3),y.push(r),console.log(r),e.abrupt("return",r);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return Object(n.jsx)("img",{src:"https://cdn.footystats.org/img/".concat(e.image),className:e.ClassName,alt:e.alt,"flex-shrink":e.flexShrink})}var B,G,T=a(15),S=a.n(T),P=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.handleOnClick=function(){e.setState((function(e){return{isOpen:!e.isOpen}}))},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{style:{fontFamily:"sans-serif"},children:[Object(n.jsx)("button",{onClick:this.handleOnClick,children:"info"}),this.state.isOpen&&Object(n.jsx)(S.a,{className:"Collapsable",children:"Fixtures including each team's points per game picked up at home or away"})]})}}]),a}(r.Component);function A(e){return!1===e.result?(console.log(e.fixtures),Object(n.jsx)("ul",{id:"fixtures",className:"container",children:Object(n.jsxs)("div",{className:"fixture",children:[Object(n.jsx)(P,{}),e.fixtures.map((function(e){return Object(n.jsxs)("li",{onMouseEnter:function(e){return e.target.style.color="orange"},onMouseLeave:function(e){return e.target.style.color=""},className:"individualFixture",children:[Object(n.jsx)("div",{className:"homeForm",style:{backgroundColor:e.homeFormColour},children:e.homePpg}),Object(n.jsx)("div",{className:"homeTeam",children:e.homeTeam}),Object(n.jsx)("div",{className:"divider",children:"V"}),Object(n.jsx)("div",{className:"awayTeam",children:e.awayTeam}),Object(n.jsx)("div",{className:"awayForm",style:{backgroundColor:e.awayFormColour},children:e.awayPpg}),Object(n.jsx)(N,{image:e.homeBadge,ClassName:"HomeBadge",alt:"Home team badge",flexShrink:5}),Object(n.jsx)(N,{image:e.awayBadge,ClassName:"AwayBadge",alt:"Away team badge"})]},e.id)}))]})})):!0===e.result?Object(n.jsx)("ul",{id:"fixtures",className:"container",children:Object(n.jsxs)("div",{className:"fixture",children:[Object(n.jsx)(P,{}),e.matches.map((function(e){return Object(n.jsxs)("li",{onMouseEnter:function(e){return e.target.style.color="orange"},onMouseLeave:function(e){return e.target.style.color=""},className:"individualFixture",children:[Object(n.jsx)("div",{className:"homeForm",style:{backgroundColor:e.homeFormColour},children:e.homePpg}),Object(n.jsx)("div",{className:"homeTeam",children:e.homeTeam}),Object(n.jsx)("div",{className:"score",children:"".concat(e.goalsA," - ").concat(e.goalsB)}),Object(n.jsx)("div",{className:"awayTeam",children:e.awayTeam}),Object(n.jsx)("div",{className:"awayForm",style:{backgroundColor:e.awayFormColour},children:e.awayPpg}),Object(n.jsx)(N,{image:e.homeBadge,ClassName:"HomeBadge",alt:"Home team badge",flexShrink:5}),Object(n.jsx)(N,{image:e.awayBadge,ClassName:"AwayBadge",alt:"Away team badge"})]},e.id)}))]})}):void 0}function R(e){return I.apply(this,arguments)}function I(){return(I=Object(u.a)(l.a.mark((function e(t){var a,n,r,s,c,o,i,u,d,m,p,f,h,b,g,j,x,v,y,w,F,k,C,_,N,B;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0==t.homeOdds&&0==t.awayOdds?(a=0,n=0):(a=(1/t.homeOdds).toFixed(2),n=(1/t.awayOdds).toFixed(2)),r=t.homeTeamForm,s=t.awayTeamForm,c=r.finalFinishingScore,o=parseFloat(r.defenceRating),i=r.finalGoalieRating,u=r.forecastedXG,d=(o+i)/2,m=s.finalFinishingScore,p=parseFloat(s.defenceRating),f=s.finalGoalieRating,h=s.forecastedXG,b=(p+f)/2,g=parseFloat(t.homeXG),j=parseFloat(t.awayXG),x=(u+g)/2,v=(h+j)/2,y=parseFloat(a),w=parseFloat(n),e.next=21,O(y,w);case 21:return e.t0=e.sent,F=(1*e.t0).toFixed(2),e.next=25,O(w,y);case 25:return e.t1=e.sent,k=(1*e.t1).toFixed(2),C=parseFloat(F+c)-b,_=parseFloat(k+m)-d,C<-1&&(_-=C/2,C=-1),_<-1&&(C-=_/2,_=-1),N=Math.round(parseFloat(x)+C),B=Math.round(parseFloat(v)+_),e.abrupt("return",[N,B]);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return X.apply(this,arguments)}function X(){return(X=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(L.map(function(){var e=Object(u.a)(l.a.mark((function e(t){var a,r,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:a=e.sent,r=Object(v.a)(a,2),s=r[0],c=r[1],t.goalsA=s,t.goalsB=c,"suspended"===t.status&&(s="P",c="P"),o.a.render(Object(n.jsx)(A,{match:t,matches:L,result:!0}),document.getElementById("FixtureContainer"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D,L=[],M=[],V=(new Date).toLocaleDateString("en-US").split("/"),H=Object(v.a)(V,3),U=H[0],J=H[1],Y=H[2],K=new Date;K.setDate((new Date).getDate()+1);var q=K.toLocaleDateString("en-US").split("/"),z=Object(v.a)(q,3),Q=z[0],W=z[1],Z=z[2],$="https://api.footystats.org/todays-matches?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&date=").concat(Y,"-").concat(U,"-").concat(J),ee="https://api.footystats.org/todays-matches?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&date=").concat(Z,"-").concat(Q,"-").concat(W);function te(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("3"),t.game=t.homeTeam+" v "+t.awayTeam,o.a.render(Object(n.jsx)(A,{fixtures:L,result:!1}),document.getElementById("FixtureContainer")),t.id;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(u.a)(l.a.mark((function e(t,a){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D=a,console.log("This is the radio state "+D),e.next=4,fetch(se+t);case 4:return B=e.sent,e.next=7,B.json().then((function(e){G=Array.from(e.data)}));case 7:r=l.a.mark((function e(t){var a,n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M=G.filter((function(e){return e.competition_id===oe[t].element.id})),a=Object(x.a)(M),e.prev=2,a.s();case 4:if((n=a.n()).done){e.next=42;break}return r=n.value,(s={}).id=r.id,s.homeTeam=r.home_name,s.awayTeam=r.away_name,s.homeOdds=r.odds_ft_1,s.awayOdds=r.odds_ft_2,s.homeId=r.homeID,s.awayId=r.awayID,e.next=16,C(s.homeId,"home",D);case 16:return s.homeTeamForm=e.sent,e.next=19,C(s.awayId,"away",D);case 19:return s.awayTeamForm=e.sent,s.homeBadge=r.home_image,s.awayBadge=r.away_image,s.homeXG=parseFloat(r.team_a_xg_prematch),s.awayXG=parseFloat(r.team_b_xg_prematch),s.homePpg=r.home_ppg.toFixed(2),console.log("1"),e.next=28,F(s.homePpg);case 28:return s.homeFormColour=e.sent,s.awayPpg=r.away_ppg.toFixed(2),e.next=32,F(s.awayPpg);case 32:return s.awayFormColour=e.sent,console.log("2"),s.status=r.status,s.btts_potential=r.btts_potential,s.game=s.homeTeam+" v "+s.awayTeam,L.push(s),e.next=40,te(s);case 40:e.next=4;break;case 42:e.next=47;break;case 44:e.prev=44,e.t0=e.catch(2),a.e(e.t0);case 47:return e.prev=47,a.f(),e.finish(47);case 50:case"end":return e.stop()}}),e,null,[[2,44,47,50]])})),s=0;case 9:if(!(s<oe.length)){e.next=14;break}return e.delegateYield(r(s),"t0",11);case 11:s++,e.next=9;break;case 14:o.a.render(Object(n.jsx)(g,{text:"Get Predictions",onClickEvent:function(){return E()}}),document.getElementById("Buttons"));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(26).config();var se="https://safe-caverns-99679.herokuapp.com/",ce=[];console.log("KEY"),console.log("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b");var oe=[];!function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,r,s,c,i,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(se+"https://api.footystats.org/league-list?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&chosen_leagues_only=true"));case 2:return t=e.sent,e.next=5,t.json().then((function(e){a=Array.from(e.data)}));case 5:for(r=0;r<a.length;r++)for(s=a[r],c=a[r].name,i=0;i<s.season.length;i++)20202021===(d=s.season[i]).year&&oe.push({name:c,element:d});o.a.render(Object(n.jsxs)("div",{className:"LastXGames",children:[Object(n.jsx)(b,{value:"5",label:"form based on last 5 games",className:"FormRadio"}),Object(n.jsx)(b,{value:"6",label:"form based on last 6 games",className:"FormRadio"}),Object(n.jsx)(b,{value:"10",label:"form based on last 10 games",className:"FormRadio"})]}),document.getElementById("RadioButtons")),o.a.render(Object(n.jsxs)("div",{className:"FixtureButtons",children:[Object(n.jsx)(g,{text:"Get Today's Fixtures",onClickEvent:Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ce,e.next=3,ne($,"5");case 3:return e.t1=e.sent,e.abrupt("return",e.t0.push.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})))}),Object(n.jsx)(g,{text:"Get Tomorros's Fixtures",onClickEvent:Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ce,e.next=3,ne(ee,"5");case 3:return e.t1=e.sent,e.abrupt("return",e.t0.push.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})))})]}),document.getElementById("Buttons"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();var ie=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(d,{}),Object(n.jsx)("div",{id:"RadioButtons"}),Object(n.jsx)("div",{id:"Day"}),Object(n.jsx)("div",{id:"Buttons"}),Object(n.jsx)("div",{id:"homeBadge"}),Object(n.jsx)("div",{id:"FixtureContainer"})]})},le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,30)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(ie,{})}),document.getElementById("root")),le()}},[[29,1,2]]]);
//# sourceMappingURL=main.08f7a824.chunk.js.map