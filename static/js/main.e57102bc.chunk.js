(this.webpackJsonppredictor=this.webpackJsonppredictor||[]).push([[0],{20:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(2),s=a.n(r),o=a(4),c=a.n(o),i=(a(20),a(1)),l=a.n(i),u=a(3);var d=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Predictor"})})},m=a(6),f=a(7),p=a(9),h=a(8),b="5",x=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleOptionChange=function(){n.setState({selectedOption:n.props.value}),b=n.state.selectedOption},n.state={selectedOption:n.props.value},n}return Object(f.a)(a,[{key:"render",value:function(){return Object(n.jsx)("section",{className:"dark",children:Object(n.jsx)("div",{className:this.props.className,children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"radio",name:"lastGames",checked:this.state.checked,onChange:this.handleOptionChange}),Object(n.jsx)("span",{className:"design"}),Object(n.jsxs)("span",{className:"text",children:["Last ",this.props.value," games"]})]})})})}}]),a}(r.Component);function g(e){return Object(n.jsx)("div",{id:"Button",children:Object(n.jsx)("button",{variant:"primary",type:"button",onClick:e.onClickEvent,children:e.text})})}var j=a(13),v=a(5);function O(e){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=!0,e.next=e.t0===t<.49?3:e.t0===(t>=.5&&t<=1)?5:e.t0===(t>=1.01&&t<=1.25)?7:e.t0===(t>=1.26&&t<=1.5)?9:e.t0===(t>=1.51&&t<=2)?11:e.t0===(t>=2.01&&t<=2.5)?13:e.t0===(t>=2.51&&t<=3)?15:17;break;case 3:return a="#CD5C5C",e.abrupt("break",19);case 5:return a="#F08080",e.abrupt("break",19);case 7:return a="#FFA07A",e.abrupt("break",19);case 9:return a="#FFFFE0",e.abrupt("break",19);case 11:return a="#CFDBC5",e.abrupt("break",19);case 13:return a="#8AA37B",e.abrupt("break",19);case 15:return a="#3F6826",e.abrupt("break",19);case 17:return a="white",e.abrupt("break",19);case 19:return e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(l.a.mark((function e(t){var a,n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[t.homeId,t.awayId],n=[],r=l.a.mark((function e(t){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a[t],e.next=3,fetch(ie+"https://api.footystats.org/lastx?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&team_id=")+r);case 3:return s=e.sent,e.next=6,s.json().then((function(e){n[t]=e}));case 6:case"end":return e.stop()}}),e)})),s=0;case 4:if(!(s<a.length)){e.next=9;break}return e.delegateYield(r(s),"t0",6);case 6:s++,e.next=4;break;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return Object(n.jsx)("img",{src:"https://cdn.footystats.org/img/".concat(e.image),className:e.ClassName,alt:e.alt,"flex-shrink":e.flexShrink})}var _=a(14),T=a.n(_),A=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.handleOnClick=function(){e.setState((function(e){return{isOpen:!e.isOpen}}))},e}return Object(f.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{style:{fontFamily:"sans-serif"},children:[Object(n.jsx)("button",{onClick:this.handleOnClick,children:"info"}),this.state.isOpen&&Object(n.jsx)(T.a,{className:"Collapsable",children:'Fixtures including each team\'s points per game picked up at home or away. Click on "Get Predictions" to get predictions based on form data. Click on an individual fixture for detailed stats. If you change your form selection, re-tapping the fixture will fetch new form data. You can also fetch fresh predictions based on the newly selected option by re-tapping on "Get Predictions" If no form radio button is chosen, the last 5 games will be used by default'})]})}}]),a}(r.Component);var N=function(e){return Object(n.jsxs)("ul",{className:e.className,children:[Object(n.jsx)("li",{children:"Team name - ".concat(e.name)},e.name),Object(n.jsx)("li",{className:"TeamScored",children:"Average goals scored - ".concat(e.goals)},"TeamScored"),Object(n.jsx)("li",{className:"TeamConceeded",children:"Average goals conceeded - ".concat(e.conceeded)},"TeamConceeded"),Object(n.jsx)("li",{className:"TeamPossession",children:"Average possession - ".concat(e.possession,"%")},"TeamPossession"),Object(n.jsx)("li",{className:"TeamXG",children:"Average XG - ".concat(e.XG)},"TeamXG"),Object(n.jsx)("li",{className:"AverageSOT",children:"Average shots on target - ".concat(e.sot)},"AverageSOT")]})};var C,G,S=function(e){return Object(n.jsx)("div",{className:e.className,children:e.text})};function B(){return(B=Object(u.a)(l.a.mark((function e(t){var a,r,s,o,i,u,d,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:5===(a=parseInt(b))?(r=0,s=5):6===a?(r=1,s=6):10===a&&(r=2,s=10),o=t.homeTeam,i=t.awayTeam,u=t.time,[].push({btts:t.btts_potential}),(d=[]).push({name:t.homeTeam,AverageGoals:(t.form.allHomeForm[r].stats.seasonScoredNum_overall/s).toFixed(2),AverageConceeded:(t.form.allHomeForm[r].stats.seasonConcededNum_overall/s).toFixed(2),AverageXG:t.form.allHomeForm[r].stats.xg_for_avg_overall,AveragePossession:t.form.allHomeForm[r].stats.possessionAVG_overall,AverageSOT:t.form.allHomeForm[r].stats.shotsOnTargetAVG_overall,homeOrAway:"Home"}),(m=[]).push({name:t.awayTeam,AverageGoals:(t.form.allAwayForm[r].stats.seasonScoredNum_overall/s).toFixed(2),AverageConceeded:(t.form.allAwayForm[r].stats.seasonConcededNum_overall/s).toFixed(2),AverageXG:t.form.allAwayForm[r].stats.xg_for_avg_overall,AveragePossession:t.form.allAwayForm[r].stats.possessionAVG_overall,AverageSOT:t.form.allAwayForm[r].stats.shotsOnTargetAVG_overall,homeOrAway:"Away"}),c.a.render(Object(n.jsx)(S,{className:"MatchTime",text:"Kick off: "+u}),document.getElementById("stats"+o)),c.a.render(Object(n.jsx)(S,{className:"BTTSPotential",text:"BTTS Potential: "+t.btts_potential+"%"}),document.getElementById("BTTSPotential"+t.id)),c.a.render(Object(n.jsx)(N,{className:d[0].homeOrAway,name:d[0].name,goals:d[0].AverageGoals,conceeded:d[0].AverageConceeded,XG:d[0].AverageXG,possession:d[0].AveragePossession,sot:d[0].AverageSOT},d[0].name),document.getElementById("home"+o)),c.a.render(Object(n.jsx)(N,{className:m[0].homeOrAway,name:m[0].name,goals:m[0].AverageGoals,conceeded:m[0].AverageConceeded,XG:m[0].AverageXG,possession:m[0].AveragePossession,sot:m[0].AverageSOT},m[0].name),document.getElementById("away"+i));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var t=e.fixture.status;return!1===e.result&&"complete"!==t?Object(n.jsx)("div",{className:"divider",children:"V"}):"complete"===t?Object(n.jsx)("div",{className:"Result",children:"".concat(e.fixture.homeGoals," - ").concat(e.fixture.awayGoals)}):Object(n.jsx)("div",{className:"score",children:"".concat(e.fixture.goalsA," - ").concat(e.fixture.goalsB)})}function P(e){return Object(n.jsx)("ul",{id:"fixtures",className:"container",children:Object(n.jsxs)("div",{className:"fixture",children:[Object(n.jsx)(A,{}),e.fixtures.map((function(t){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("li",{onMouseEnter:function(e){return e.target.style.color="orange"},onMouseLeave:function(e){return e.target.style.color=""},id:e.highlight,className:"individualFixture",onClick:function(){return function(e){return B.apply(this,arguments)}(t)},children:[Object(n.jsx)("div",{className:"homeForm",style:{backgroundColor:t.homeFormColour},children:t.homePpg}),Object(n.jsx)("div",{className:"homeTeam",children:t.homeTeam}),Object(n.jsx)(I,{result:e.result,status:t.status,fixture:t}),Object(n.jsx)("div",{className:"awayTeam",children:t.awayTeam}),Object(n.jsx)("div",{className:"awayForm",style:{backgroundColor:t.awayFormColour},children:t.awayPpg}),Object(n.jsx)(k,{image:t.homeTeamInfo.badge,ClassName:"HomeBadge",alt:"Home team badge",flexShrink:5}),Object(n.jsx)(k,{image:t.awayTeamInfo.badge,ClassName:"AwayBadge",alt:"Away team badge"})]},t.id),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{id:"stats"+t.homeTeam}),Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)("div",{id:"BTTSPotential"+t.id}),Object(n.jsxs)("div",{className:"StatsContainer",children:[Object(n.jsx)("div",{className:"HomeStats",id:"home"+t.homeTeam}),Object(n.jsx)("div",{className:"AwayStats",id:"away"+t.awayTeam})]})]})]})]})}))]})})}function R(e,t,a){return X.apply(this,arguments)}function X(){return(X=Object(u.a)(l.a.mark((function e(t,a,n){var r,s,o,c,i,u,d,m,f,p,h,b,x,g,j,v,O,y,w,F,k,_,T,A,N;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=[t.form.allHomeForm[a].stats,t.form.allAwayForm[a].stats],c=0;case 2:if(!(c<o.length)){e.next=36;break}0!=parseFloat(o[c].xg_for_avg_overall).toFixed(2)?o[c].finishingScore=parseFloat((o[c].seasonScoredNum_overall/n/o[c].xg_for_avg_overall).toFixed(2)):o[c].finishingScore=0,0!=parseFloat(o[c].seasonConcededNum_overall/n).toFixed(2)?o[c].goalieRating=parseFloat((o[c].xg_against_avg_overall/(o[c].seasonConcededNum_overall/n)).toFixed(2)):o[c].goalieRating=2,o[c].defenceScore=parseInt(o[c].seasonCSPercentage_overall),void 0,i=o[c].defenceScore,e.t0=!0,e.next=e.t0===i<20?11:e.t0===(i>=20&&i<40)?13:e.t0===(i>=40&&i<60)?15:e.t0===(i>=60&&i<80)?17:e.t0===i>=80?19:21;break;case 11:return o[c].defenceRating=0,e.abrupt("break",22);case 13:return o[c].defenceRating=.4,e.abrupt("break",22);case 15:return o[c].defenceRating=.8,e.abrupt("break",22);case 17:return o[c].defenceRating=1.2,e.abrupt("break",22);case 19:return o[c].defenceRating=1.6,e.abrupt("break",22);case 21:return e.abrupt("break",22);case 22:return e.t1=parseFloat,e.next=25,te(o[c].finishingScore,1);case 25:return e.t2=e.sent,o[c].finalFinishingScore=(0,e.t1)(e.t2),e.t3=parseFloat,e.next=30,te(o[c].goalieRating,1);case 30:e.t4=e.sent,o[c].finalGoalieRating=(0,e.t3)(e.t4),o[c].forecastedXG=parseFloat(o[c].xg_for_avg_overall+o[c].finalFinishingScore);case 33:c++,e.next=2;break;case 36:return 0==t.homeOdds&&0==t.awayOdds?(r=0,s=0):(r=(1/t.homeOdds).toFixed(2),s=(1/t.awayOdds).toFixed(2)),u=t.form.allHomeForm[a].stats,d=t.form.allAwayForm[a].stats,m=parseFloat(u.defenceRating),f=u.finalGoalieRating,p=(m+f)/2,h=parseFloat(d.defenceRating),b=d.finalGoalieRating,x=(h+b)/2,g=parseFloat(r),j=parseFloat(s),e.next=49,te(g,j);case 49:return e.t5=e.sent,v=(2*e.t5).toFixed(2),e.next=53,te(j,g);case 53:return e.t6=e.sent,O=(2*e.t6).toFixed(2),y=u.xg_against_avg_overall-1,w=d.xg_against_avg_overall-1,F=parseFloat(v)-(x+w),k=parseFloat(O)-(p+y),_=Math.round(parseFloat(t.homeXG)+F),T=Math.round(parseFloat(t.awayXG)+k),_<0&&(_=0),T<0&&(T=0),A=Math.round(parseFloat(_+u.seasonScoredNum_overall/n+u.forecastedXG)/3),N=Math.round(parseFloat(T+d.seasonScoredNum_overall/n+d.forecastedXG)/3),e.abrupt("return",[A,N]);case 66:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 5===(t=parseInt(b))?(a=0,r=5):6===t?(a=1,r=6):10===t&&(a=2,r=10),e.next=4,Promise.all(H.map(function(){var e=Object(u.a)(l.a.mark((function e(t){var s,o,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t,a,r);case 2:s=e.sent,o=Object(v.a)(s,2),i=o[0],u=o[1],t.goalsA=i,t.goalsB=u,"suspended"===t.status&&(t.goalsA="P",t.goalsB="P"),c.a.render(Object(n.jsx)(P,{fixture:t,fixtures:H,result:!0}),document.getElementById("FixtureContainer"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=[],L=[],M=(new Date).toLocaleDateString("en-US").split("/"),V=Object(v.a)(M,3),U=V[0],Y=V[1],J=V[2],K=new Date;K.setDate((new Date).getDate()+1);var q=K.toLocaleDateString("en-US").split("/"),z=Object(v.a)(q,3),Q=z[0],W=z[1],Z=z[2],$="https://api.footystats.org/todays-matches?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&date=").concat(J,"-").concat(U,"-").concat(Y),ee="https://api.footystats.org/todays-matches?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&date=").concat(Z,"-").concat(Q,"-").concat(W);function te(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",parseFloat(t-a).toFixed(2));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.game=t.homeTeam+" v "+t.awayTeam,c.a.render(Object(n.jsx)(P,{fixtures:H,result:!1,className:"individualFixture"}),document.getElementById("FixtureContainer"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(u.a)(l.a.mark((function e(t,a){var r,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 5===(r=parseInt(a))?s=0:6===r?s=1:10===r&&(s=2),e.next=4,fetch(ie+t);case 4:return C=e.sent,e.next=7,C.json().then((function(e){G=Array.from(e.data)}));case 7:o=l.a.mark((function e(t){var a,n,r,o,c,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L=G.filter((function(e){return e.competition_id===de[t].element.id})),a=Object(j.a)(L),e.prev=2,a.s();case 4:if((n=a.n()).done){e.next=52;break}return r=n.value,o=r.date_unix,c=new Date(1e3*o),(i={}).id=r.id,i.time=c.toLocaleString("en-US",{hour:"numeric"}),i.homeTeam=r.home_name,i.awayTeam=r.away_name,i.homeOdds=r.odds_ft_1,i.awayOdds=r.odds_ft_2,i.homeId=r.homeID,i.awayId=r.awayID,i.form=[],i.homeTeamInfo=[],i.awayTeamInfo=[],e.next=23,w(i);case 23:return u=e.sent,i.form.allHomeForm=u[0].data,i.form.allAwayForm=u[1].data,i.form.homeTeam=u[0].data[s].stats,i.form.awayTeam=u[1].data[s].stats,i.homeTeamInfo.badge=r.home_image,i.awayTeamInfo.badge=r.away_image,i.homeXG=parseFloat(i.form.homeTeam.xg_for_avg_overall),i.awayXG=parseFloat(i.form.awayTeam.xg_for_avg_overall),i.homePpg=r.home_ppg.toFixed(2),e.next=35,O(i.homePpg);case 35:return i.homeFormColour=e.sent,i.awayPpg=r.away_ppg.toFixed(2),e.next=39,O(i.awayPpg);case 39:return i.awayFormColour=e.sent,i.status=r.status,i.btts_potential=r.btts_potential,i.game=i.homeTeam+" v "+i.awayTeam,i.homeGoals=r.homeGoalCount,i.awayGoals=r.awayGoalCount,void 0,0===s?5:1===s?6:2===s&&10,H.push(i),e.next=50,ne(i);case 50:e.next=4;break;case 52:e.next=57;break;case 54:e.prev=54,e.t0=e.catch(2),a.e(e.t0);case 57:return e.prev=57,a.f(),e.finish(57);case 60:case"end":return e.stop()}}),e,null,[[2,54,57,60]])})),i=0;case 9:if(!(i<de.length)){e.next=14;break}return e.delegateYield(o(i),"t0",11);case 11:i++,e.next=9;break;case 14:c.a.render(Object(n.jsx)(g,{text:"Get Predictions",onClickEvent:function(){return E()}}),document.getElementById("Buttons"));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=function(e){return Object(n.jsx)("div",{className:e.className,children:Object(n.jsx)("div",{children:e.text})})};a(25).config();var ie="https://safe-caverns-99679.herokuapp.com/",le=[],ue=[],de=[];!function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,r,s,o,i,d,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ie+"https://api.footystats.org/league-list?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&chosen_leagues_only=true"));case 2:return t=e.sent,e.next=5,t.json().then((function(e){a=Array.from(e.data)}));case 5:for(r=0;r<a.length;r++){for(m=function(e,t,a){return e.sort((function(e,n){var r=e.element[a],s=n.element[a];return t.indexOf(r)>t.indexOf(s)?1:-1})),e},s=a[r],o=a[r].name,i=0;i<s.season.length;i++)20202021===(d=s.season[i]).year&&ue.push({name:o,element:d});de=m(ue,[4759,4912,4845,4844,5018,4944,4478,4673,4889,4889,4746,4567,4505,4842,4972,4676,4645,4547,4902,4903,4803,5151,4930,4655,4930,4693],"id")}c.a.render(Object(n.jsxs)("div",{className:"LastXGames",children:[Object(n.jsx)(x,{value:"5",label:"form based on last 5 games",className:"FormRadio"}),Object(n.jsx)(x,{value:"6",label:"form based on last 6 games",className:"FormRadio"}),Object(n.jsx)(x,{value:"10",label:"form based on last 10 games",className:"FormRadio"})]}),document.getElementById("RadioButtons")),c.a.render(Object(n.jsx)(ce,{text:"Select how many games you would like to fetch form data for",className:"RadioText"}),document.getElementById("RadioText")),c.a.render(Object(n.jsxs)("div",{className:"FixtureButtons",children:[Object(n.jsx)(g,{text:"Get Today's Fixtures",onClickEvent:Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=le,e.next=3,se($,b);case 3:return e.t1=e.sent,e.abrupt("return",e.t0.push.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})))}),Object(n.jsx)(g,{text:"Get Tomorrow's Fixtures",onClickEvent:Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=le,e.next=3,se(ee,b);case 3:return e.t1=e.sent,e.abrupt("return",e.t0.push.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})))})]}),document.getElementById("Buttons"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();var me=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(d,{}),Object(n.jsxs)("div",{id:"RadioContainer",className:"RadioContainer",children:[Object(n.jsx)("div",{id:"RadioText"}),Object(n.jsx)("div",{id:"RadioButtons"})]}),Object(n.jsx)("div",{id:"Day"}),Object(n.jsx)("div",{id:"Buttons"}),Object(n.jsx)("div",{id:"homeBadge"}),Object(n.jsx)("div",{id:"FixtureContainer"})]})},fe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,29)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),s(e),o(e)}))};c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(me,{})}),document.getElementById("root")),fe()}},[[28,1,2]]]);
//# sourceMappingURL=main.e57102bc.chunk.js.map