(this.webpackJsonppredictor=this.webpackJsonppredictor||[]).push([[0],{20:function(e,a,t){},28:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t(2),r=t.n(s),c=t(4),o=t.n(c),i=(t(20),t(1)),d=t.n(i),l=t(3);var u=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Predictor"})})},m=t(6),h=t(7),p=t(9),f=t(8),g="5",b=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).handleOptionChange=function(){n.setState({selectedOption:n.props.value}),g=n.state.selectedOption},n.state={selectedOption:n.props.value},n}return Object(h.a)(t,[{key:"render",value:function(){return Object(n.jsx)("section",{className:"dark",children:Object(n.jsx)("div",{className:this.props.className,children:Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"radio",name:"lastGames",checked:this.state.checked,onChange:this.handleOptionChange}),Object(n.jsx)("span",{className:"design"}),Object(n.jsxs)("span",{className:"text",children:["Last ",this.props.value," games"]})]})})})}}]),t}(s.Component);function j(e){return Object(n.jsx)("div",{id:"Button",children:Object(n.jsx)("button",{variant:"primary",type:"button",onClick:e.onClickEvent,children:e.text})})}var x=t(13),v=t(5),O=[];function y(e,a){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(d.a.mark((function e(a,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",parseFloat(a-t).toFixed(2));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return F.apply(this,arguments)}function F(){return(F=Object(l.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=!0,e.next=e.t0===a<.49?3:e.t0===(a>=.5&&a<=1)?5:e.t0===(a>=1.01&&a<=1.25)?7:e.t0===(a>=1.26&&a<=1.5)?9:e.t0===(a>=1.51&&a<=2)?11:e.t0===(a>=2.01&&a<=2.5)?13:e.t0===(a>=2.51&&a<=3)?15:17;break;case 3:return t="#CD5C5C",e.abrupt("break",19);case 5:return t="#F08080",e.abrupt("break",19);case 7:return t="#FFA07A",e.abrupt("break",19);case 9:return t="#FFFFE0",e.abrupt("break",19);case 11:return t="#CFDBC5",e.abrupt("break",19);case 13:return t="#8AA37B",e.abrupt("break",19);case 15:return t="#3F6826",e.abrupt("break",19);case 17:return t="white",e.abrupt("break",19);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,a,t){return A.apply(this,arguments)}function A(){return(A=Object(l.a)(d.a.mark((function e(a,t,n){var s,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={},5===(r=parseInt(n))?c=0:6===r?c=1:10===r&&(c=2),e.next=5,fetch(me+"https://api.footystats.org/lastx?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&team_id=")+a);case 5:return o=e.sent,e.next=8,o.json().then((function(e){var a;switch(s.averageXGConceded=e.data[c].stats.xg_against_avg_overall,s.name=e.data[c].name,"home"===t?(s.averageXG=e.data[c].stats.xg_for_avg_overall,s.averageGoals=e.data[c].stats.seasonScoredAVG_home,s.bttsPercentage=e.data[c].stats.seasonBTTSPercentage_home,s.possessionAVG=e.data[c].stats.possessionAVG_home,s.shotsAVG=e.data[c].stats.shotsAVG_home,s.sot=e.data[c].stats.shotsOnTargetAVG_home,s.averageGoalsConceded=e.data[c].stats.seasonConcededAVG_home,a=parseInt(e.data[c].stats.seasonCSPercentage_home)):"away"===t&&(s.averageXG=e.data[c].stats.xg_for_avg_overall,s.averageGoals=e.data[c].stats.seasonScoredAVG_away,s.bttsPercentage=e.data[c].stats.seasonBTTSPercentage_away,s.possessionAVG=e.data[c].stats.possessionAVG_away,s.shotsAVG=e.data[c].stats.shotsAVG_away,s.sot=e.data[c].stats.shotsOnTargetAVG_away,s.averageGoalsConceded=e.data[c].stats.seasonConcededAVG_away,a=parseInt(e.data[c].stats.seasonCSPercentage_away)),0!=parseFloat(s.averageXG).toFixed(2)?s.finishingScore=parseFloat((s.averageGoals/s.averageXG).toFixed(2)):s.finishingScore=0,0!=parseFloat(s.averageGoalsConceded).toFixed(2)?s.goalieRating=parseFloat((s.averageXGConceded/s.averageGoalsConceded).toFixed(2)):s.goalieRating=2,s.forecastedXG=s.averageXG*s.finishingScore,!0){case a<20:s.defenceRating=0;break;case a>=20&&a<40:s.defenceRating=.3;break;case a>=40&&a<60:s.defenceRating=.6;break;case a>=60&&a<80:s.defenceRating=.9;break;case a>=80:s.defenceRating=1}}));case 8:return e.t0=parseFloat,e.next=11,y(s.finishingScore,1);case 11:return e.t1=e.sent,s.finalFinishingScore=(0,e.t0)(e.t1),e.t2=parseFloat,e.next=16,y(s.goalieRating,1);case 16:return e.t3=e.sent,s.finalGoalieRating=(0,e.t2)(e.t3),O.push(s),e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return Object(n.jsx)("img",{src:"https://cdn.footystats.org/img/".concat(e.image),className:e.ClassName,alt:e.alt,"flex-shrink":e.flexShrink})}var T=t(14),N=t.n(T),_=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).state={isOpen:!1},e.handleOnClick=function(){e.setState((function(e){return{isOpen:!e.isOpen}}))},e}return Object(h.a)(t,[{key:"render",value:function(){return Object(n.jsxs)("div",{style:{fontFamily:"sans-serif"},children:[Object(n.jsx)("button",{onClick:this.handleOnClick,children:"info"}),this.state.isOpen&&Object(n.jsx)(N.a,{className:"Collapsable",children:"Fixtures including each team's points per game picked up at home or away. Click on an individual feature for detailed stats. If no form radio button is chosen, the last 5 games will be used by default"})]})}}]),t}(s.Component);var S=function(e){return Object(n.jsxs)("ul",{className:e.className,children:[Object(n.jsx)("li",{children:"Team name - ".concat(e.name)},e.name),Object(n.jsx)("li",{className:"TeamScored",children:"Average goals scored - ".concat(e.goals)},"TeamScored"),Object(n.jsx)("li",{className:"TeamConceeded",children:"Average goals conceeded - ".concat(e.conceeded)},"TeamConceeded"),Object(n.jsx)("li",{className:"TeamPossession",children:"Average possession - ".concat(e.possession,"%")},"TeamPossession"),Object(n.jsx)("li",{className:"TeamXG",children:"Average XG - ".concat(e.XG)},"TeamXG"),Object(n.jsx)("li",{className:"AverageSOT",children:"Average shots on target - ".concat(e.sot)},"AverageSOT")]})};var B,P,X=function(e){return Object(n.jsx)("div",{className:e.className,children:e.text})};function I(e,a){return R.apply(this,arguments)}function R(){return(R=Object(l.a)(d.a.mark((function e(a,t){var s,r,c,i,l,u,m,h,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.homeTeam,r=t.awayTeam,c=t.time,i=s,l=O.findIndex((function(e,a){return e.name===i})),u=r,m=O.findIndex((function(e,a){return e.name===u})),[].push({btts:t.btts_potential}),(h=[]).push({name:O[l].name,AverageGoals:O[l].averageGoals,AverageConceeded:O[l].averageGoalsConceded,AverageXG:O[l].averageXG,AveragePossession:O[l].possessionAVG,AverageSOT:O[l].sot,homeOrAway:"Home"}),(p=[]).push({name:O[m].name,AverageGoals:O[m].averageGoals,AverageConceeded:O[m].averageGoalsConceded,AverageXG:O[m].averageXG,AveragePossession:O[m].possessionAVG,AverageSOT:O[m].sot,homeOrAway:"Away"}),o.a.render(Object(n.jsx)(X,{className:"MatchTime",text:"Kick off: "+c}),document.getElementById("stats"+s)),o.a.render(Object(n.jsx)(X,{className:"BTTSPotential",text:"BTTS Potential: "+t.btts_potential+"%"}),document.getElementById("BTTSPotential"+t.id)),o.a.render(Object(n.jsx)(S,{className:h[0].homeOrAway,name:h[0].name,goals:h[0].AverageGoals,conceeded:h[0].AverageConceeded,XG:h[0].AverageXG,possession:h[0].AveragePossession,sot:h[0].AverageSOT},h[0].name),document.getElementById("home"+s)),o.a.render(Object(n.jsx)(S,{className:p[0].homeOrAway,name:p[0].name,goals:p[0].AverageGoals,conceeded:p[0].AverageConceeded,XG:p[0].AverageXG,possession:p[0].AveragePossession,sot:p[0].AverageSOT},p[0].name),document.getElementById("away"+r));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(l.a)(d.a.mark((function e(a){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(me+"https://api.footystats.org/match?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&match_id=")+a.id);case 2:return t=e.sent,e.next=5,t.json().then((function(e){var a=e.data.trends.team_a,t=e.data.trends.team_b;n=a.concat(t)}));case 5:I(n,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){var a=e.fixture.status;return!1===e.result&&"complete"!==a?Object(n.jsx)("div",{className:"divider",children:"V"}):"complete"===a?Object(n.jsx)("div",{className:"Result",children:"".concat(e.fixture.homeGoals," - ").concat(e.fixture.awayGoals)}):Object(n.jsx)("div",{className:"score",children:"".concat(e.fixture.goalsA," - ").concat(e.fixture.goalsB)})}function D(e){return Object(n.jsx)("ul",{id:"fixtures",className:"container",children:Object(n.jsxs)("div",{className:"fixture",children:[Object(n.jsx)(_,{}),e.fixtures.map((function(a){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("li",{onMouseEnter:function(e){return e.target.style.color="orange"},onMouseLeave:function(e){return e.target.style.color=""},id:e.highlight,className:"individualFixture",onClick:function(){return function(e){return E.apply(this,arguments)}(a)},children:[Object(n.jsx)("div",{className:"homeForm",style:{backgroundColor:a.homeFormColour},children:a.homePpg}),Object(n.jsx)("div",{className:"homeTeam",children:a.homeTeam}),Object(n.jsx)(V,{result:e.result,status:a.status,fixture:a}),Object(n.jsx)("div",{className:"awayTeam",children:a.awayTeam}),Object(n.jsx)("div",{className:"awayForm",style:{backgroundColor:a.awayFormColour},children:a.awayPpg}),Object(n.jsx)(C,{image:a.homeBadge,ClassName:"HomeBadge",alt:"Home team badge",flexShrink:5}),Object(n.jsx)(C,{image:a.awayBadge,ClassName:"AwayBadge",alt:"Away team badge"})]},a.id),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{id:"stats"+a.homeTeam}),Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("div",{id:"BTTSPotential"+a.id}),Object(n.jsxs)("div",{className:"StatsContainer",children:[Object(n.jsx)("div",{className:"HomeStats",id:"home"+a.homeTeam}),Object(n.jsx)("div",{className:"AwayStats",id:"away"+a.awayTeam})]})]})]})]})}))]})})}function M(e){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(d.a.mark((function e(a){var t,n,s,r,c,o,i,l,u,m,h,p,f,g,b,j,x,v,O,w;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0==a.homeOdds&&0==a.awayOdds?(t=0,n=0):(t=(1/a.homeOdds).toFixed(2),n=(1/a.awayOdds).toFixed(2)),s=a.homeTeamForm,r=a.awayTeamForm,c=parseFloat(s.defenceRating),o=s.finalGoalieRating,i=(c+o)/2,l=parseFloat(r.defenceRating),u=r.finalGoalieRating,m=(l+u)/2,h=parseFloat(t),p=parseFloat(n),e.next=13,y(h,p);case 13:return e.t0=e.sent,f=(1*e.t0).toFixed(2),e.next=17,y(p,h);case 17:return e.t1=e.sent,g=(1*e.t1).toFixed(2),b=parseFloat(f)-m,j=parseFloat(g)-i,b<0&&(b=0),j<0&&(j=0),x=Math.round(parseFloat(a.homeXG)+b),v=Math.round(parseFloat(a.awayXG)+j),O=s.finishingScore>=1?Math.ceil(parseFloat(x+s.averageGoals)/2):Math.floor(parseFloat(x+s.averageGoals)/2),w=r.finishingScore>=1?Math.ceil(parseFloat(v+r.averageGoals)/2):Math.floor(parseFloat(v+r.averageGoals)/2),e.abrupt("return",[O,w]);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return U.apply(this,arguments)}function U(){return(U=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(K.map(function(){var e=Object(l.a)(d.a.mark((function e(a){var t,s,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(a);case 2:t=e.sent,s=Object(v.a)(t,2),r=s[0],c=s[1],a.goalsA=r,a.goalsB=c,"suspended"===a.status&&(a.goalsA="P",a.goalsB="P"),o.a.render(Object(n.jsx)(D,{fixture:a,fixtures:K,result:!0}),document.getElementById("FixtureContainer"));case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J,K=[],Y=[],q=(new Date).toLocaleDateString("en-US").split("/"),z=Object(v.a)(q,3),Q=z[0],W=z[1],Z=z[2],$=new Date;$.setDate((new Date).getDate()+1);var ee=$.toLocaleDateString("en-US").split("/"),ae=Object(v.a)(ee,3),te=ae[0],ne=ae[1],se=ae[2],re="https://api.footystats.org/todays-matches?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&date=").concat(Z,"-").concat(Q,"-").concat(W),ce="https://api.footystats.org/todays-matches?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&date=").concat(se,"-").concat(te,"-").concat(ne);function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(l.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.game=a.homeTeam+" v "+a.awayTeam,console.log(a),o.a.render(Object(n.jsx)(D,{fixtures:K,result:!1,className:"individualFixture"}),document.getElementById("FixtureContainer"));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,a){return le.apply(this,arguments)}function le(){return(le=Object(l.a)(d.a.mark((function e(a,t){var s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J=t,e.next=3,fetch(me+a);case 3:return B=e.sent,e.next=6,B.json().then((function(e){P=Array.from(e.data)}));case 6:s=d.a.mark((function e(a){var t,n,s,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y=P.filter((function(e){return e.competition_id===fe[a].element.id})),t=Object(x.a)(Y),e.prev=2,t.s();case 4:if((n=t.n()).done){e.next=46;break}return s=n.value,r=s.date_unix,c=new Date(1e3*r),(o={}).id=s.id,o.time=c.toLocaleString("en-US",{hour:"numeric"}),o.homeTeam=s.home_name,o.awayTeam=s.away_name,o.homeOdds=s.odds_ft_1,o.awayOdds=s.odds_ft_2,o.homeId=s.homeID,o.awayId=s.awayID,e.next=20,k(o.homeId,"home",J);case 20:return o.homeTeamForm=e.sent,e.next=23,k(o.awayId,"away",J);case 23:return o.awayTeamForm=e.sent,o.homeBadge=s.home_image,o.awayBadge=s.away_image,o.homeXG=parseFloat(o.homeTeamForm.averageXG),o.awayXG=parseFloat(o.awayTeamForm.averageXG),o.homePpg=s.home_ppg.toFixed(2),e.next=31,G(o.homePpg);case 31:return o.homeFormColour=e.sent,o.awayPpg=s.away_ppg.toFixed(2),e.next=35,G(o.awayPpg);case 35:return o.awayFormColour=e.sent,o.status=s.status,o.btts_potential=s.btts_potential,o.game=o.homeTeam+" v "+o.awayTeam,o.homeGoals=s.homeGoalCount,o.awayGoals=s.awayGoalCount,K.push(o),e.next=44,oe(o);case 44:e.next=4;break;case 46:e.next=51;break;case 48:e.prev=48,e.t0=e.catch(2),t.e(e.t0);case 51:return e.prev=51,t.f(),e.finish(51);case 54:case"end":return e.stop()}}),e,null,[[2,48,51,54]])})),r=0;case 8:if(!(r<fe.length)){e.next=13;break}return e.delegateYield(s(r),"t0",10);case 10:r++,e.next=8;break;case 13:o.a.render(Object(n.jsx)(j,{text:"Get Predictions",onClickEvent:function(){return H()}}),document.getElementById("Buttons"));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=function(e){return Object(n.jsx)("div",{className:e.className,children:Object(n.jsx)("div",{children:e.text})})};t(25).config();var me="https://safe-caverns-99679.herokuapp.com/",he=[],pe=[],fe=[];!function(){var e=Object(l.a)(d.a.mark((function e(){var a,t,s,r,c,i,u,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(me+"https://api.footystats.org/league-list?key=".concat("b9c4c927b39f4c66a3e3c4e4fbfeff999c911069d1df704de1221230800cd79b","&chosen_leagues_only=true"));case 2:return a=e.sent,e.next=5,a.json().then((function(e){t=Array.from(e.data)}));case 5:for(s=0;s<t.length;s++){for(m=function(e,a,t){return e.sort((function(e,n){var s=e.element[t],r=n.element[t];return a.indexOf(s)>a.indexOf(r)?1:-1})),e},r=t[s],c=t[s].name,i=0;i<r.season.length;i++)20202021===(u=r.season[i]).year&&pe.push({name:c,element:u});fe=m(pe,[4759,4912,4845,4844,5018,4944,4478,4673,4889,4889,4746,4567,4505,4842,4972,4676,4645,4547,4902,4903,4803,5151,4930,4655,4930,4693],"id")}o.a.render(Object(n.jsxs)("div",{className:"LastXGames",children:[Object(n.jsx)(b,{value:"5",label:"form based on last 5 games",className:"FormRadio"}),Object(n.jsx)(b,{value:"6",label:"form based on last 6 games",className:"FormRadio"}),Object(n.jsx)(b,{value:"10",label:"form based on last 10 games",className:"FormRadio"})]}),document.getElementById("RadioButtons")),o.a.render(Object(n.jsx)(ue,{text:"Select how many games you would like to fetch form data for",className:"RadioText"}),document.getElementById("RadioText")),o.a.render(Object(n.jsxs)("div",{className:"FixtureButtons",children:[Object(n.jsx)(j,{text:"Get Today's Fixtures",onClickEvent:Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=he,e.next=3,de(re,g);case 3:return e.t1=e.sent,e.abrupt("return",e.t0.push.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})))}),Object(n.jsx)(j,{text:"Get Tomorrow's Fixtures",onClickEvent:Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=he,e.next=3,de(ce,g);case 3:return e.t1=e.sent,e.abrupt("return",e.t0.push.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})))})]}),document.getElementById("Buttons"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();var ge=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(u,{}),Object(n.jsxs)("div",{id:"RadioContainer",className:"RadioContainer",children:[Object(n.jsx)("div",{id:"RadioText"}),Object(n.jsx)("div",{id:"RadioButtons"})]}),Object(n.jsx)("div",{id:"Day"}),Object(n.jsx)("div",{id:"Buttons"}),Object(n.jsx)("div",{id:"homeBadge"}),Object(n.jsx)("div",{id:"FixtureContainer"})]})},be=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,29)).then((function(a){var t=a.getCLS,n=a.getFID,s=a.getFCP,r=a.getLCP,c=a.getTTFB;t(e),n(e),s(e),r(e),c(e)}))};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(ge,{})}),document.getElementById("root")),be()}},[[28,1,2]]]);
//# sourceMappingURL=main.953dacb5.chunk.js.map